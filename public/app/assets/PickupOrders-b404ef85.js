import{o as d,k as v,w as c,a as i,u as e,h as t,m as O,i as y,q as k,c as g,p as b,s as D,F as B,x as E}from"./index-4352535e.js";import{s as x,a as w}from"./tabpanel.esm-5d7b378f.js";import{c as u,_ as P}from"./ConfirmMixin-1fbce134.js";import{b as H,u as I,_ as C,a as M}from"./useOrderProcessing-63a6fc7e.js";import{b as N,s as f}from"./tag.esm-cdfa0061.js";import"./index.esm-07950154.js";import"./OrdersApiService-7d35ab2b.js";import"./ApiService-ba9a4109.js";import"./_commonjsHelpers-725317a4.js";import"./FilterMultiSelect-46b006dc.js";import"./index.esm-477ec446.js";import"./index-dd28ee9b.js";const V=t("div",null,[t("h1",{class:"mb-4 text-primary-900 font-inter font-semibold text-xl"},[t("i",{class:"pi pi-eye !text-xl"}),y(" Cabecera del documento ")])],-1),F={class:"mt-5"},R=t("div",null,[t("h1",{class:"mb-4 text-primary-900 font-inter font-semibold text-xl"},[t("i",{class:"pi pi-eye !text-xl"}),y(" Preview del documento ")])],-1),T=["src"],A={__name:"DialogDetailBill",setup(_){const s=H();return(r,l)=>(d(),v(e(O),{visible:e(s).visibleBill,"onUpdate:visible":l[0]||(l[0]=a=>e(s).visibleBill=a),maximizable:"",modal:"",header:" ",style:{width:"70vw"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{default:c(()=>[V,i(e(N),{tableStyle:"min-width: 50rem",filters:"filters",value:[e(s).bill]},{default:c(()=>[i(e(f),{headerClass:"!bg-primary-900",field:"DocEntry",header:"DocEntry"}),i(e(f),{headerClass:"!bg-primary-900",field:"FebosID",header:"FebosID"}),i(e(f),{headerClass:"!bg-primary-900",field:"Folio",header:"Folio"})]),_:1},8,["value"]),t("div",F,[R,t("embed",{style:{height:"100vh"},class:"w-full",src:e(s).bill.LinkPDF,type:"application/pdf"},null,8,T)])]),_:1},8,["visible"]))}},G={class:"px-8"},L={class:"flex justify-between"},U={class:"mb-4 text-primary-900 font-inter font-semibold text-2xl"},j=t("i",{class:"pi pi-refresh"},null,-1),q=[j],z={class:"px-8"},J={key:2,style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"}},K=t("h1",{class:"align-center font-inter font-semibold mb-4 text-2xl text-center text-primary-900"}," No hay ordenes actualmente en este proceso ",-1),S={__name:"Manage",props:{status:String,methodShipping:String},setup(_){const s=_,{updateOrders:r,orders:l,search:a,actionMethod:h,visibleDetailsMethod:$,orderStore:o}=I();return k(async()=>{console.log(s.status,s.methodShipping),s.status==="pending"?await r(s.methodShipping).then(()=>{l.value=o.listOrders}):(console.log(s.methodShipping),await o.getOrdersBillManage(s.methodShipping).then(m=>{l.value=m}))}),(m,n)=>(d(),g(B,null,[t("div",G,[t("div",L,[t("h1",U,[y(" Retira / AquÃ­ "),t("a",{style:{cursor:"pointer"},onClick:n[0]||(n[0]=(...p)=>e(r)&&e(r)(...p))},q)]),i(P,{type:e(u).RESPONSIBLE_BILLER,methodShipping:e(u).METHOD_SHIPPING_HERE,orders:e(o).listOrders,onSearch:e(a)},null,8,["type","methodShipping","orders","onSearch"])])]),t("div",z,[i(C,{orders:e(l),actions:m.actions,onAction:e(h)},null,8,["orders","actions","onAction"]),e(o).visibleDialog?(d(),v(M,{key:0,visible:e(o).visibleDialog,"onUpdate:visible":n[1]||(n[1]=p=>e(o).visibleDialog=p),orderDetails:e(o).order,onVisible:e($)},null,8,["visible","orderDetails","onVisible"])):b("",!0),e(o).visibleBill?(d(),v(A,{key:1,visible:e(o).visibleBill,"onUpdate:visible":n[2]||(n[2]=p=>e(o).visibleBill=p)},null,8,["visible"])):b("",!0),e(l).length===0?(d(),g("div",J,[K,i(e(D),{label:"Regresar",severity:"primary",outlined:"",onClick:m.goBack,class:"ml-3 !py-1.5"},null,8,["onClick"])])):b("",!0)])],64))}};const Q={class:"px-3"},ne={__name:"PickupOrders",setup(_){const s=useOrdersBills(),r=ref([]);return watch(()=>s.listOrders,l=>{r.value=s.listOrders}),onBeforeMount(async()=>{await s.getOrdersBillPickupAndHere(),r.value=s.listOrders}),(l,a)=>(d(),g(B,null,[t("div",Q,[i(e(w),{modelValue:l.selectedTab,"onUpdate:modelValue":a[0]||(a[0]=h=>l.selectedTab=h)},{default:c(()=>[i(e(x),{header:"Por gestionar"},{default:c(()=>[i(S,{status:"pending",methodShipping:e(u).METHOD_SHIPPING_HERE},null,8,["methodShipping"])]),_:1}),i(e(x),{header:"Gestionadas"},{default:c(()=>[i(S,{status:"done",methodShipping:e(u).METHOD_SHIPPING_HERE},null,8,["methodShipping"])]),_:1})]),_:1},8,["modelValue"])]),i(e(E))],64))}};export{ne as default};
