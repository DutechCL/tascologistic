import{s as le,a as ue}from"./tabpanel.esm-d11c2d41.js";import{e as M,k as Z,l as ee,o as s,m as h,w as d,h as l,i as j,t as H,a as t,u as e,s as T,p as ae,c as b,F as Y,q as me,v as p,x as pe,f as fe,y as oe,z as m,j as W,A as te,B as be}from"./index-3ef34499.js";import{a as F,b as Q,s as i}from"./tag.esm-e0e60102.js";import{T as he,u as se,_ as ie,s as X}from"./UseFilters-715ccb75.js";import{_ as ye}from"./DialogReportProblem-0a2158f6.js";import{s as _}from"./multiselect.esm-ba12b6cc.js";import{u as re}from"./OrdersApiService-f204f78d.js";import"./index.esm-2b467560.js";import"./index.esm-2323a920.js";const ve=l("h1",{class:"mb-1 text-primary-900 font-inter font-semibold text-xl"},[l("i",{class:"pi pi-eye !text-xl"}),j(" Ver Documentos ")],-1),ge={class:"flex align-center mb-2"},_e={class:"text-primary-900"},xe=l("strong",{class:"mr-3 font-semibold"},"Nota de venta N°",-1),Ce=l("div",{class:"mt-5"},[l("p",null," 2 archivos adjuntos "),l("div",{class:"flex"},[l("div",{class:"mt-2 mr-5",width:"200",height:"180"},[l("embed",{class:"w-full",src:"http://ocw.uv.es/ingenieria-y-arquitectura/programacionmultimedia/t2-1-css.pdf",type:"application/pdf"}),l("div",{class:"bg-gray-100"},[l("i",{class:"pi pi-file-pdf m-2",style:{color:"#F40F02"}}),l("a",{href:"#",class:"font-normal text-sm"},"Nombre de pdf")])]),l("div",{class:"mt-2 mr-5",width:"200",height:"180"},[l("embed",{class:"w-full",src:"http://ocw.uv.es/ingenieria-y-arquitectura/programacionmultimedia/t2-1-css.pdf",type:"application/pdf"}),l("div",{class:"bg-gray-100"},[l("i",{class:"pi pi-file-pdf m-2",style:{color:"#F40F02"}}),l("a",{href:"#",class:"font-normal text-sm"},"Nombre de pdf")])])])],-1),ne={__name:"DialogDetail",props:{order:Object},setup(x,{emit:y}){const f=x,r=M([]);Z(()=>{r.value=f.order}),ee(()=>f.order,v=>{r.value=v});const C=()=>{y("visible",{visibleReport:!1})};return(v,u)=>(s(),h(e(ae),{modal:"",header:" ",style:{width:"70vw"}},{default:d(()=>[l("div",null,[ve,l("div",ge,[l("p",_e,[xe,j(H(r.value.DocNum),1)]),t(e(F),{icon:"pi pi-shopping-bag",value:r.value.MethodShippingName,class:"ml-3 tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),t(e(F),{icon:"pi pi-user",value:r.value.Customer.CardName,class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["value"]),Ce]),t(e(T),{label:"Cerrar",onClick:C,class:"!py-2 !border-none !px-10 !bg-primary-900 float-right mt-5"})]),_:1}))}},De=l("h1",{class:"mb-1 text-primary-900 font-inter font-semibold text-xl"},[l("i",{class:"pi pi-eye !text-xl"}),j(" Ver observaciones ")],-1),ke={class:"flex align-center mb-2"},we={class:"text-primary-900"},Ve=l("strong",{class:"mr-3 font-semibold"},"Nota de venta N°",-1),Ne={class:"mr-3 tag-radius tag-rounded-blue tag-font-method"},$e=["innerHTML"],Le={class:"mt-5"},Se=l("strong",null,"NOTA:",-1),Te=["innerHTML"],de={__name:"DialogDetailObservation",props:{order:String},setup(x,{emit:y}){const f=x,r=M([]);Z(()=>{r.value=f.order}),ee(()=>f.order,D=>{r.value=D});const C=()=>{y("visible",{visibleReport:!1})},v=D=>new DOMParser().parseFromString(D,"text/html").body.innerText,u=D=>D.replace(/\r/g,"<br>").replace(/\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;");return(D,S)=>(s(),h(e(ae),{modal:"",header:" ",style:{width:"70vw"}},{default:d(()=>[l("div",null,[De,l("div",ke,[l("p",we,[Ve,j(H(r.value.DocNum),1)]),t(e(F),{icon:"pi pi-shopping-cart",value:r.value.MethodShippingName,class:"ml-3 tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),t(e(F),{icon:"pi pi-user",value:r.value.Customer.CardName,class:"tag-radius tag-rounded-blue tag-font-method mb-5"},null,8,["value"]),r.value.HasProblems?p("",!0):(s(),h(e(Q),{key:0,tableStyle:"min-width: 50rem",filters:"filters",value:r.value.OrderItems},{default:d(()=>[t(e(i),{headerClass:"!bg-primary-900",field:"Quantity",header:"Cantidad"},{body:d(g=>[l("p",null,H(g.data.Quantity)+" Unidad",1)]),_:1}),t(e(i),{headerClass:"!bg-primary-900",field:"ItemCode",header:"SKU"}),t(e(i),{headerClass:"!bg-primary-900",field:"ItemDescription",header:"Producto"}),t(e(i),{headerClass:"!bg-primary-900",field:"Problems",header:"Problema"},{body:d(g=>[(s(!0),b(Y,null,me(g.data.Problems,(P,O)=>(s(),b("p",{key:O},[l("span",Ne,H(v(P.ProblemName)),1)]))),128))]),_:1})]),_:1},8,["value"])),l("div",null,[r.value.HasProblems?(s(),h(e(Q),{key:0,tableStyle:"min-width: 50rem",filters:"filters",value:r.value.Problems},{default:d(()=>[t(e(i),{headerClass:"!bg-primary-900",field:"ProblemName",header:"Probelma"},{body:d(g=>[l("p",null,H(g.data.ProblemName),1)]),_:1}),t(e(i),{headerClass:"!bg-primary-900",field:"Other",header:"Descripcion"},{body:d(g=>[l("p",{innerHTML:g.data.Other},null,8,$e)]),_:1})]),_:1},8,["value"])):p("",!0)]),l("div",Le,[Se,j(),l("span",{innerHTML:u(r.value.Comments)},null,8,Te)])]),t(e(T),{label:"Cerrar",onClick:C,class:"!py-2 !border-none !px-10 !bg-primary-900 float-right mt-5"})]),_:1}))}};function ce(){const x=M(!1),y=M({}),f=M("");return{visible:x,selectedOrder:y,currentDialog:f,openDialog:(v,u)=>{f.value=v,x.value=!0,y.value={...u}},closeDialog:({value:v})=>{v||(y.value={},x.value=x.visible)}}}const Me={setup(){const x=pe(),y=f=>new Promise((r,C)=>{x.require({message:(f==null?void 0:f.message)||"¿Estás seguro de que quieres continuar?",header:"Confirmación",icon:"pi pi-exclamation-triangle",acceptIcon:"pi pi-check",rejectIcon:"pi pi-times",acceptLabel:"Si",rejectLabel:"No",accept:()=>{r(!0)},reject:()=>{r(!1)}})});return fe(()=>{}),{showConfirm:y}}},Pe={class:"flex justify-between"},Oe=l("div",null,[l("h1",{class:"mb-2 text-primary-900 font-inter font-semibold text-2xl"}," Notas de venta ")],-1),He={key:0},je=l("h2",{class:"mb-4 text-primary-900 font-inter font-semibold text-xl"}," Aquí ",-1),Ue={class:"flex"},Fe={class:"card flex justify-content-center"},Ie={key:0,style:{position:"absolute",left:"40%",color:"#259bd7",top:"26%"},for:"rangeDate"},Re={class:"align-center card flex justify-content-center mr-5"},Ae=l("i",{class:"pi pi-times"},null,-1),qe=[Ae],ze={class:"card flex justify-content-center mr-5"},Be={class:"card flex justify-content-center mr-5"},Ke={class:"card flex justify-content-center"},Ee={key:1},Qe=l("div",null,[l("h2",{class:"mb-4 text-primary-900 font-inter font-semibold text-xl"}," Retiro / Despacho ")],-1),Ge={class:"flex"},Je={class:"card flex justify-content-center"},We={key:0,style:{position:"absolute",left:"40%",color:"#259bd7",top:"26%"},for:"rangeDatePickup"},Xe={class:"align-center card flex justify-content-center mr-5"},Ye=l("i",{class:"pi pi-times"},null,-1),Ze=[Ye],el={class:"card flex justify-content-center mr-5"},ll={class:"card flex justify-content-center mr-5"},tl={class:"card flex justify-content-center"},al={key:5,style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"}},ol=l("h1",{class:"align-center font-inter font-semibold mb-4 text-2xl text-center text-primary-900"}," No se han encontrado ordenes ",-1),sl=[ol],il={__name:"ToManage",props:{ListOrders:Array,search:String},setup(x){const y=x,{showToast:f}=he.setup(),{showConfirm:r}=Me.setup(),C=re(),{ListOrders:v}=oe(y),{visible:u,selectedOrder:D,currentDialog:S,openDialog:g,closeDialog:P}=ce(),{datesHere:O,datesPickup:k,dateLabelHere:w,dateLabelPickup:I,ordersHere:V,ordersPickupAndDelivery:N,selectedDocNumPickup:R,selectedDocTimePickup:A,selectedCustomerPickup:q,selectedDocTotalPickup:z,selectedDocNumHere:B,selectedDocTimeHere:K,selectedCustomerHere:G,selectedDocTotalHere:E,removeFilterDate:$,search:c}=se(v),o=M(!1),J=async(U,n=1)=>{if(await r())try{let L=await C.postActionOrder(U.id,n);f({status:L.status,message:L.message})}catch(L){L.response&&f({status:L.response.data.status,message:L.response.data.message})}else f({status:"info",message:"Proceso cancelado"})};return(U,n)=>(s(),b(Y,null,[l("div",Pe,[Oe,t(ie,{onSearch:e(c)},null,8,["onSearch"])]),e(V).length>0?(s(),b("div",He,[je,l("div",Ue,[l("div",Fe,[(s(),h(e(_),{modelValue:e(B),"onUpdate:modelValue":n[0]||(n[0]=a=>m(B)?B.value=a:null),options:e(V),filter:"",optionLabel:"DocNum",placeholder:"Nota de venta",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"},key:U.DocNum},null,8,["modelValue","options"]))]),l("div",{style:{position:"relative"},class:W({"active-filter-date":!e(w)})},[t(e(X),{inputId:"rangeDate",modelValue:e(O),"onUpdate:modelValue":n[1]||(n[1]=a=>m(O)?O.value=a:null),selectionMode:"range",manualInput:!1,style:{border:"none !important",color:"#259bd7 !important"}},null,8,["modelValue"]),e(w)?(s(),b("label",Ie,"Fecha")):p("",!0),l("div",Re,[e(w)?p("",!0):(s(),b("a",{key:0,class:"close-filter-date",onClick:n[2]||(n[2]=a=>e($)("Here"))},qe))])],2),l("div",ze,[t(e(_),{modelValue:e(K),"onUpdate:modelValue":n[3]||(n[3]=a=>m(K)?K.value=a:null),options:e(V),filter:"",optionLabel:"DocTime",placeholder:"Hora",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"}},null,8,["modelValue","options"])]),l("div",Be,[t(e(_),{modelValue:e(G),"onUpdate:modelValue":n[4]||(n[4]=a=>m(G)?G.value=a:null),options:e(V),filter:"",optionLabel:"Customer.CardName",placeholder:"Clientes",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"}},null,8,["modelValue","options"])]),l("div",Ke,[(s(),h(e(_),{modelValue:e(E),"onUpdate:modelValue":n[5]||(n[5]=a=>m(E)?E.value=a:null),options:e(V),filter:"",optionLabel:"DocTotal",placeholder:"Total",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"},key:U.DocTotal},null,8,["modelValue","options"]))])]),t(e(Q),{onOnPage:U.loadMoreData,class:"mb-20",value:e(V),tableStyle:"min-width: 50rem",filters:"filters",paginator:"",rows:5,dataKey:"id",filterDisplay:"row",loading:o.value},{default:d(()=>[t(e(i),{headerClass:"!bg-primary-900",field:"DocNum",header:"Nota de venta"},{body:d(a=>[j(" N° "+H(a.data.DocNum),1)]),_:1}),t(e(i),{headerClass:"!bg-primary-900",field:"DocDate",header:"Fecha"}),t(e(i),{headerClass:"!bg-primary-900",field:"DocTime",header:"Hora"}),t(e(i),{headerClass:"!bg-primary-900",field:"Customer.CardName",header:"Cliente"}),t(e(i),{headerClass:"!bg-primary-900",field:"DocTotal",header:"Monto total"}),t(e(i),{headerClass:"!bg-primary-900",field:"MethodShippingName",header:"Método entrega"},{body:d(a=>[t(e(F),{Tag:"",icon:"pi pi-shopping-cart",value:a.data.MethodShippingName,rounded:"",class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),_:1}),t(e(i),{headerClass:"!bg-primary-900",field:"note",header:" Observación"},{body:d(a=>[t(e(T),{icon:"pi pi-eye",onClick:L=>e(g)("observation",a.data),class:"!font-normal !text-primary-900",label:"Ver observación",link:""},null,8,["onClick"])]),_:1}),t(e(i),{headerClass:"!bg-primary-900",field:"note",header:""},{body:d(a=>[t(e(T),{onClick:L=>J(a.data),label:"Informado",class:"!py-1.5 !border-primary-900 !text-primary-900",outlined:""},null,8,["onClick"])]),_:1})]),_:1},8,["onOnPage","value","loading"])])):p("",!0),e(N).length>0?(s(),b("div",Ee,[Qe,l("div",Ge,[l("div",Je,[(s(),h(e(_),{modelValue:e(R),"onUpdate:modelValue":n[6]||(n[6]=a=>m(R)?R.value=a:null),options:e(N),filter:"",optionLabel:"DocNum",placeholder:"Nota de venta",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"},key:U.DocNum},null,8,["modelValue","options"]))]),l("div",{style:{position:"relative"},class:W({"active-filter-date":!e(I)})},[t(e(X),{inputId:"rangeDatePickup",modelValue:e(k),"onUpdate:modelValue":n[7]||(n[7]=a=>m(k)?k.value=a:null),selectionMode:"range",manualInput:!1,style:{border:"none !important"}},null,8,["modelValue"]),e(I)?(s(),b("label",We,"Fecha")):p("",!0),l("div",Xe,[e(I)?p("",!0):(s(),b("a",{key:0,class:"close-filter-date",onClick:n[8]||(n[8]=a=>e($)("Pickup"))},Ze))])],2),l("div",el,[t(e(_),{modelValue:e(A),"onUpdate:modelValue":n[9]||(n[9]=a=>m(A)?A.value=a:null),options:e(N),filter:"",optionLabel:"DocTime",placeholder:"Hora",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"}},null,8,["modelValue","options"])]),l("div",ll,[t(e(_),{modelValue:e(q),"onUpdate:modelValue":n[10]||(n[10]=a=>m(q)?q.value=a:null),options:e(N),filter:"",optionLabel:"Customer.CardName",placeholder:"Clientes",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"}},null,8,["modelValue","options"])]),l("div",tl,[(s(),h(e(_),{modelValue:e(z),"onUpdate:modelValue":n[11]||(n[11]=a=>m(z)?z.value=a:null),options:e(N),filter:"",optionLabel:"DocTotal",placeholder:"Total",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"},key:U.DocTotal},null,8,["modelValue","options"]))])]),t(e(Q),{onOnPage:U.loadMoreData,value:e(N),tableStyle:"min-width: 50rem",filters:"filters",paginator:"",rows:5,dataKey:"id",filterDisplay:"row",loading:o.value},{default:d(()=>[t(e(i),{headerClass:"!bg-primary-900",field:"DocNum",header:"Nota de venta"},{body:d(a=>[j(" N° "+H(a.data.DocNum),1)]),_:1}),t(e(i),{headerClass:"!bg-primary-900",field:"DocDate",header:"Fecha"}),t(e(i),{headerClass:"!bg-primary-900",field:"DocTime",header:"Hora"}),t(e(i),{headerClass:"!bg-primary-900",field:"Customer.CardName",header:"Cliente"}),t(e(i),{headerClass:"!bg-primary-900",field:"DocTotal",header:"Monto total"}),t(e(i),{headerClass:"!bg-primary-900",field:"MethodShippingName",header:"Método entrega"},{body:d(a=>[t(e(F),{Tag:"",icon:a.data.MethodShippingId===2?"pi pi-home":"pi pi-truck",value:a.data.MethodShippingName,rounded:"",class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["icon","value"])]),_:1}),t(e(i),{headerClass:"!bg-primary-900",field:"note",header:"Documentos"},{body:d(a=>[t(e(T),{icon:"pi pi-eye",onClick:L=>e(g)("detail",a.data),class:"!font-normal !text-primary-900",label:"Ver documentos",link:""},null,8,["onClick"])]),_:1}),t(e(i),{headerClass:"!bg-primary-900",field:"note",header:""},{body:d(a=>[t(e(T),{label:"Rechazar",onClick:L=>e(g)("reportProblem",a.data),class:"!py-1.5 mr-3 !border-primary-900 !text-primary-900",outlined:""},null,8,["onClick"]),t(e(T),{label:"Autorizar",onClick:L=>J(a.data,3),class:"!py-1.5 !border-primary-900 !text-primary-900",outlined:""},null,8,["onClick"])]),_:1})]),_:1},8,["onOnPage","value","loading"])])):p("",!0),e(S)==="detail"?(s(),h(ne,{key:2,visible:e(u),"onUpdate:visible":n[12]||(n[12]=a=>m(u)?u.value=a:null),order:e(D),onVisible:e(P)},null,8,["visible","order","onVisible"])):p("",!0),e(S)==="observation"?(s(),h(de,{key:3,visible:e(u),"onUpdate:visible":n[13]||(n[13]=a=>m(u)?u.value=a:null),order:e(D),onVisible:e(P)},null,8,["visible","order","onVisible"])):p("",!0),e(S)==="reportProblem"?(s(),h(ye,{key:4,visible:e(u),"onUpdate:visible":n[14]||(n[14]=a=>m(u)?u.value=a:null),typeProblems:"cda",order:e(D),onVisible:e(P)},null,8,["visible","order","onVisible"])):p("",!0),e(V).length===0&&e(N).length===0?(s(),b("div",al,sl)):p("",!0)],64))}},rl={class:"flex justify-between"},nl=l("div",null,[l("h1",{class:"mb-2 text-primary-900 font-inter font-semibold text-2xl"}," Notas de venta ")],-1),dl={key:0},cl=l("h2",{class:"mb-4 text-primary-900 font-inter font-semibold text-xl"}," Aquí ",-1),ul={class:"flex"},ml={class:"card flex justify-content-center"},pl={key:0,style:{position:"absolute",left:"40%",color:"#259bd7",top:"26%"},for:"toManageRangeDate"},fl={class:"align-center card flex justify-content-center mr-5"},bl=l("i",{class:"pi pi-times"},null,-1),hl=[bl],yl={class:"card flex justify-content-center mr-5"},vl={class:"card flex justify-content-center mr-5"},gl={class:"card flex justify-content-center"},_l=["colspan"],xl={key:1},Cl=l("div",null,[l("h2",{class:"mb-4 text-primary-900 font-inter font-semibold text-xl"}," Retiro / Despacho ")],-1),Dl={class:"flex"},kl={class:"card flex justify-content-center"},wl={key:0,style:{position:"absolute",left:"40%",color:"#259bd7",top:"26%"},for:"toManageRangeDatePickup"},Vl={class:"align-center card flex justify-content-center mr-5"},Nl=l("i",{class:"pi pi-times"},null,-1),$l=[Nl],Ll={class:"card flex justify-content-center mr-5"},Sl={class:"card flex justify-content-center mr-5"},Tl={class:"card flex justify-content-center"},Ml=["colspan"],Pl={key:4,style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"}},Ol=l("h1",{class:"align-center font-inter font-semibold mb-4 text-2xl text-center text-primary-900"}," No se han encontrado ordenes ",-1),Hl=[Ol],jl={__name:"Managed",props:{ListOrders:Array,search:String},setup(x){const y=x,{ListOrders:f}=oe(y),{visible:r,selectedOrder:C,currentDialog:v,openDialog:u,closeDialog:D}=ce(),{datesHere:S,datesPickup:g,dateLabelHere:P,dateLabelPickup:O,ordersHere:k,ordersPickupAndDelivery:w,selectedDocNumPickup:I,selectedDocTimePickup:V,selectedCustomerPickup:N,selectedDocTotalPickup:R,selectedDocNumHere:A,selectedDocTimeHere:q,selectedCustomerHere:z,selectedDocTotalHere:B,removeFilterDate:K,search:G}=se(f),E=M(!1);return($,c)=>(s(),b(Y,null,[l("div",rl,[nl,t(ie,{onSearch:e(G)},null,8,["onSearch"])]),e(k).length>0?(s(),b("div",dl,[cl,l("div",ul,[l("div",ml,[(s(),h(e(_),{modelValue:e(A),"onUpdate:modelValue":c[0]||(c[0]=o=>m(A)?A.value=o:null),options:e(k),filter:"",optionLabel:"DocNum",placeholder:"Nota de venta",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"},key:$.DocNum},null,8,["modelValue","options"]))]),l("div",{style:{position:"relative"},class:W({"active-filter-date":!e(P)})},[t(e(X),{inputId:"toManageRangeDate",modelValue:e(S),"onUpdate:modelValue":c[1]||(c[1]=o=>m(S)?S.value=o:null),selectionMode:"range",manualInput:!1,style:{border:"none !important",color:"#259bd7 !important"}},null,8,["modelValue"]),e(P)?(s(),b("label",pl,"Fecha")):p("",!0),l("div",fl,[e(P)?p("",!0):(s(),b("a",{key:0,class:"close-filter-date",onClick:c[2]||(c[2]=o=>e(K)("Here"))},hl))])],2),l("div",yl,[t(e(_),{modelValue:e(q),"onUpdate:modelValue":c[3]||(c[3]=o=>m(q)?q.value=o:null),options:e(k),filter:"",optionLabel:"DocTime",placeholder:"Hora",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"}},null,8,["modelValue","options"])]),l("div",vl,[t(e(_),{modelValue:e(z),"onUpdate:modelValue":c[4]||(c[4]=o=>m(z)?z.value=o:null),options:e(k),filter:"",optionLabel:"Customer.CardName",placeholder:"Clientes",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"}},null,8,["modelValue","options"])]),l("div",gl,[(s(),h(e(_),{modelValue:e(B),"onUpdate:modelValue":c[5]||(c[5]=o=>m(B)?B.value=o:null),options:e(k),filter:"",optionLabel:"DocTotal",placeholder:"Total",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"},key:$.DocTotal},null,8,["modelValue","options"]))])]),t(e(Q),{onOnPage:$.loadMoreData,class:"mb-20",value:e(k),tableStyle:"min-width: 50rem",filters:"filters",paginator:"",rows:5,dataKey:"id",filterDisplay:"row",loading:E.value},te({default:d(()=>[t(e(i),{headerClass:"!bg-primary-900",field:"DocNum",header:"Nota de venta"},{body:d(o=>[j(" N° "+H(o.data.DocNum),1)]),_:1}),t(e(i),{headerClass:"!bg-primary-900",field:"DocDate",header:"Fecha"}),t(e(i),{headerClass:"!bg-primary-900",field:"DocTime",header:"Hora"}),t(e(i),{headerClass:"!bg-primary-900",field:"Customer.CardName",header:"Cliente"}),t(e(i),{headerClass:"!bg-primary-900",field:"DocTotal",header:"Monto total"}),t(e(i),{headerClass:"!bg-primary-900",field:"MethodShippingName",header:"Método entrega"},{body:d(o=>[t(e(F),{Tag:"",icon:"pi pi-shopping-cart",value:o.data.MethodShippingName,rounded:"",class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),_:1}),t(e(i),{headerClass:"!bg-primary-900",field:"note",header:"Observación"},{body:d(o=>[t(e(T),{icon:"pi pi-eye",onClick:J=>e(u)("observation",o.data),class:"!font-normal !text-primary-900",label:"Ver observación",link:""},null,8,["onClick"])]),_:1})]),_:2},[e(k).length===0?{name:"footer",fn:d(()=>[l("tr",null,[l("td",{colspan:$.numberOfColumns,class:"text-not-info"}," No hay órdenes disponible. ",8,_l)])]),key:"0"}:void 0]),1032,["onOnPage","value","loading"])])):p("",!0),e(w).length>0?(s(),b("div",xl,[Cl,l("div",Dl,[l("div",kl,[(s(),h(e(_),{modelValue:e(I),"onUpdate:modelValue":c[6]||(c[6]=o=>m(I)?I.value=o:null),options:e(w),filter:"",optionLabel:"DocNum",placeholder:"Nota de venta",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"},key:$.DocNum},null,8,["modelValue","options"]))]),l("div",{style:{position:"relative"},class:W({"active-filter-date":!e(O)})},[t(e(X),{inputId:"toManageRangeDatePickup",modelValue:e(g),"onUpdate:modelValue":c[7]||(c[7]=o=>m(g)?g.value=o:null),selectionMode:"range",manualInput:!1,style:{border:"none !important"}},null,8,["modelValue"]),e(O)?(s(),b("label",wl,"Fecha")):p("",!0),l("div",Vl,[e(O)?p("",!0):(s(),b("a",{key:0,class:"close-filter-date",onClick:c[8]||(c[8]=o=>e(K)("Pickup"))},$l))])],2),l("div",Ll,[t(e(_),{modelValue:e(V),"onUpdate:modelValue":c[9]||(c[9]=o=>m(V)?V.value=o:null),options:e(w),filter:"",optionLabel:"DocTime",placeholder:"Hora",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"}},null,8,["modelValue","options"])]),l("div",Sl,[t(e(_),{modelValue:e(N),"onUpdate:modelValue":c[10]||(c[10]=o=>m(N)?N.value=o:null),options:e(w),filter:"",optionLabel:"Customer.CardName",placeholder:"Clientes",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"}},null,8,["modelValue","options"])]),l("div",Tl,[(s(),h(e(_),{modelValue:e(R),"onUpdate:modelValue":c[11]||(c[11]=o=>m(R)?R.value=o:null),options:e(w),filter:"",optionLabel:"DocTotal",placeholder:"Total",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"},key:$.DocTotal},null,8,["modelValue","options"]))])]),t(e(Q),{onOnPage:$.loadMoreData,value:e(w),tableStyle:"min-width: 50rem",filters:"filters",paginator:"",rows:5,dataKey:"id",filterDisplay:"row",loading:E.value},te({default:d(()=>[t(e(i),{headerClass:"!bg-primary-900",field:"DocNum",header:"Nota de venta"},{body:d(o=>[j(" N° "+H(o.data.DocNum),1)]),_:1}),t(e(i),{headerClass:"!bg-primary-900",field:"DocDate",header:"Fecha"}),t(e(i),{headerClass:"!bg-primary-900",field:"DocTime",header:"Hora"}),t(e(i),{headerClass:"!bg-primary-900",field:"Customer.CardName",header:"Cliente"}),t(e(i),{headerClass:"!bg-primary-900",field:"DocTotal",header:"Monto total"}),t(e(i),{headerClass:"!bg-primary-900",field:"MethodShippingName",header:"Método entrega"},{body:d(o=>[t(e(F),{Tag:"",icon:"pi pi-shopping-cart",value:o.data.MethodShippingName,rounded:"",class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),_:1}),t(e(i),{headerClass:"!bg-primary-900",field:"note",header:"Documentos"},{body:d(o=>[t(e(T),{icon:"pi pi-eye",onClick:J=>e(u)("detail",o.data),class:"!font-normal !text-primary-900",label:"Ver documentos",link:""},null,8,["onClick"])]),_:1}),t(e(i),{headerClass:"!bg-primary-900",field:"note",header:" Observación"},{body:d(o=>[o.data.HasProblems?(s(),h(e(T),{key:0,icon:"pi pi-eye",onClick:J=>e(u)("observation",o.data),class:"!font-normal !text-primary-900",label:"Ver observación",link:""},null,8,["onClick"])):p("",!0)]),_:1})]),_:2},[e(w).length===0?{name:"footer",fn:d(()=>[l("tr",null,[l("td",{colspan:$.numberOfColumns,class:"text-not-info"}," No hay órdenes disponible. ",8,Ml)])]),key:"0"}:void 0]),1032,["onOnPage","value","loading"])])):p("",!0),e(v)==="detail"?(s(),h(ne,{key:2,visible:e(r),"onUpdate:visible":c[12]||(c[12]=o=>m(r)?r.value=o:null),order:e(C),onVisible:e(D)},null,8,["visible","order","onVisible"])):p("",!0),e(v)==="observation"?(s(),h(de,{key:3,visible:e(r),"onUpdate:visible":c[13]||(c[13]=o=>m(r)?r.value=o:null),order:e(C),onVisible:e(D)},null,8,["visible","order","onVisible"])):p("",!0),e(k).length===0&&e(w).length===0?(s(),b("div",Pl,Hl)):p("",!0)],64))}};const Ul={class:"px-3"},Fl={key:0,class:"text-center",style:{color:"#259bd7"}},Il=l("i",{class:"pi pi-spin pi-spinner",style:{"font-size":"2rem"}},null,-1),Rl=[Il],Wl={__name:"SalesNotes",setup(x){const y=re(),f=M([]),r=M([]),C=M(!1),v=()=>{f.value=y.orders.filter(u=>u.is_managed==!1||u.MethodShippingId===1&&u.is_managed==!1),r.value=y.orders.filter(u=>u.is_managed==!0),C.value=!0};return Z(async()=>{await y.getOrdersCda(),v(),ee(y.orders,()=>{v()})}),(u,D)=>(s(),b(Y,null,[l("div",Ul,[t(e(ue),null,{default:d(()=>[t(e(le),{header:"Por gestionar"},{default:d(()=>[C.value?p("",!0):(s(),b("div",Fl,Rl)),C.value?(s(),h(il,{key:1,ListOrders:f.value},null,8,["ListOrders"])):p("",!0)]),_:1}),t(e(le),{header:"Gestionadas"},{default:d(()=>[C.value?(s(),h(jl,{key:0,ListOrders:r.value},null,8,["ListOrders"])):p("",!0)]),_:1})]),_:1})]),t(e(be))],64))}};export{Wl as default};
