import{s as G,a as ae}from"./tabpanel.esm-70b0d25c.js";import{b as m,h as R,o as u,i as p,w as n,f as l,g as N,t as j,a,u as e,s as g,j as W,c as q,F as B,k as le,l as te,m as oe,p as F,r as se,q as P,v as re}from"./index-f4a4eb76.js";import{a as D,b as E,s as d,c as Q}from"./tag.esm-dcab7e2b.js";import{_ as X,s as b}from"./multiselect.esm-80e4c22e.js";import{u as Y}from"./OrdersApiService-3be5dce1.js";import{s as H}from"./treeselect.esm-caf72fcf.js";import"./index.esm-de9c7483.js";const de=l("h1",{class:"mb-1 text-primary-900 font-inter font-semibold text-xl"},[l("i",{class:"pi pi-eye !text-xl"}),N(" Ver Documentos ")],-1),ne={class:"flex align-center mb-2"},ie={class:"text-primary-900"},ue=l("strong",{class:"mr-3 font-semibold"},"Nota de venta N°",-1),ce=l("div",{class:"mt-5"},[l("p",null," 2 archivos adjuntos "),l("div",{class:"flex"},[l("div",{class:"mt-2 mr-5",width:"200",height:"180"},[l("embed",{class:"w-full",src:"http://ocw.uv.es/ingenieria-y-arquitectura/programacionmultimedia/t2-1-css.pdf",type:"application/pdf"}),l("div",{class:"bg-gray-100"},[l("i",{class:"pi pi-file-pdf m-2",style:{color:"#F40F02"}}),l("a",{href:"#",class:"font-normal text-sm"},"Nombre de pdf")])]),l("div",{class:"mt-2 mr-5",width:"200",height:"180"},[l("embed",{class:"w-full",src:"http://ocw.uv.es/ingenieria-y-arquitectura/programacionmultimedia/t2-1-css.pdf",type:"application/pdf"}),l("div",{class:"bg-gray-100"},[l("i",{class:"pi pi-file-pdf m-2",style:{color:"#F40F02"}}),l("a",{href:"#",class:"font-normal text-sm"},"Nombre de pdf")])])])],-1),me={__name:"DialogDetail",props:{order:String},setup($){const v=$,r=m([]);return R(()=>{r.value=v.order}),(c,i)=>(u(),p(e(W),{modal:"",header:" ",style:{width:"70vw"}},{default:n(()=>[l("div",null,[de,l("div",ne,[l("p",ie,[ue,N(j(r.value.DocNum),1)]),a(e(D),{icon:"pi pi-shopping-bag",value:r.value.MethodShippingName,class:"ml-3 tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),a(e(D),{icon:"pi pi-user",value:r.value.Customer.CardName,class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["value"]),ce]),a(e(g),{label:"Cerrar",onClick:i[0]||(i[0]=_=>c.visible=!1),class:"!py-2 !border-none !px-10 !bg-primary-900 float-right mt-5"})]),_:1}))}},pe=l("h1",{class:"mb-1 text-primary-900 font-inter font-semibold text-xl"},[l("i",{class:"pi pi-eye !text-xl"}),N(" Ver observaciones ")],-1),fe={class:"flex align-center mb-2"},ve={class:"text-primary-900"},he=l("strong",{class:"mr-3 font-semibold"},"Nota de venta N°",-1),ye={class:"mt-5"},be=l("strong",null,"NOTA:",-1),ge=["innerHTML"],_e={__name:"DialogDetailObservation",props:{order:String},setup($){const v=$,r=m([]);R(()=>{r.value=v.order});const c=i=>i.replace(/\r/g,"<br>").replace(/\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;");return(i,_)=>(u(),p(e(W),{modal:"",header:" ",style:{width:"70vw"}},{default:n(()=>[l("div",null,[pe,l("div",fe,[l("p",ve,[he,N(j(r.value.DocNum),1)]),a(e(D),{icon:"pi pi-shopping-cart",value:r.value.MethodShippingName,class:"ml-3 tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),a(e(D),{icon:"pi pi-user",value:r.value.Customer.CardName,class:"tag-radius tag-rounded-blue tag-font-method mb-5"},null,8,["value"]),a(e(E),{tableStyle:"min-width: 50rem",filters:"filters",value:r.value.OrderItems},{default:n(()=>[a(e(d),{headerClass:"!bg-primary-900",field:"Quantity",header:"Cantidad"},{body:n(C=>[l("p",null,j(C.data.Quantity)+" Unidad",1)]),_:1}),a(e(d),{headerClass:"!bg-primary-900",field:"ItemCode",header:"SKU"}),a(e(d),{headerClass:"!bg-primary-900",field:"ItemDescription",header:"Producto"}),a(e(d),{headerClass:"!bg-primary-900",field:"Problems",header:"Problema"},{body:n(C=>[(u(!0),q(B,null,le(C.data.Problems,(x,V)=>(u(),p(e(D),{key:V,value:x.ProblemName,rounded:"",class:"mr-3 tag-radius tag-rounded-blue tag-font-method"},null,8,["value"]))),128))]),_:1})]),_:1},8,["value"]),l("div",ye,[be,N(),l("span",{innerHTML:c(r.value.Comments)},null,8,ge)])]),a(e(g),{label:"Cerrar",onClick:_[0]||(_[0]=C=>i.visibleObservation=!1),class:"!py-2 !border-none !px-10 !bg-primary-900 float-right mt-5"})]),_:1}))}};const xe={class:"flex justify-between"},Ve=l("div",null,[l("h1",{class:"mb-2 text-primary-900 font-inter font-semibold text-2xl"}," Notas de venta ")],-1),Ce={key:0},we=l("h2",{class:"mb-4 text-primary-900 font-inter font-semibold text-xl"}," Aquí ",-1),De={class:"flex"},Ne={class:"card flex justify-content-center"},$e={class:"card flex justify-content-center"},ke={class:"card flex justify-content-center"},Se={class:"card flex justify-content-center mr-5"},Te={class:"card flex justify-content-center"},Le=l("div",null,[l("h2",{class:"mb-4 text-primary-900 font-inter font-semibold text-xl"}," Retiro / Despacho ")],-1),Ue={class:"flex"},Me={class:"card flex justify-content-center"},Oe={class:"card flex justify-content-center"},je={class:"card flex justify-content-center"},Ae={class:"card flex justify-content-center mr-5"},Ie={class:"card flex justify-content-center"},J=1,Fe={__name:"ToManage",props:{ListOrders:Array},setup($){const v=$,r=te(),c=oe(),i=Y(),_=m(!1),C=m(!1),x=m({}),V=m([]),k=m([]),A=m(!1),T=m([]),L=m([]),U=m([]),M=m([]),O=m([]),S=m([v.ListOrders.filter(s=>s.MethodShippingId===J)]),w=m([v.ListOrders.filter(s=>s.MethodShippingId!==J)]);S.value=S.value[0],w.value=w.value[0],V.value=S.value,k.value=w.value;const z=s=>{x.value={...s},C.value=!0,A.value=!0},Z=s=>{_.value=!0,x.value={...s},A.value=!0},K=s=>{s||(x.value={},A.value=!1)},ee=async s=>{r.require({message:"¿Estas seguro que deseas continuar?",header:"Confirmación",icon:"pi pi-exclamation-triangle",accept:async()=>{let o=await i.postActionOrder(s.id,1);if(c.add({severity:o.status,summary:"",detail:o.message,life:3e3}),o.status==="success"){const y=w.value.findIndex(t=>t===s);y!==-1&&w.value.splice(y,1)}},reject:()=>{}})};F(T,s=>{I()}),F(L,s=>{I()}),F(U,s=>{I()}),F(M,s=>{I()}),F(O,s=>{I()});const I=()=>{const s=T.value,o=L.value,y=U.value,t=M.value,f=O.value;s.length===0&&o.length===0&&y.length===0&&t.length===0&&f.length===0?(w.value=k.value,S.value=V.value):(w.value=v.ListOrders.filter(h=>(s.length===0||s.includes(h))&&(o.length===0||o.includes(h))&&(y.length===0||y.includes(h))&&(t.length===0||t.includes(h))&&(f.length===0||f.includes(h))),S.value=v.ListOrders.filter(h=>(s.length===0||s.includes(h))&&(o.length===0||o.includes(h))&&(y.length===0||y.includes(h))&&(t.length===0||t.includes(h))&&(f.length===0||f.includes(h))))};return(s,o)=>{const y=se("Toast");return u(),q(B,null,[l("div",xe,[Ve,a(X)]),S.value.length>0?(u(),q("div",Ce,[we,l("div",De,[l("div",Ne,[(u(),p(e(b),{modelValue:T.value,"onUpdate:modelValue":o[0]||(o[0]=t=>T.value=t),options:V.value,filter:"",optionLabel:"DocNum",placeholder:"Nota de venta",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"},key:s.DocNum},null,8,["modelValue","options"]))]),l("div",$e,[(u(),p(e(b),{modelValue:L.value,"onUpdate:modelValue":o[1]||(o[1]=t=>L.value=t),options:V.value,filter:"",optionLabel:"DocDate",placeholder:"Fecha",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"},key:s.DocDate},null,8,["modelValue","options"]))]),l("div",ke,[(u(),p(e(b),{modelValue:U.value,"onUpdate:modelValue":o[2]||(o[2]=t=>U.value=t),options:V.value,filter:"",optionLabel:"DocTime",placeholder:"Hora",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"},key:s.DocTime},null,8,["modelValue","options"]))]),l("div",Se,[a(e(b),{modelValue:M.value,"onUpdate:modelValue":o[3]||(o[3]=t=>M.value=t),options:V.value,filter:"",optionLabel:"Customer.CardName",placeholder:"Clientes",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"}},null,8,["modelValue","options"])]),l("div",Te,[(u(),p(e(b),{modelValue:O.value,"onUpdate:modelValue":o[4]||(o[4]=t=>O.value=t),options:V.value,filter:"",optionLabel:"DocTotal",placeholder:"Total",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"},key:s.DocTotal},null,8,["modelValue","options"]))])]),a(e(E),{class:"mb-20",value:S.value,tableStyle:"min-width: 50rem",filters:"filters",paginator:"",rows:5,dataKey:"id",filterDisplay:"row",loading:s.loading},{default:n(()=>[a(e(d),{headerClass:"!bg-primary-900",field:"DocNum",header:"Nota de venta"},{body:n(t=>[N(" N° "+j(t.data.DocNum),1)]),_:1}),a(e(d),{headerClass:"!bg-primary-900",field:"DocDate",header:"Fecha"}),a(e(d),{headerClass:"!bg-primary-900",field:"DocTime",header:"Hora"}),a(e(d),{headerClass:"!bg-primary-900",field:"Customer.CardName",header:"Cliente"}),a(e(d),{headerClass:"!bg-primary-900",field:"DocTotal",header:"Monto total"},{body:n(t=>[a(e(Q),{modelValue:t.data.DocTotal,"onUpdate:modelValue":f=>t.data.DocTotal=f,class:"remove-format-input",inputId:"currency-us",mode:"currency",currency:"USD",locale:"en-US",readonly:"",minFractionDigits:0},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),a(e(d),{headerClass:"!bg-primary-900",field:"MethodShippingName",header:"Método entrega"},{body:n(t=>[a(e(D),{Tag:"",icon:"pi pi-shopping-cart",value:t.data.MethodShippingName,rounded:"",class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),_:1}),a(e(d),{headerClass:"!bg-primary-900",field:"note",header:" Observación"},{body:n(t=>[a(e(g),{icon:"pi pi-eye",onClick:f=>z(t.data),class:"!font-normal !text-primary-900",label:"Ver observación",link:""},null,8,["onClick"])]),_:1}),a(e(d),{headerClass:"!bg-primary-900",field:"note",header:""},{body:n(t=>[a(e(g),{label:"Informado",class:"!py-1.5 !border-primary-900 !text-primary-900",outlined:""})]),_:1})]),_:1},8,["value","loading"])])):P("",!0),Le,l("div",Ue,[l("div",Me,[(u(),p(e(b),{modelValue:T.value,"onUpdate:modelValue":o[5]||(o[5]=t=>T.value=t),options:k.value,filter:"",optionLabel:"DocNum",placeholder:"Nota de venta",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"},key:s.DocNum},null,8,["modelValue","options"]))]),l("div",Oe,[(u(),p(e(b),{modelValue:L.value,"onUpdate:modelValue":o[6]||(o[6]=t=>L.value=t),options:k.value,filter:"",optionLabel:"DocDate",placeholder:"Fecha",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"},key:s.DocDate},null,8,["modelValue","options"]))]),l("div",je,[(u(),p(e(b),{modelValue:U.value,"onUpdate:modelValue":o[7]||(o[7]=t=>U.value=t),options:k.value,filter:"",optionLabel:"DocTime",placeholder:"Hora",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"},key:s.DocTime},null,8,["modelValue","options"]))]),l("div",Ae,[a(e(b),{modelValue:M.value,"onUpdate:modelValue":o[8]||(o[8]=t=>M.value=t),options:k.value,filter:"",optionLabel:"Customer.CardName",placeholder:"Clientes",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"}},null,8,["modelValue","options"])]),l("div",Ie,[(u(),p(e(b),{modelValue:O.value,"onUpdate:modelValue":o[9]||(o[9]=t=>O.value=t),options:k.value,filter:"",optionLabel:"DocTotal",placeholder:"Total",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"},key:s.DocTotal},null,8,["modelValue","options"]))])]),a(e(E),{value:w.value,tableStyle:"min-width: 50rem",filters:"filters",paginator:"",rows:5,dataKey:"id",filterDisplay:"row",loading:s.loading},{default:n(()=>[a(e(d),{headerClass:"!bg-primary-900",field:"DocNum",header:"Nota de venta"},{body:n(t=>[N(" N° "+j(t.data.DocNum),1)]),_:1}),a(e(d),{headerClass:"!bg-primary-900",field:"DocDate",header:"Fecha"}),a(e(d),{headerClass:"!bg-primary-900",field:"DocTime",header:"Hora"}),a(e(d),{headerClass:"!bg-primary-900",field:"Customer.CardName",header:"Cliente"}),a(e(d),{headerClass:"!bg-primary-900",field:"DocTotal",header:"Monto total"},{body:n(t=>[a(e(Q),{modelValue:t.data.DocTotal,"onUpdate:modelValue":f=>t.data.DocTotal=f,class:"remove-format-input",inputId:"currency-us",mode:"currency",currency:"USD",locale:"en-US",readonly:"",minFractionDigits:0},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),a(e(d),{headerClass:"!bg-primary-900",field:"MethodShippingName",header:"Método entrega"},{body:n(t=>[a(e(D),{Tag:"",icon:"pi pi-shopping-cart",value:t.data.MethodShippingName,rounded:"",class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),_:1}),a(e(d),{headerClass:"!bg-primary-900",field:"note",header:"Documentos"},{body:n(t=>[a(e(g),{icon:"pi pi-eye",onClick:f=>Z(t.data),class:"!font-normal !text-primary-900",label:"Ver documentos",link:""},null,8,["onClick"])]),_:1}),a(e(d),{headerClass:"!bg-primary-900",field:"note",header:" Observación"},{body:n(t=>[t.data.OrderStatusId==4?(u(),p(e(g),{key:0,icon:"pi pi-eye",onClick:f=>z(t.data),class:"!font-normal !text-primary-900",label:"Ver observación",link:""},null,8,["onClick"])):P("",!0)]),_:1}),a(e(d),{headerClass:"!bg-primary-900",field:"note",header:""},{body:n(t=>[a(e(g),{label:"Rechazar",onClick:o[10]||(o[10]=f=>s.visibleReport=!0),class:"!py-1.5 mr-3 !border-primary-900 !text-primary-900",outlined:""}),a(e(g),{label:"Autorizar",onClick:f=>ee(t.data),class:"!py-1.5 !border-primary-900 !text-primary-900",outlined:""},null,8,["onClick"])]),_:1})]),_:1},8,["value","loading"]),A.value?(u(),p(me,{visible:_.value,"onUpdate:visible":[o[11]||(o[11]=t=>_.value=t),K],order:x.value,key:x.value.timestamp},null,8,["visible","order"])):P("",!0),A.value?(u(),p(_e,{visible:C.value,"onUpdate:visible":[o[12]||(o[12]=t=>C.value=t),K],order:x.value,key:x.value.timestamp},null,8,["visible","order"])):P("",!0),a(y),a(e(re))],64)}}},He={class:"flex justify-between"},Pe=l("div",null,[l("h1",{class:"mb-2 text-primary-900 font-inter font-semibold text-2xl"}," Notas de venta "),l("h2",{class:"mb-4 text-primary-900 font-inter font-semibold text-xl"}," Aquí ")],-1),qe={class:"flex"},Ee={class:"card flex justify-content-center"},Re={class:"card flex justify-content-center"},Be={class:"card flex justify-content-center"},ze={class:"card flex justify-content-center mr-20"},Ke={class:"card flex justify-content-center"},Ge={__name:"Managed",setup($){const v=m([{statusId:1,note:"4567892",date:"19/04/2023",hour:"10:26",client:"Daniel Ramirez Palma",status:"En espera",totalAmount:"$200",btnInfo:"Informado"},{statusId:2,note:"0998764",date:"19/04/2023",hour:"10:58",client:"Lucas Sandoval",status:"En preparación",totalAmount:"$300"}]);return(r,c)=>(u(),q(B,null,[l("div",He,[Pe,a(X)]),l("div",qe,[l("div",Ee,[a(e(H),{modelValue:r.selectedValue,"onUpdate:modelValue":c[0]||(c[0]=i=>r.selectedValue=i),options:r.nodes,selectionMode:"checkbox",placeholder:"Nota de venta",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),l("div",Re,[a(e(H),{modelValue:r.selectedValue,"onUpdate:modelValue":c[1]||(c[1]=i=>r.selectedValue=i),options:r.nodes,selectionMode:"checkbox",placeholder:"Fecha",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),l("div",Be,[a(e(H),{modelValue:r.selectedValue,"onUpdate:modelValue":c[2]||(c[2]=i=>r.selectedValue=i),options:r.nodes,selectionMode:"checkbox",placeholder:"Hora",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),l("div",ze,[a(e(H),{modelValue:r.selectedValue,"onUpdate:modelValue":c[3]||(c[3]=i=>r.selectedValue=i),options:r.nodes,selectionMode:"checkbox",placeholder:"Cliente",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),l("div",Ke,[a(e(H),{modelValue:r.selectedValue,"onUpdate:modelValue":c[4]||(c[4]=i=>r.selectedValue=i),options:r.nodes,selectionMode:"checkbox",placeholder:"Total",class:"md:w-20rem w-full"},null,8,["modelValue","options"])])]),a(e(E),{class:"mb-20",value:v.value,tableStyle:"min-width: 50rem"},{default:n(()=>[a(e(d),{headerClass:"!bg-primary-900",field:"note",header:"Nota de venta"},{body:n(i=>[N(" N° "+j(i.data.note),1)]),_:1}),a(e(d),{headerClass:"!bg-primary-900",field:"date",header:"Fecha"}),a(e(d),{headerClass:"!bg-primary-900",field:"hour",header:"Hora"}),a(e(d),{headerClass:"!bg-primary-900",field:"client",header:"Cliente"}),a(e(d),{headerClass:"!bg-primary-900",field:"totalAmount",header:"Monto total"}),a(e(d),{headerClass:"!bg-primary-900",field:"totalAmount",header:"Método entrega"},{body:n(i=>[a(e(D),{Tag:"",icon:"pi pi-shopping-cart",value:"Aquí",rounded:"",class:"!font-normal !text-md !px-3 !bg-primary-100 !text-primary-900"})]),_:1}),a(e(d),{headerClass:"!bg-primary-900",field:"note",header:" Observación"},{body:n(i=>[a(e(g),{icon:"pi pi-eye",class:"!font-normal !text-primary-900",label:"Ver observación",link:""})]),_:1}),a(e(d),{headerClass:"!bg-primary-900",field:"note",header:""},{body:n(i=>[a(e(g),{label:"Informado",class:"!py-1.5 !border-primary-900 !text-primary-900",outlined:""})]),_:1})]),_:1},8,["value"])],64))}};const Qe={class:"px-3"},ta={__name:"SalesNotes",setup($){const v=Y(),r=m([]),c=m(!1);return R(async()=>{r.value=await v.getOrders(),c.value=!0}),(i,_)=>(u(),q("div",Qe,[a(e(ae),null,{default:n(()=>[a(e(G),{header:"Por gestionar"},{default:n(()=>[c.value?(u(),p(Fe,{key:0,ListOrders:r.value},null,8,["ListOrders"])):P("",!0)]),_:1}),a(e(G),{header:"Gestionadas"},{default:n(()=>[a(Ge)]),_:1})]),_:1})]))}};export{ta as default};
