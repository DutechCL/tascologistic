import{e as d,x as O,v as w,o as u,c as m,h as a,i as E,a as i,u as t,l as B,q as p,F as k,s as N,y as C}from"./index-62208b08.js";import{T,c as n,a as I}from"./FilterMultiSelect-2584a934.js";import{u as M,_ as S,a as V}from"./DataTableOrders-189d4732.js";import{C as P}from"./ConfirmMixin-70b47f0f.js";import"./tag.esm-62e94f56.js";import"./index.esm-be48107f.js";import"./OrdersApiService-cef8b241.js";import"./ApiService-10d295c0.js";import"./index.esm-3c39fedc.js";const L={class:"px-8"},R={class:"flex justify-between"},U=a("i",{class:"pi pi-refresh"},null,-1),$=[U],F={key:1,style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"}},G=a("h1",{class:"align-center font-inter font-semibold mb-4 text-2xl text-center text-primary-900"}," No hay ordenes actualmente en este proceso ",-1),X={__name:"DispatchOrders",setup(Y){const{showToast:l}=T.setup(),{showConfirm:_}=P.setup(),e=M(),h=d(!1),o=d([]),f=d([{active:!0,method:"generateDocument",document:n.DOCUMENT_TYPE_GUIDE,label:"GuÃ­a"},{active:!1,method:"generateDocument",document:n.DOCUMENT_TYPE_INVOICE,label:"Factura / Boleta"}]),v=s=>{o.value=s.orders},g=s=>{switch(console.log(s),s.method){case"showDetailOrder":e.showDetailOrder(s.order);break;case"generateDocument":b(s);break}},D=async()=>{await e.getOrdersBillDelivery(),l({status:"success",message:"Ordenes actualizadas",time:3e3})};O(()=>e.orders,s=>{o.value=e.orders});const y=()=>{o.value.length===0&&(window.location.href="/admin/dashboard/")},b=async s=>{if(await _()){let r=await e.generateDocument(s);l({status:r.status,message:r.message})}else l({status:"info",message:"Proceso cancelado"})},x=s=>{h.value=s.visibleDetails};return w(async()=>{await e.getOrdersBillDelivery(),o.value=e.orders}),(s,c)=>(u(),m(k,null,[a("div",L,[a("div",R,[a("h1",{class:"mb-4 text-primary-900 font-inter font-semibold text-2xl"},[E(" Despacho "),a("a",{style:{cursor:"pointer"},onClick:D},$)]),i(I,{type:t(n).RESPONSIBLE_BILLER,methodShipping:t(n).METHOD_SHIPPING_DELIVERY,orders:t(e).orders,onSearch:v},null,8,["type","methodShipping","orders"])]),i(S,{orders:o.value,actions:f.value,onAction:g},null,8,["orders","actions"]),t(e).visibleDialog?(u(),B(V,{key:0,visible:t(e).visibleDialog,"onUpdate:visible":c[0]||(c[0]=r=>t(e).visibleDialog=r),orderDetails:t(e).order,onVisible:x},null,8,["visible","orderDetails"])):p("",!0),o.value.length===0?(u(),m("div",F,[G,i(t(N),{label:"Regresar",severity:"primary",outlined:"",onClick:y,class:"ml-3 !py-1.5"})])):p("",!0)]),i(t(C))],64))}};export{X as default};
