import{s as A,a as z}from"./tabpanel.esm-707619ff.js";import{b as m,h as O,o as p,i as N,w as n,f as a,g as C,t as $,a as e,u as l,s as h,j as P,c as k,F as j,k as K,l as G,m as Q,r as J,p as D,q as W}from"./index-ac636c84.js";import{a as V,b as U,s as d,c as H}from"./tag.esm-39672ae7.js";import{s as c}from"./treeselect.esm-dc76d061.js";import{_ as q}from"./Search-56db4deb.js";import{u as E}from"./OrdersApiService-84069509.js";const X=a("h1",{class:"mb-1 text-primary-900 font-inter font-semibold text-xl"},[a("i",{class:"pi pi-eye !text-xl"}),C(" Ver Documentos ")],-1),Y={class:"flex align-center mb-2"},Z={class:"text-primary-900"},ee=a("strong",{class:"mr-3 font-semibold"},"Nota de venta N°",-1),le=a("div",{class:"mt-5"},[a("p",null," 2 archivos adjuntos "),a("div",{class:"flex"},[a("div",{class:"mt-2 mr-5",width:"200",height:"180"},[a("embed",{class:"w-full",src:"http://ocw.uv.es/ingenieria-y-arquitectura/programacionmultimedia/t2-1-css.pdf",type:"application/pdf"}),a("div",{class:"bg-gray-100"},[a("i",{class:"pi pi-file-pdf m-2",style:{color:"#F40F02"}}),a("a",{href:"#",class:"font-normal text-sm"},"Nombre de pdf")])]),a("div",{class:"mt-2 mr-5",width:"200",height:"180"},[a("embed",{class:"w-full",src:"http://ocw.uv.es/ingenieria-y-arquitectura/programacionmultimedia/t2-1-css.pdf",type:"application/pdf"}),a("div",{class:"bg-gray-100"},[a("i",{class:"pi pi-file-pdf m-2",style:{color:"#F40F02"}}),a("a",{href:"#",class:"font-normal text-sm"},"Nombre de pdf")])])])],-1),ae={__name:"DialogDetail",props:{order:String},setup(_){const f=_,s=m([]);return O(()=>{s.value=f.order}),(u,i)=>(p(),N(l(P),{modal:"",header:" ",style:{width:"70vw"}},{default:n(()=>[a("div",null,[X,a("div",Y,[a("p",Z,[ee,C($(s.value.DocNum),1)]),e(l(V),{icon:"pi pi-shopping-bag",value:s.value.MethodShippingName,class:"ml-3 tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),e(l(V),{icon:"pi pi-user",value:s.value.Customer.CardName,class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["value"]),le]),e(l(h),{label:"Cerrar",onClick:i[0]||(i[0]=v=>u.visible=!1),class:"!py-2 !border-none !px-10 !bg-primary-900 float-right mt-5"})]),_:1}))}},oe=a("h1",{class:"mb-1 text-primary-900 font-inter font-semibold text-xl"},[a("i",{class:"pi pi-eye !text-xl"}),C(" Ver observaciones ")],-1),te={class:"flex align-center mb-2"},se={class:"text-primary-900"},re=a("strong",{class:"mr-3 font-semibold"},"Nota de venta N°",-1),de={class:"mt-5"},ne=a("strong",null,"NOTA:",-1),ie=["innerHTML"],ue={__name:"DialogDetailObservation",props:{order:String},setup(_){const f=_,s=m([]);O(()=>{s.value=f.order});const u=i=>i.replace(/\r/g,"<br>").replace(/\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;");return(i,v)=>(p(),N(l(P),{modal:"",header:" ",style:{width:"70vw"}},{default:n(()=>[a("div",null,[oe,a("div",te,[a("p",se,[re,C($(s.value.DocNum),1)]),e(l(V),{icon:"pi pi-shopping-cart",value:s.value.MethodShippingName,class:"ml-3 tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),e(l(V),{icon:"pi pi-user",value:s.value.Customer.CardName,class:"tag-radius tag-rounded-blue tag-font-method mb-5"},null,8,["value"]),e(l(U),{tableStyle:"min-width: 50rem",filters:"filters",value:s.value.OrderItems},{default:n(()=>[e(l(d),{headerClass:"!bg-primary-900",field:"Quantity",header:"Cantidad"},{body:n(y=>[a("p",null,$(y.data.Quantity)+" Unidad",1)]),_:1}),e(l(d),{headerClass:"!bg-primary-900",field:"ItemCode",header:"SKU"}),e(l(d),{headerClass:"!bg-primary-900",field:"ItemDescription",header:"Producto"}),e(l(d),{headerClass:"!bg-primary-900",field:"Problems",header:"Problema"},{body:n(y=>[(p(!0),k(j,null,K(y.data.Problems,(b,w)=>(p(),N(l(V),{key:w,value:b.ProblemName,rounded:"",class:"mr-3 tag-radius tag-rounded-blue tag-font-method"},null,8,["value"]))),128))]),_:1})]),_:1},8,["value"]),a("div",de,[ne,C(),a("span",{innerHTML:u(s.value.Comments)},null,8,ie)])]),e(l(h),{label:"Cerrar",onClick:v[0]||(v[0]=y=>i.visibleObservation=!1),class:"!py-2 !border-none !px-10 !bg-primary-900 float-right mt-5"})]),_:1}))}},ce={class:"flex justify-between"},me=a("div",null,[a("h1",{class:"mb-2 text-primary-900 font-inter font-semibold text-2xl"}," Notas de venta ")],-1),pe={key:0},fe=a("h2",{class:"mb-4 text-primary-900 font-inter font-semibold text-xl"}," Aquí ",-1),he={class:"flex"},ve={class:"card flex justify-content-center"},be={class:"card flex justify-content-center"},ye={class:"card flex justify-content-center"},ge={class:"card flex justify-content-center mr-20"},Ve={class:"card flex justify-content-center"},Ce=a("div",null,[a("h2",{class:"mb-4 text-primary-900 font-inter font-semibold text-xl"}," Retiro / Despacho ")],-1),_e={class:"flex"},we={class:"card flex justify-content-center"},xe={class:"card flex justify-content-center"},Ne={class:"card flex justify-content-center"},$e={class:"card flex justify-content-center mr-5"},De={class:"card flex justify-content-center"},L=1,ke={__name:"ToManage",props:{ListOrders:Array},setup(_){const f=_,s=G(),u=Q(),i=E(),v=m(!1),y=m(!1),b=m({}),w=m(!1),T=m([]),M=m([f.ListOrders.filter(t=>t.MethodShippingId===L)]),x=m([f.ListOrders.filter(t=>t.MethodShippingId!==L)]);console.log(x.value[0]),T.value=x.value[0].map(t=>t.DocNum),console.log(T.value),M.value=M.value[0],x.value=x.value[0];const I=t=>{b.value={...t},y.value=!0,w.value=!0},R=t=>{v.value=!0,b.value={...t},w.value=!0},F=t=>{t||(b.value={},w.value=!1)},B=async t=>{s.require({message:"¿Estas seguro que deseas continuar?",header:"Confirmación",icon:"pi pi-exclamation-triangle",accept:async()=>{let r=await i.postActionOrder(t.id,1);if(u.add({severity:r.status,summary:"",detail:r.message,life:3e3}),r.status==="success"){const S=x.value.findIndex(o=>o===t);S!==-1&&x.value.splice(S,1)}},reject:()=>{}})};return(t,r)=>{const S=J("Toast");return p(),k(j,null,[a("div",ce,[me,e(q)]),M.value.length>0?(p(),k("div",pe,[fe,a("div",he,[a("div",ve,[e(l(c),{modelValue:t.selectedValue,"onUpdate:modelValue":r[0]||(r[0]=o=>t.selectedValue=o),options:t.nodes,selectionMode:"checkbox",placeholder:"Nota de venta",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),a("div",be,[e(l(c),{modelValue:t.selectedValue,"onUpdate:modelValue":r[1]||(r[1]=o=>t.selectedValue=o),options:t.nodes,selectionMode:"checkbox",placeholder:"Fecha",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),a("div",ye,[e(l(c),{modelValue:t.selectedValue,"onUpdate:modelValue":r[2]||(r[2]=o=>t.selectedValue=o),options:t.nodes,selectionMode:"checkbox",placeholder:"Hora",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),a("div",ge,[e(l(c),{modelValue:t.selectedValue,"onUpdate:modelValue":r[3]||(r[3]=o=>t.selectedValue=o),options:t.nodes,selectionMode:"checkbox",placeholder:"Cliente",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),a("div",Ve,[e(l(c),{modelValue:t.selectedValue,"onUpdate:modelValue":r[4]||(r[4]=o=>t.selectedValue=o),options:t.nodes,selectionMode:"checkbox",placeholder:"Total",class:"md:w-20rem w-full"},null,8,["modelValue","options"])])]),e(l(U),{class:"mb-20",value:M.value,tableStyle:"min-width: 50rem",filters:"filters",paginator:"",rows:5,dataKey:"id",filterDisplay:"row",loading:t.loading},{default:n(()=>[e(l(d),{headerClass:"!bg-primary-900",field:"DocNum",header:"Nota de venta"},{body:n(o=>[C(" N° "+$(o.data.DocNum),1)]),_:1}),e(l(d),{headerClass:"!bg-primary-900",field:"DocDate",header:"Fecha"}),e(l(d),{headerClass:"!bg-primary-900",field:"DocTime",header:"Hora"}),e(l(d),{headerClass:"!bg-primary-900",field:"Customer.CardName",header:"Cliente"}),e(l(d),{headerClass:"!bg-primary-900",field:"DocTotal",header:"Monto total"},{body:n(o=>[e(l(H),{modelValue:o.data.DocTotal,"onUpdate:modelValue":g=>o.data.DocTotal=g,class:"remove-format-input",inputId:"currency-us",mode:"currency",currency:"USD",locale:"en-US",readonly:"",minFractionDigits:0},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(l(d),{headerClass:"!bg-primary-900",field:"MethodShippingName",header:"Método entrega"},{body:n(o=>[e(l(V),{Tag:"",icon:"pi pi-shopping-cart",value:o.data.MethodShippingName,rounded:"",class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),_:1}),e(l(d),{headerClass:"!bg-primary-900",field:"note",header:" Observación"},{body:n(o=>[e(l(h),{icon:"pi pi-eye",onClick:g=>I(o.data),class:"!font-normal !text-primary-900",label:"Ver observación",link:""},null,8,["onClick"])]),_:1}),e(l(d),{headerClass:"!bg-primary-900",field:"note",header:""},{body:n(o=>[e(l(h),{label:"Informado",class:"!py-1.5 !border-primary-900 !text-primary-900",outlined:""})]),_:1})]),_:1},8,["value","loading"])])):D("",!0),Ce,a("div",_e,[a("div",we,[e(l(c),{modelValue:t.selectedValue,"onUpdate:modelValue":r[5]||(r[5]=o=>t.selectedValue=o),options:T.value,selectionMode:"checkbox",placeholder:"Nota de venta",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),a("div",xe,[e(l(c),{modelValue:t.selectedValue,"onUpdate:modelValue":r[6]||(r[6]=o=>t.selectedValue=o),options:t.nodes,selectionMode:"checkbox",placeholder:"Fecha",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),a("div",Ne,[e(l(c),{modelValue:t.selectedValue,"onUpdate:modelValue":r[7]||(r[7]=o=>t.selectedValue=o),options:t.nodes,selectionMode:"checkbox",placeholder:"Hora",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),a("div",$e,[e(l(c),{modelValue:t.selectedValue,"onUpdate:modelValue":r[8]||(r[8]=o=>t.selectedValue=o),options:t.nodes,selectionMode:"checkbox",placeholder:"Cliente",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),a("div",De,[e(l(c),{modelValue:t.selectedValue,"onUpdate:modelValue":r[9]||(r[9]=o=>t.selectedValue=o),options:t.nodes,selectionMode:"checkbox",placeholder:"Total",class:"md:w-20rem w-full"},null,8,["modelValue","options"])])]),e(l(U),{value:x.value,tableStyle:"min-width: 50rem",filters:"filters",paginator:"",rows:5,dataKey:"id",filterDisplay:"row",loading:t.loading},{default:n(()=>[e(l(d),{headerClass:"!bg-primary-900",field:"DocNum",header:"Nota de venta"},{body:n(o=>[C(" N° "+$(o.data.DocNum),1)]),_:1}),e(l(d),{headerClass:"!bg-primary-900",field:"DocDate",header:"Fecha"}),e(l(d),{headerClass:"!bg-primary-900",field:"DocTime",header:"Hora"}),e(l(d),{headerClass:"!bg-primary-900",field:"Customer.CardName",header:"Cliente"}),e(l(d),{headerClass:"!bg-primary-900",field:"DocTotal",header:"Monto total"},{body:n(o=>[e(l(H),{modelValue:o.data.DocTotal,"onUpdate:modelValue":g=>o.data.DocTotal=g,class:"remove-format-input",inputId:"currency-us",mode:"currency",currency:"USD",locale:"en-US",readonly:"",minFractionDigits:0},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(l(d),{headerClass:"!bg-primary-900",field:"MethodShippingName",header:"Método entrega"},{body:n(o=>[e(l(V),{Tag:"",icon:"pi pi-shopping-cart",value:o.data.MethodShippingName,rounded:"",class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),_:1}),e(l(d),{headerClass:"!bg-primary-900",field:"note",header:"Documentos"},{body:n(o=>[e(l(h),{icon:"pi pi-eye",onClick:g=>R(o.data),class:"!font-normal !text-primary-900",label:"Ver documentos",link:""},null,8,["onClick"])]),_:1}),e(l(d),{headerClass:"!bg-primary-900",field:"note",header:" Observación"},{body:n(o=>[o.data.OrderStatusId==4?(p(),N(l(h),{key:0,icon:"pi pi-eye",onClick:g=>I(o.data),class:"!font-normal !text-primary-900",label:"Ver observación",link:""},null,8,["onClick"])):D("",!0)]),_:1}),e(l(d),{headerClass:"!bg-primary-900",field:"note",header:""},{body:n(o=>[e(l(h),{label:"Rechazar",onClick:r[10]||(r[10]=g=>t.visibleReport=!0),class:"!py-1.5 mr-3 !border-primary-900 !text-primary-900",outlined:""}),e(l(h),{label:"Autorizar",onClick:g=>B(o.data),class:"!py-1.5 !border-primary-900 !text-primary-900",outlined:""},null,8,["onClick"])]),_:1})]),_:1},8,["value","loading"]),w.value?(p(),N(ae,{visible:v.value,"onUpdate:visible":[r[11]||(r[11]=o=>v.value=o),F],order:b.value,key:b.value.timestamp},null,8,["visible","order"])):D("",!0),w.value?(p(),N(ue,{visible:y.value,"onUpdate:visible":[r[12]||(r[12]=o=>y.value=o),F],order:b.value,key:b.value.timestamp},null,8,["visible","order"])):D("",!0),e(S),e(l(W))],64)}}},Me={class:"flex justify-between"},Se=a("div",null,[a("h1",{class:"mb-2 text-primary-900 font-inter font-semibold text-2xl"}," Notas de venta "),a("h2",{class:"mb-4 text-primary-900 font-inter font-semibold text-xl"}," Aquí ")],-1),Ue={class:"flex"},Te={class:"card flex justify-content-center"},Oe={class:"card flex justify-content-center"},je={class:"card flex justify-content-center"},Ie={class:"card flex justify-content-center mr-20"},Fe={class:"card flex justify-content-center"},Ae={__name:"Managed",setup(_){const f=m([{statusId:1,note:"4567892",date:"19/04/2023",hour:"10:26",client:"Daniel Ramirez Palma",status:"En espera",totalAmount:"$200",btnInfo:"Informado"},{statusId:2,note:"0998764",date:"19/04/2023",hour:"10:58",client:"Lucas Sandoval",status:"En preparación",totalAmount:"$300"}]);return(s,u)=>(p(),k(j,null,[a("div",Me,[Se,e(q)]),a("div",Ue,[a("div",Te,[e(l(c),{modelValue:s.selectedValue,"onUpdate:modelValue":u[0]||(u[0]=i=>s.selectedValue=i),options:s.nodes,selectionMode:"checkbox",placeholder:"Nota de venta",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),a("div",Oe,[e(l(c),{modelValue:s.selectedValue,"onUpdate:modelValue":u[1]||(u[1]=i=>s.selectedValue=i),options:s.nodes,selectionMode:"checkbox",placeholder:"Fecha",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),a("div",je,[e(l(c),{modelValue:s.selectedValue,"onUpdate:modelValue":u[2]||(u[2]=i=>s.selectedValue=i),options:s.nodes,selectionMode:"checkbox",placeholder:"Hora",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),a("div",Ie,[e(l(c),{modelValue:s.selectedValue,"onUpdate:modelValue":u[3]||(u[3]=i=>s.selectedValue=i),options:s.nodes,selectionMode:"checkbox",placeholder:"Cliente",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),a("div",Fe,[e(l(c),{modelValue:s.selectedValue,"onUpdate:modelValue":u[4]||(u[4]=i=>s.selectedValue=i),options:s.nodes,selectionMode:"checkbox",placeholder:"Total",class:"md:w-20rem w-full"},null,8,["modelValue","options"])])]),e(l(U),{class:"mb-20",value:f.value,tableStyle:"min-width: 50rem"},{default:n(()=>[e(l(d),{headerClass:"!bg-primary-900",field:"note",header:"Nota de venta"},{body:n(i=>[C(" N° "+$(i.data.note),1)]),_:1}),e(l(d),{headerClass:"!bg-primary-900",field:"date",header:"Fecha"}),e(l(d),{headerClass:"!bg-primary-900",field:"hour",header:"Hora"}),e(l(d),{headerClass:"!bg-primary-900",field:"client",header:"Cliente"}),e(l(d),{headerClass:"!bg-primary-900",field:"totalAmount",header:"Monto total"}),e(l(d),{headerClass:"!bg-primary-900",field:"totalAmount",header:"Método entrega"},{body:n(i=>[e(l(V),{Tag:"",icon:"pi pi-shopping-cart",value:"Aquí",rounded:"",class:"!font-normal !text-md !px-3 !bg-primary-100 !text-primary-900"})]),_:1}),e(l(d),{headerClass:"!bg-primary-900",field:"note",header:" Observación"},{body:n(i=>[e(l(h),{icon:"pi pi-eye",class:"!font-normal !text-primary-900",label:"Ver observación",link:""})]),_:1}),e(l(d),{headerClass:"!bg-primary-900",field:"note",header:""},{body:n(i=>[e(l(h),{label:"Informado",class:"!py-1.5 !border-primary-900 !text-primary-900",outlined:""})]),_:1})]),_:1},8,["value"])],64))}};const He={class:"px-3"},ze={__name:"SalesNotes",setup(_){const f=E(),s=m([]),u=m(!1);return O(async()=>{s.value=await f.getOrders(),u.value=!0}),(i,v)=>(p(),k("div",He,[e(l(z),null,{default:n(()=>[e(l(A),{header:"Por gestionar"},{default:n(()=>[u.value?(p(),N(ke,{key:0,ListOrders:s.value},null,8,["ListOrders"])):D("",!0)]),_:1}),e(l(A),{header:"Gestionadas"},{default:n(()=>[e(Ae)]),_:1})]),_:1})]))}};export{ze as default};
