import{s as R,a as X}from"./tabpanel.esm-8b42aa4f.js";import{b as m,h as A,o as u,i as p,w as i,f as l,g as x,t as $,a,u as e,s as b,j as K,c as M,F as H,k as Y,l as Z,m as ee,p as ae,r as le,q as S,v as te,x as oe,y as se}from"./index-79697dd1.js";import{a as w,b as F,s as r,c as B}from"./tag.esm-722117a8.js";import{_ as G,s as h}from"./multiselect.esm-b9293649.js";import{u as Q}from"./OrdersApiService-1a3f8278.js";import{_ as re}from"./_plugin-vue_export-helper-c27b6911.js";import{s as T}from"./treeselect.esm-b304b49c.js";import"./index.esm-e70c447a.js";const de=l("h1",{class:"mb-1 text-primary-900 font-inter font-semibold text-xl"},[l("i",{class:"pi pi-eye !text-xl"}),x(" Ver Documentos ")],-1),ie={class:"flex align-center mb-2"},ne={class:"text-primary-900"},ue=l("strong",{class:"mr-3 font-semibold"},"Nota de venta N°",-1),ce=l("div",{class:"mt-5"},[l("p",null," 2 archivos adjuntos "),l("div",{class:"flex"},[l("div",{class:"mt-2 mr-5",width:"200",height:"180"},[l("embed",{class:"w-full",src:"http://ocw.uv.es/ingenieria-y-arquitectura/programacionmultimedia/t2-1-css.pdf",type:"application/pdf"}),l("div",{class:"bg-gray-100"},[l("i",{class:"pi pi-file-pdf m-2",style:{color:"#F40F02"}}),l("a",{href:"#",class:"font-normal text-sm"},"Nombre de pdf")])]),l("div",{class:"mt-2 mr-5",width:"200",height:"180"},[l("embed",{class:"w-full",src:"http://ocw.uv.es/ingenieria-y-arquitectura/programacionmultimedia/t2-1-css.pdf",type:"application/pdf"}),l("div",{class:"bg-gray-100"},[l("i",{class:"pi pi-file-pdf m-2",style:{color:"#F40F02"}}),l("a",{href:"#",class:"font-normal text-sm"},"Nombre de pdf")])])])],-1),me={__name:"DialogDetail",props:{order:String},setup(f){const v=f,o=m([]);return A(()=>{o.value=v.order}),(c,n)=>(u(),p(e(K),{modal:"",header:" ",style:{width:"70vw"}},{default:i(()=>[l("div",null,[de,l("div",ie,[l("p",ne,[ue,x($(o.value.DocNum),1)]),a(e(w),{icon:"pi pi-shopping-bag",value:o.value.MethodShippingName,class:"ml-3 tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),a(e(w),{icon:"pi pi-user",value:o.value.Customer.CardName,class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["value"]),ce]),a(e(b),{label:"Cerrar",onClick:n[0]||(n[0]=g=>c.visible=!1),class:"!py-2 !border-none !px-10 !bg-primary-900 float-right mt-5"})]),_:1}))}},pe=l("h1",{class:"mb-1 text-primary-900 font-inter font-semibold text-xl"},[l("i",{class:"pi pi-eye !text-xl"}),x(" Ver observaciones ")],-1),fe={class:"flex align-center mb-2"},ve={class:"text-primary-900"},ye=l("strong",{class:"mr-3 font-semibold"},"Nota de venta N°",-1),he={class:"mt-5"},be=l("strong",null,"NOTA:",-1),ge=["innerHTML"],_e={__name:"DialogDetailObservation",props:{order:String},setup(f){const v=f,o=m([]);A(()=>{o.value=v.order});const c=n=>n.replace(/\r/g,"<br>").replace(/\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;");return(n,g)=>(u(),p(e(K),{modal:"",header:" ",style:{width:"70vw"}},{default:i(()=>[l("div",null,[pe,l("div",fe,[l("p",ve,[ye,x($(o.value.DocNum),1)]),a(e(w),{icon:"pi pi-shopping-cart",value:o.value.MethodShippingName,class:"ml-3 tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),a(e(w),{icon:"pi pi-user",value:o.value.Customer.CardName,class:"tag-radius tag-rounded-blue tag-font-method mb-5"},null,8,["value"]),a(e(F),{tableStyle:"min-width: 50rem",filters:"filters",value:o.value.OrderItems},{default:i(()=>[a(e(r),{headerClass:"!bg-primary-900",field:"Quantity",header:"Cantidad"},{body:i(C=>[l("p",null,$(C.data.Quantity)+" Unidad",1)]),_:1}),a(e(r),{headerClass:"!bg-primary-900",field:"ItemCode",header:"SKU"}),a(e(r),{headerClass:"!bg-primary-900",field:"ItemDescription",header:"Producto"}),a(e(r),{headerClass:"!bg-primary-900",field:"Problems",header:"Problema"},{body:i(C=>[(u(!0),M(H,null,Y(C.data.Problems,(_,N)=>(u(),p(e(w),{key:N,value:_.ProblemName,rounded:"",class:"mr-3 tag-radius tag-rounded-blue tag-font-method"},null,8,["value"]))),128))]),_:1})]),_:1},8,["value"]),l("div",he,[be,x(),l("span",{innerHTML:c(o.value.Comments)},null,8,ge)])]),a(e(b),{label:"Cerrar",onClick:g[0]||(g[0]=C=>n.visibleObservation=!1),class:"!py-2 !border-none !px-10 !bg-primary-900 float-right mt-5"})]),_:1}))}};const P=f=>(oe("data-v-e6deaded"),f=f(),se(),f),Ve={class:"flex justify-between"},Ce=P(()=>l("div",null,[l("h1",{class:"mb-2 text-primary-900 font-inter font-semibold text-2xl"}," Notas de venta ")],-1)),De={key:0},we=P(()=>l("h2",{class:"mb-4 text-primary-900 font-inter font-semibold text-xl"}," Aquí ",-1)),xe={class:"flex"},Ne={class:"card flex justify-content-center"},$e={class:"card flex justify-content-center"},ke={class:"card flex justify-content-center"},Te={class:"card flex justify-content-center mr-5"},Se={class:"card flex justify-content-center"},Me=P(()=>l("div",null,[l("h2",{class:"mb-4 text-primary-900 font-inter font-semibold text-xl"}," Retiro / Despacho ")],-1)),Ue={class:"flex"},Oe={class:"card flex justify-content-center"},Ie={class:"card flex justify-content-center"},Le={class:"card flex justify-content-center"},je={class:"card flex justify-content-center mr-5"},Fe={class:"card flex justify-content-center"},z=1,Ae={__name:"ToManage",props:{ListOrders:Array},setup(f){const v=f,o=Z(),c=ee(),n=Q(),g=m(!1),C=m(!1),_=m({}),N=m(!1),k=m([]),U=m([]),O=m([]),I=m([]),L=m([]);ae(k,d=>{console.log("Nuevo valor de myState:",d)});const V=m([v.ListOrders.filter(d=>d.MethodShippingId===z)]),y=m([v.ListOrders.filter(d=>d.MethodShippingId!==z)]);V.value=V.value[0],y.value=y.value[0];const q=d=>{_.value={...d},C.value=!0,N.value=!0},J=d=>{g.value=!0,_.value={...d},N.value=!0},E=d=>{d||(_.value={},N.value=!1)},W=async d=>{o.require({message:"¿Estas seguro que deseas continuar?",header:"Confirmación",icon:"pi pi-exclamation-triangle",accept:async()=>{let s=await n.postActionOrder(d.id,1);if(c.add({severity:s.status,summary:"",detail:s.message,life:3e3}),s.status==="success"){const j=y.value.findIndex(t=>t===d);j!==-1&&y.value.splice(j,1)}},reject:()=>{}})};return(d,s)=>{const j=le("Toast");return u(),M(H,null,[l("div",Ve,[Ce,a(G)]),V.value.length>0?(u(),M("div",De,[we,l("div",xe,[l("div",Ne,[(u(),p(e(h),{modelValue:k.value,"onUpdate:modelValue":s[0]||(s[0]=t=>k.value=t),options:V.value,filter:"",optionLabel:"DocNum",placeholder:"Nota de venta",display:"chip",class:"w-full md:w-20rem",style:{border:"none"},key:d.DocNum},null,8,["modelValue","options"]))]),l("div",$e,[(u(),p(e(h),{modelValue:U.value,"onUpdate:modelValue":s[1]||(s[1]=t=>U.value=t),options:V.value,filter:"",optionLabel:"DocDate",placeholder:"Fecha",display:"chip",class:"w-full md:w-20rem",style:{border:"none"},key:d.DocDate},null,8,["modelValue","options"]))]),l("div",ke,[(u(),p(e(h),{modelValue:O.value,"onUpdate:modelValue":s[2]||(s[2]=t=>O.value=t),options:V.value,filter:"",optionLabel:"DocTime",placeholder:"Hora",display:"chip",class:"w-full md:w-20rem",style:{border:"none"},key:d.DocTime},null,8,["modelValue","options"]))]),l("div",Te,[a(e(h),{modelValue:I.value,"onUpdate:modelValue":s[3]||(s[3]=t=>I.value=t),options:V.value,filter:"",optionLabel:"Customer.CardName",placeholder:"Clientes",display:"chip",class:"w-full md:w-20rem",style:{border:"none"}},null,8,["modelValue","options"])]),l("div",Se,[(u(),p(e(h),{modelValue:L.value,"onUpdate:modelValue":s[4]||(s[4]=t=>L.value=t),options:V.value,filter:"",optionLabel:"DocTotal",placeholder:"Total",display:"chip",class:"w-full md:w-20rem",style:{border:"none"},key:d.DocTotal},null,8,["modelValue","options"]))])]),a(e(F),{class:"mb-20",value:V.value,tableStyle:"min-width: 50rem",filters:"filters",paginator:"",rows:5,dataKey:"id",filterDisplay:"row",loading:d.loading},{default:i(()=>[a(e(r),{headerClass:"!bg-primary-900",field:"DocNum",header:"Nota de venta"},{body:i(t=>[x(" N° "+$(t.data.DocNum),1)]),_:1}),a(e(r),{headerClass:"!bg-primary-900",field:"DocDate",header:"Fecha"}),a(e(r),{headerClass:"!bg-primary-900",field:"DocTime",header:"Hora"}),a(e(r),{headerClass:"!bg-primary-900",field:"Customer.CardName",header:"Cliente"}),a(e(r),{headerClass:"!bg-primary-900",field:"DocTotal",header:"Monto total"},{body:i(t=>[a(e(B),{modelValue:t.data.DocTotal,"onUpdate:modelValue":D=>t.data.DocTotal=D,class:"remove-format-input",inputId:"currency-us",mode:"currency",currency:"USD",locale:"en-US",readonly:"",minFractionDigits:0},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),a(e(r),{headerClass:"!bg-primary-900",field:"MethodShippingName",header:"Método entrega"},{body:i(t=>[a(e(w),{Tag:"",icon:"pi pi-shopping-cart",value:t.data.MethodShippingName,rounded:"",class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),_:1}),a(e(r),{headerClass:"!bg-primary-900",field:"note",header:" Observación"},{body:i(t=>[a(e(b),{icon:"pi pi-eye",onClick:D=>q(t.data),class:"!font-normal !text-primary-900",label:"Ver observación",link:""},null,8,["onClick"])]),_:1}),a(e(r),{headerClass:"!bg-primary-900",field:"note",header:""},{body:i(t=>[a(e(b),{label:"Informado",class:"!py-1.5 !border-primary-900 !text-primary-900",outlined:""})]),_:1})]),_:1},8,["value","loading"])])):S("",!0),Me,l("div",Ue,[l("div",Oe,[(u(),p(e(h),{modelValue:k.value,"onUpdate:modelValue":s[5]||(s[5]=t=>k.value=t),options:y.value,filter:"",optionLabel:"DocNum",placeholder:"Nota de venta",display:"chip",class:"w-full md:w-20rem",style:{border:"none"},key:d.DocNum},null,8,["modelValue","options"]))]),l("div",Ie,[(u(),p(e(h),{modelValue:U.value,"onUpdate:modelValue":s[6]||(s[6]=t=>U.value=t),options:y.value,filter:"",optionLabel:"DocDate",placeholder:"Fecha",display:"chip",class:"w-full md:w-20rem",style:{border:"none"},key:d.DocDate},null,8,["modelValue","options"]))]),l("div",Le,[(u(),p(e(h),{modelValue:O.value,"onUpdate:modelValue":s[7]||(s[7]=t=>O.value=t),options:y.value,filter:"",optionLabel:"DocTime",placeholder:"Hora",display:"chip",class:"w-full md:w-20rem",style:{border:"none"},key:d.DocTime},null,8,["modelValue","options"]))]),l("div",je,[a(e(h),{modelValue:I.value,"onUpdate:modelValue":s[8]||(s[8]=t=>I.value=t),options:y.value,filter:"",optionLabel:"Customer.CardName",placeholder:"Clientes",display:"chip",class:"w-full md:w-20rem",style:{border:"none"}},null,8,["modelValue","options"])]),l("div",Fe,[(u(),p(e(h),{modelValue:L.value,"onUpdate:modelValue":s[9]||(s[9]=t=>L.value=t),options:y.value,filter:"",optionLabel:"DocTotal",placeholder:"Total",display:"chip",class:"w-full md:w-20rem",style:{border:"none"},key:d.DocTotal},null,8,["modelValue","options"]))])]),a(e(F),{value:y.value,tableStyle:"min-width: 50rem",filters:"filters",paginator:"",rows:5,dataKey:"id",filterDisplay:"row",loading:d.loading},{default:i(()=>[a(e(r),{headerClass:"!bg-primary-900",field:"DocNum",header:"Nota de venta"},{body:i(t=>[x(" N° "+$(t.data.DocNum),1)]),_:1}),a(e(r),{headerClass:"!bg-primary-900",field:"DocDate",header:"Fecha"}),a(e(r),{headerClass:"!bg-primary-900",field:"DocTime",header:"Hora"}),a(e(r),{headerClass:"!bg-primary-900",field:"Customer.CardName",header:"Cliente"}),a(e(r),{headerClass:"!bg-primary-900",field:"DocTotal",header:"Monto total"},{body:i(t=>[a(e(B),{modelValue:t.data.DocTotal,"onUpdate:modelValue":D=>t.data.DocTotal=D,class:"remove-format-input",inputId:"currency-us",mode:"currency",currency:"USD",locale:"en-US",readonly:"",minFractionDigits:0},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),a(e(r),{headerClass:"!bg-primary-900",field:"MethodShippingName",header:"Método entrega"},{body:i(t=>[a(e(w),{Tag:"",icon:"pi pi-shopping-cart",value:t.data.MethodShippingName,rounded:"",class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),_:1}),a(e(r),{headerClass:"!bg-primary-900",field:"note",header:"Documentos"},{body:i(t=>[a(e(b),{icon:"pi pi-eye",onClick:D=>J(t.data),class:"!font-normal !text-primary-900",label:"Ver documentos",link:""},null,8,["onClick"])]),_:1}),a(e(r),{headerClass:"!bg-primary-900",field:"note",header:" Observación"},{body:i(t=>[t.data.OrderStatusId==4?(u(),p(e(b),{key:0,icon:"pi pi-eye",onClick:D=>q(t.data),class:"!font-normal !text-primary-900",label:"Ver observación",link:""},null,8,["onClick"])):S("",!0)]),_:1}),a(e(r),{headerClass:"!bg-primary-900",field:"note",header:""},{body:i(t=>[a(e(b),{label:"Rechazar",onClick:s[10]||(s[10]=D=>d.visibleReport=!0),class:"!py-1.5 mr-3 !border-primary-900 !text-primary-900",outlined:""}),a(e(b),{label:"Autorizar",onClick:D=>W(t.data),class:"!py-1.5 !border-primary-900 !text-primary-900",outlined:""},null,8,["onClick"])]),_:1})]),_:1},8,["value","loading"]),N.value?(u(),p(me,{visible:g.value,"onUpdate:visible":[s[11]||(s[11]=t=>g.value=t),E],order:_.value,key:_.value.timestamp},null,8,["visible","order"])):S("",!0),N.value?(u(),p(_e,{visible:C.value,"onUpdate:visible":[s[12]||(s[12]=t=>C.value=t),E],order:_.value,key:_.value.timestamp},null,8,["visible","order"])):S("",!0),a(j),a(e(te))],64)}}},He=re(Ae,[["__scopeId","data-v-e6deaded"]]),Pe={class:"flex justify-between"},qe=l("div",null,[l("h1",{class:"mb-2 text-primary-900 font-inter font-semibold text-2xl"}," Notas de venta "),l("h2",{class:"mb-4 text-primary-900 font-inter font-semibold text-xl"}," Aquí ")],-1),Ee={class:"flex"},Re={class:"card flex justify-content-center"},Be={class:"card flex justify-content-center"},ze={class:"card flex justify-content-center"},Ke={class:"card flex justify-content-center mr-20"},Ge={class:"card flex justify-content-center"},Qe={__name:"Managed",setup(f){const v=m([{statusId:1,note:"4567892",date:"19/04/2023",hour:"10:26",client:"Daniel Ramirez Palma",status:"En espera",totalAmount:"$200",btnInfo:"Informado"},{statusId:2,note:"0998764",date:"19/04/2023",hour:"10:58",client:"Lucas Sandoval",status:"En preparación",totalAmount:"$300"}]);return(o,c)=>(u(),M(H,null,[l("div",Pe,[qe,a(G)]),l("div",Ee,[l("div",Re,[a(e(T),{modelValue:o.selectedValue,"onUpdate:modelValue":c[0]||(c[0]=n=>o.selectedValue=n),options:o.nodes,selectionMode:"checkbox",placeholder:"Nota de venta",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),l("div",Be,[a(e(T),{modelValue:o.selectedValue,"onUpdate:modelValue":c[1]||(c[1]=n=>o.selectedValue=n),options:o.nodes,selectionMode:"checkbox",placeholder:"Fecha",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),l("div",ze,[a(e(T),{modelValue:o.selectedValue,"onUpdate:modelValue":c[2]||(c[2]=n=>o.selectedValue=n),options:o.nodes,selectionMode:"checkbox",placeholder:"Hora",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),l("div",Ke,[a(e(T),{modelValue:o.selectedValue,"onUpdate:modelValue":c[3]||(c[3]=n=>o.selectedValue=n),options:o.nodes,selectionMode:"checkbox",placeholder:"Cliente",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),l("div",Ge,[a(e(T),{modelValue:o.selectedValue,"onUpdate:modelValue":c[4]||(c[4]=n=>o.selectedValue=n),options:o.nodes,selectionMode:"checkbox",placeholder:"Total",class:"md:w-20rem w-full"},null,8,["modelValue","options"])])]),a(e(F),{class:"mb-20",value:v.value,tableStyle:"min-width: 50rem"},{default:i(()=>[a(e(r),{headerClass:"!bg-primary-900",field:"note",header:"Nota de venta"},{body:i(n=>[x(" N° "+$(n.data.note),1)]),_:1}),a(e(r),{headerClass:"!bg-primary-900",field:"date",header:"Fecha"}),a(e(r),{headerClass:"!bg-primary-900",field:"hour",header:"Hora"}),a(e(r),{headerClass:"!bg-primary-900",field:"client",header:"Cliente"}),a(e(r),{headerClass:"!bg-primary-900",field:"totalAmount",header:"Monto total"}),a(e(r),{headerClass:"!bg-primary-900",field:"totalAmount",header:"Método entrega"},{body:i(n=>[a(e(w),{Tag:"",icon:"pi pi-shopping-cart",value:"Aquí",rounded:"",class:"!font-normal !text-md !px-3 !bg-primary-100 !text-primary-900"})]),_:1}),a(e(r),{headerClass:"!bg-primary-900",field:"note",header:" Observación"},{body:i(n=>[a(e(b),{icon:"pi pi-eye",class:"!font-normal !text-primary-900",label:"Ver observación",link:""})]),_:1}),a(e(r),{headerClass:"!bg-primary-900",field:"note",header:""},{body:i(n=>[a(e(b),{label:"Informado",class:"!py-1.5 !border-primary-900 !text-primary-900",outlined:""})]),_:1})]),_:1},8,["value"])],64))}};const Je={class:"px-3"},oa={__name:"SalesNotes",setup(f){const v=Q(),o=m([]),c=m(!1);return A(async()=>{o.value=await v.getOrders(),c.value=!0}),(n,g)=>(u(),M("div",Je,[a(e(X),null,{default:i(()=>[a(e(R),{header:"Por gestionar"},{default:i(()=>[c.value?(u(),p(He,{key:0,ListOrders:o.value},null,8,["ListOrders"])):S("",!0)]),_:1}),a(e(R),{header:"Gestionadas"},{default:i(()=>[a(Qe)]),_:1})]),_:1})]))}};export{oa as default};
