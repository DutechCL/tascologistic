import{s as i,a as u,b as _}from"./tag.esm-47cdb6e9.js";import{U as H,_ as I,a as k}from"./UseSearch-4b86e484.js";import{u as A}from"./OrdersApiService-dcad317b.js";import{e as C,k as B,r as V,o as d,c as N,v as l,h as s,a as r,u as a,A as R,w as t,i as m,t as S,m as c,n as O}from"./index-a463fc81.js";import"./multiselect.esm-d49c92b3.js";import"./index.esm-530eeedf.js";import"./index.esm-62966235.js";const $={class:"px-8"},E={key:0,class:"text-center",style:{color:"#259bd7"}},z=s("i",{class:"pi pi-spin pi-spinner",style:{"font-size":"2rem"}},null,-1),K=[z],P={class:"flex justify-between"},U=s("div",null,[s("h1",{class:"mb-2 text-primary-900 font-inter font-semibold text-2xl"}," Pickeo / Revisión "),s("h2",{class:"mb-4 text-primary-900 font-inter font-semibold text-xl"}," Aquí ")],-1),j={class:"flex"},q=["colspan"],L=s("div",null,[s("h2",{class:"mb-4 text-primary-900 font-inter font-semibold text-xl"}," Retiro / Despacho ")],-1),G={class:"flex"},J=["colspan"],te={__name:"PickupReview",setup(Q){const w=A(),y=C([]),f=C(!1);B(async()=>{y.value=await w.getOrdersPickerAndReviewer(),f.value=!0});const{ordersHere:h,ordersPickupAndDelivery:b,allOrdersPickupAndDelivery:x,allOrdersHere:D,search:F}=H(y),g=o=>{o.type==="Here"?h.value=o.orders:b.value=o.orders};function v(o){const n=M(o);return(.299*n.r+.587*n.g+.114*n.b)/255>.5?"#000000":"#FFFFFF"}function M(o){const n=parseInt(o.substring(1),16),p=n>>16&255,e=n>>8&255,T=n&255;return{r:p,g:e,b:T}}return(o,n)=>{const p=V("router-link");return d(),N("div",$,[f.value?l("",!0):(d(),N("div",E,K)),s("div",null,[s("div",P,[U,r(I,{onSearch:a(F)},null,8,["onSearch"])]),s("div",j,[r(k,{typeOrders:"Here",allOrders:a(D),onFilter:g},null,8,["allOrders"])]),r(a(_),{class:"mb-20",value:a(h),tableStyle:"min-width: 50rem",filters:"filters",paginator:"",rows:5,dataKey:"id",filterDisplay:"row",loading:o.loading},R({default:t(()=>[r(a(i),{headerClass:"!bg-primary-900",field:"DocNum",header:"Nota de venta"},{body:t(e=>[m(" N° "+S(e.data.DocNum),1)]),_:1}),r(a(i),{headerClass:"!bg-primary-900",field:"DocDate",header:"Fecha"}),r(a(i),{headerClass:"!bg-primary-900",field:"DocTime",header:"Hora"}),r(a(i),{headerClass:"!bg-primary-900",field:"Customer.CardName",header:"Cliente"}),r(a(i),{headerClass:"!bg-primary-900",field:"MethodShippingName",header:"Método entrega"},{body:t(e=>[r(a(u),{Tag:"",icon:"pi pi-shopping-cart",value:e.data.MethodShippingName,rounded:"",class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),_:1}),r(a(i),{headerClass:"!bg-primary-900",field:"ResponsiblePickerName",header:"Picker"},{body:t(e=>[e.data.ResponsiblePickerName?(d(),c(a(u),{key:0,icon:"pi pi-user",value:e.data.ResponsiblePickerName,class:"tag-rounded-blue tag-font-method tag-radius"},null,8,["value"])):l("",!0)]),_:1}),r(a(i),{headerClass:"!bg-primary-900",field:"ResponsibleReviewerName",header:"Revisor"},{body:t(e=>[e.data.ResponsibleReviewerName?(d(),c(a(u),{key:0,icon:"pi pi-user",value:e.data.ResponsibleReviewerName,class:"tag-rounded-blue tag-font-method tag-radius"},null,8,["value"])):l("",!0)]),_:1}),r(a(i),{headerClass:"!bg-primary-900",field:"OrderStatusName",header:"Estado"},{body:t(e=>[r(a(u),{icon:"pi pi-circle-fill",value:e.data.OrderStatusName,style:O({backgroundColor:e.data.OrderStatusColor,color:v(e.data.OrderStatusColor)}),class:"tag-font-method tag-radius"},null,8,["value","style"])]),_:1}),r(a(i),{headerClass:"!bg-primary-900",field:"note",header:""},{body:t(e=>[e.data.OrderStatusId!=3?(d(),c(p,{key:0,to:{name:"review-notes",params:{id:e.data.id,responsible:"picker"}},class:"p-button p-component p-button-outlined !py-1.5 !border-primary-900 !text-primary-900"},{default:t(()=>[m("Pickear")]),_:2},1032,["to"])):l("",!0),e.data.OrderStatusId==3?(d(),c(p,{key:1,to:{name:"review-notes",params:{id:e.data.id,responsible:"revisor"}},class:"p-button p-component p-button-outlined !py-1.5 !border-primary-900 !text-primary-900"},{default:t(()=>[m("Revisar")]),_:2},1032,["to"])):l("",!0)]),_:1})]),_:2},[a(h).length===0?{name:"footer",fn:t(()=>[s("tr",null,[s("td",{colspan:o.numberOfColumns,class:"text-not-info"}," No hay órdenes disponible. ",8,q)])]),key:"0"}:void 0]),1032,["value","loading"])]),s("div",null,[L,s("div",G,[r(k,{typeOrders:"Pickup",allOrders:a(x),onFilter:g},null,8,["allOrders"])]),r(a(_),{class:"mb-20",value:a(b),tableStyle:"min-width: 50rem",filters:"filters",paginator:"",rows:5,dataKey:"id",filterDisplay:"row",loading:o.loading},R({default:t(()=>[r(a(i),{headerClass:"!bg-primary-900",field:"DocNum",header:"Nota de venta"},{body:t(e=>[m(" N° "+S(e.data.DocNum),1)]),_:1}),r(a(i),{headerClass:"!bg-primary-900",field:"DocDate",header:"Fecha"}),r(a(i),{headerClass:"!bg-primary-900",field:"DocTime",header:"Hora"}),r(a(i),{headerClass:"!bg-primary-900",field:"Customer.CardName",header:"Cliente"}),r(a(i),{headerClass:"!bg-primary-900",field:"MethodShippingName",header:"Método entrega"},{body:t(e=>[r(a(u),{Tag:"",icon:e.data.MethodShippingId===2?"pi pi-home":"pi pi-truck",value:e.data.MethodShippingName,rounded:"",class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["icon","value"])]),_:1}),r(a(i),{headerClass:"!bg-primary-900",field:"ResponsiblePickerName",header:"Picker"},{body:t(e=>[e.data.ResponsiblePickerName?(d(),c(a(u),{key:0,icon:"pi pi-user",value:e.data.ResponsiblePickerName,class:"tag-rounded-blue tag-font-method tag-radius"},null,8,["value"])):l("",!0)]),_:1}),r(a(i),{headerClass:"!bg-primary-900",field:"ResponsibleReviewerName",header:"Revisor"},{body:t(e=>[e.data.ResponsibleReviewerName?(d(),c(a(u),{key:0,icon:"pi pi-user",value:e.data.ResponsibleReviewerName,class:"tag-rounded-blue tag-font-method tag-radius"},null,8,["value"])):l("",!0)]),_:1}),r(a(i),{headerClass:"!bg-primary-900",field:"OrderStatusName",header:"Estado"},{body:t(e=>[r(a(u),{icon:"pi pi-circle-fill",value:e.data.OrderStatusName,style:O({backgroundColor:e.data.OrderStatusColor,color:v(e.data.OrderStatusColor)}),class:"tag-font-method tag-radius"},null,8,["value","style"])]),_:1}),r(a(i),{headerClass:"!bg-primary-900",field:"note",header:""},{body:t(e=>[e.data.OrderStatusId!=3?(d(),c(p,{key:0,to:{name:"review-notes",params:{id:e.data.id,responsible:"picker"}},class:"p-button p-component p-button-outlined !py-1.5 !border-primary-900 !text-primary-900"},{default:t(()=>[m("Pickear")]),_:2},1032,["to"])):l("",!0),e.data.OrderStatusId==3?(d(),c(p,{key:1,to:{name:"review-notes",params:{id:e.data.id,responsible:"revisor"}},class:"p-button p-component p-button-outlined !py-1.5 !border-primary-900 !text-primary-900"},{default:t(()=>[m("Revisar")]),_:2},1032,["to"])):l("",!0)]),_:1})]),_:2},[a(b).length===0?{name:"footer",fn:t(()=>[s("tr",null,[s("td",{colspan:o.numberOfColumns,class:"text-not-info"}," No hay órdenes disponible. ",8,J)])]),key:"0"}:void 0]),1032,["value","loading"])])])}}};export{te as default};
