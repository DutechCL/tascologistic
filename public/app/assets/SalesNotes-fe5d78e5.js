import{s as z,a as Z}from"./tabpanel.esm-a05a310c.js";import{b as m,h as q,o as u,i as p,w as d,f as l,g as N,t as k,a,u as e,s as y,j as Q,c as I,F as E,k as ee,l as ae,m as le,p as K,r as te,q as O,v as oe}from"./index-6141ad51.js";import{a as D,b as P,s as i,c as G}from"./tag.esm-1e5de34a.js";import{_ as J,s as b}from"./multiselect.esm-0808c1bc.js";import{u as W}from"./OrdersApiService-f016d9d6.js";import{s as U}from"./treeselect.esm-0052cc96.js";import"./index.esm-9e1695db.js";const se=l("h1",{class:"mb-1 text-primary-900 font-inter font-semibold text-xl"},[l("i",{class:"pi pi-eye !text-xl"}),N(" Ver Documentos ")],-1),re={class:"flex align-center mb-2"},ie={class:"text-primary-900"},de=l("strong",{class:"mr-3 font-semibold"},"Nota de venta N°",-1),ne=l("div",{class:"mt-5"},[l("p",null," 2 archivos adjuntos "),l("div",{class:"flex"},[l("div",{class:"mt-2 mr-5",width:"200",height:"180"},[l("embed",{class:"w-full",src:"http://ocw.uv.es/ingenieria-y-arquitectura/programacionmultimedia/t2-1-css.pdf",type:"application/pdf"}),l("div",{class:"bg-gray-100"},[l("i",{class:"pi pi-file-pdf m-2",style:{color:"#F40F02"}}),l("a",{href:"#",class:"font-normal text-sm"},"Nombre de pdf")])]),l("div",{class:"mt-2 mr-5",width:"200",height:"180"},[l("embed",{class:"w-full",src:"http://ocw.uv.es/ingenieria-y-arquitectura/programacionmultimedia/t2-1-css.pdf",type:"application/pdf"}),l("div",{class:"bg-gray-100"},[l("i",{class:"pi pi-file-pdf m-2",style:{color:"#F40F02"}}),l("a",{href:"#",class:"font-normal text-sm"},"Nombre de pdf")])])])],-1),ue={__name:"DialogDetail",props:{order:String},setup($){const f=$,s=m([]);return q(()=>{s.value=f.order}),(c,n)=>(u(),p(e(Q),{modal:"",header:" ",style:{width:"70vw"}},{default:d(()=>[l("div",null,[se,l("div",re,[l("p",ie,[de,N(k(s.value.DocNum),1)]),a(e(D),{icon:"pi pi-shopping-bag",value:s.value.MethodShippingName,class:"ml-3 tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),a(e(D),{icon:"pi pi-user",value:s.value.Customer.CardName,class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["value"]),ne]),a(e(y),{label:"Cerrar",onClick:n[0]||(n[0]=g=>c.visible=!1),class:"!py-2 !border-none !px-10 !bg-primary-900 float-right mt-5"})]),_:1}))}},ce=l("h1",{class:"mb-1 text-primary-900 font-inter font-semibold text-xl"},[l("i",{class:"pi pi-eye !text-xl"}),N(" Ver observaciones ")],-1),me={class:"flex align-center mb-2"},pe={class:"text-primary-900"},fe=l("strong",{class:"mr-3 font-semibold"},"Nota de venta N°",-1),ve={class:"mt-5"},he=l("strong",null,"NOTA:",-1),be=["innerHTML"],ye={__name:"DialogDetailObservation",props:{order:String},setup($){const f=$,s=m([]);q(()=>{s.value=f.order});const c=n=>n.replace(/\r/g,"<br>").replace(/\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;");return(n,g)=>(u(),p(e(Q),{modal:"",header:" ",style:{width:"70vw"}},{default:d(()=>[l("div",null,[ce,l("div",me,[l("p",pe,[fe,N(k(s.value.DocNum),1)]),a(e(D),{icon:"pi pi-shopping-cart",value:s.value.MethodShippingName,class:"ml-3 tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),a(e(D),{icon:"pi pi-user",value:s.value.Customer.CardName,class:"tag-radius tag-rounded-blue tag-font-method mb-5"},null,8,["value"]),a(e(P),{tableStyle:"min-width: 50rem",filters:"filters",value:s.value.OrderItems},{default:d(()=>[a(e(i),{headerClass:"!bg-primary-900",field:"Quantity",header:"Cantidad"},{body:d(V=>[l("p",null,k(V.data.Quantity)+" Unidad",1)]),_:1}),a(e(i),{headerClass:"!bg-primary-900",field:"ItemCode",header:"SKU"}),a(e(i),{headerClass:"!bg-primary-900",field:"ItemDescription",header:"Producto"}),a(e(i),{headerClass:"!bg-primary-900",field:"Problems",header:"Problema"},{body:d(V=>[(u(!0),I(E,null,ee(V.data.Problems,(_,v)=>(u(),p(e(D),{key:v,value:_.ProblemName,rounded:"",class:"mr-3 tag-radius tag-rounded-blue tag-font-method"},null,8,["value"]))),128))]),_:1})]),_:1},8,["value"]),l("div",ve,[he,N(),l("span",{innerHTML:c(s.value.Comments)},null,8,be)])]),a(e(y),{label:"Cerrar",onClick:g[0]||(g[0]=V=>n.visibleObservation=!1),class:"!py-2 !border-none !px-10 !bg-primary-900 float-right mt-5"})]),_:1}))}};const ge={class:"flex justify-between"},_e=l("div",null,[l("h1",{class:"mb-2 text-primary-900 font-inter font-semibold text-2xl"}," Notas de venta ")],-1),xe={key:0},Ve=l("h2",{class:"mb-4 text-primary-900 font-inter font-semibold text-xl"}," Aquí ",-1),Ce={class:"flex"},we={class:"card flex justify-content-center"},De={class:"card flex justify-content-center"},Ne={class:"card flex justify-content-center"},$e={class:"card flex justify-content-center mr-5"},Se={class:"card flex justify-content-center"},ke=l("div",null,[l("h2",{class:"mb-4 text-primary-900 font-inter font-semibold text-xl"}," Retiro / Despacho ")],-1),Te={class:"flex"},Le={class:"card flex justify-content-center"},Me={class:"card flex justify-content-center"},Ue={class:"card flex justify-content-center"},Oe={class:"card flex justify-content-center mr-5"},Ie={class:"card flex justify-content-center"},S=1,je={__name:"ToManage",props:{ListOrders:Array},setup($){const f=$,s=ae(),c=le(),n=W(),g=m(!1),V=m(!1),_=m({}),v=m([]),C=m([]),T=m(!1),L=m([]),j=m([]),M=m([]),F=m([]),A=m([]),x=m([f.ListOrders.filter(r=>r.MethodShippingId===S)]),h=m([f.ListOrders.filter(r=>r.MethodShippingId!==S)]);x.value=x.value[0],h.value=h.value[0],v.value=x.value,C.value=h.value,K(L,r=>{r.length===0?(h.value=C.value,x.value=v.value):(h.value=r.filter(o=>o.MethodShippingId!==S),x.value=r.filter(o=>o.MethodShippingId===S))}),K(M,r=>{r.length===0?(h.value=C.value,x.value=v.value):(h.value=r.filter(o=>o.MethodShippingId!==S),x.value=r.filter(o=>o.MethodShippingId===S))});const R=r=>{_.value={...r},V.value=!0,T.value=!0},X=r=>{g.value=!0,_.value={...r},T.value=!0},B=r=>{r||(_.value={},T.value=!1)},Y=async r=>{s.require({message:"¿Estas seguro que deseas continuar?",header:"Confirmación",icon:"pi pi-exclamation-triangle",accept:async()=>{let o=await n.postActionOrder(r.id,1);if(c.add({severity:o.status,summary:"",detail:o.message,life:3e3}),o.status==="success"){const H=h.value.findIndex(t=>t===r);H!==-1&&h.value.splice(H,1)}},reject:()=>{}})};return(r,o)=>{const H=te("Toast");return u(),I(E,null,[l("div",ge,[_e,a(J)]),x.value.length>0?(u(),I("div",xe,[Ve,l("div",Ce,[l("div",we,[(u(),p(e(b),{modelValue:L.value,"onUpdate:modelValue":o[0]||(o[0]=t=>L.value=t),options:v.value,filter:"",optionLabel:"DocNum",placeholder:"Nota de venta",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"},key:r.DocNum},null,8,["modelValue","options"]))]),l("div",De,[(u(),p(e(b),{modelValue:j.value,"onUpdate:modelValue":o[1]||(o[1]=t=>j.value=t),options:v.value,filter:"",optionLabel:"DocDate",placeholder:"Fecha",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"},key:r.DocDate},null,8,["modelValue","options"]))]),l("div",Ne,[(u(),p(e(b),{modelValue:M.value,"onUpdate:modelValue":o[2]||(o[2]=t=>M.value=t),options:v.value,filter:"",optionLabel:"DocTime",placeholder:"Hora",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"},key:r.DocTime},null,8,["modelValue","options"]))]),l("div",$e,[a(e(b),{modelValue:F.value,"onUpdate:modelValue":o[3]||(o[3]=t=>F.value=t),options:v.value,filter:"",optionLabel:"Customer.CardName",placeholder:"Clientes",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"}},null,8,["modelValue","options"])]),l("div",Se,[(u(),p(e(b),{modelValue:A.value,"onUpdate:modelValue":o[4]||(o[4]=t=>A.value=t),options:v.value,filter:"",optionLabel:"DocTotal",placeholder:"Total",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"},key:r.DocTotal},null,8,["modelValue","options"]))])]),a(e(P),{class:"mb-20",value:x.value,tableStyle:"min-width: 50rem",filters:"filters",paginator:"",rows:5,dataKey:"id",filterDisplay:"row",loading:r.loading},{default:d(()=>[a(e(i),{headerClass:"!bg-primary-900",field:"DocNum",header:"Nota de venta"},{body:d(t=>[N(" N° "+k(t.data.DocNum),1)]),_:1}),a(e(i),{headerClass:"!bg-primary-900",field:"DocDate",header:"Fecha"}),a(e(i),{headerClass:"!bg-primary-900",field:"DocTime",header:"Hora"}),a(e(i),{headerClass:"!bg-primary-900",field:"Customer.CardName",header:"Cliente"}),a(e(i),{headerClass:"!bg-primary-900",field:"DocTotal",header:"Monto total"},{body:d(t=>[a(e(G),{modelValue:t.data.DocTotal,"onUpdate:modelValue":w=>t.data.DocTotal=w,class:"remove-format-input",inputId:"currency-us",mode:"currency",currency:"USD",locale:"en-US",readonly:"",minFractionDigits:0},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),a(e(i),{headerClass:"!bg-primary-900",field:"MethodShippingName",header:"Método entrega"},{body:d(t=>[a(e(D),{Tag:"",icon:"pi pi-shopping-cart",value:t.data.MethodShippingName,rounded:"",class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),_:1}),a(e(i),{headerClass:"!bg-primary-900",field:"note",header:" Observación"},{body:d(t=>[a(e(y),{icon:"pi pi-eye",onClick:w=>R(t.data),class:"!font-normal !text-primary-900",label:"Ver observación",link:""},null,8,["onClick"])]),_:1}),a(e(i),{headerClass:"!bg-primary-900",field:"note",header:""},{body:d(t=>[a(e(y),{label:"Informado",class:"!py-1.5 !border-primary-900 !text-primary-900",outlined:""})]),_:1})]),_:1},8,["value","loading"])])):O("",!0),ke,l("div",Te,[l("div",Le,[(u(),p(e(b),{modelValue:L.value,"onUpdate:modelValue":o[5]||(o[5]=t=>L.value=t),options:C.value,filter:"",optionLabel:"DocNum",placeholder:"Nota de venta",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"},key:r.DocNum},null,8,["modelValue","options"]))]),l("div",Me,[(u(),p(e(b),{modelValue:j.value,"onUpdate:modelValue":o[6]||(o[6]=t=>j.value=t),options:C.value,filter:"",optionLabel:"DocDate",placeholder:"Fecha",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"},key:r.DocDate},null,8,["modelValue","options"]))]),l("div",Ue,[(u(),p(e(b),{modelValue:M.value,"onUpdate:modelValue":o[7]||(o[7]=t=>M.value=t),options:C.value,filter:"",optionLabel:"DocTime",placeholder:"Hora",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"},key:r.DocTime},null,8,["modelValue","options"]))]),l("div",Oe,[a(e(b),{modelValue:F.value,"onUpdate:modelValue":o[8]||(o[8]=t=>F.value=t),options:C.value,filter:"",optionLabel:"Customer.CardName",placeholder:"Clientes",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"}},null,8,["modelValue","options"])]),l("div",Ie,[(u(),p(e(b),{modelValue:A.value,"onUpdate:modelValue":o[9]||(o[9]=t=>A.value=t),options:C.value,filter:"",optionLabel:"DocTotal",placeholder:"Total",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"},key:r.DocTotal},null,8,["modelValue","options"]))])]),a(e(P),{value:h.value,tableStyle:"min-width: 50rem",filters:"filters",paginator:"",rows:5,dataKey:"id",filterDisplay:"row",loading:r.loading},{default:d(()=>[a(e(i),{headerClass:"!bg-primary-900",field:"DocNum",header:"Nota de venta"},{body:d(t=>[N(" N° "+k(t.data.DocNum),1)]),_:1}),a(e(i),{headerClass:"!bg-primary-900",field:"DocDate",header:"Fecha"}),a(e(i),{headerClass:"!bg-primary-900",field:"DocTime",header:"Hora"}),a(e(i),{headerClass:"!bg-primary-900",field:"Customer.CardName",header:"Cliente"}),a(e(i),{headerClass:"!bg-primary-900",field:"DocTotal",header:"Monto total"},{body:d(t=>[a(e(G),{modelValue:t.data.DocTotal,"onUpdate:modelValue":w=>t.data.DocTotal=w,class:"remove-format-input",inputId:"currency-us",mode:"currency",currency:"USD",locale:"en-US",readonly:"",minFractionDigits:0},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),a(e(i),{headerClass:"!bg-primary-900",field:"MethodShippingName",header:"Método entrega"},{body:d(t=>[a(e(D),{Tag:"",icon:"pi pi-shopping-cart",value:t.data.MethodShippingName,rounded:"",class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),_:1}),a(e(i),{headerClass:"!bg-primary-900",field:"note",header:"Documentos"},{body:d(t=>[a(e(y),{icon:"pi pi-eye",onClick:w=>X(t.data),class:"!font-normal !text-primary-900",label:"Ver documentos",link:""},null,8,["onClick"])]),_:1}),a(e(i),{headerClass:"!bg-primary-900",field:"note",header:" Observación"},{body:d(t=>[t.data.OrderStatusId==4?(u(),p(e(y),{key:0,icon:"pi pi-eye",onClick:w=>R(t.data),class:"!font-normal !text-primary-900",label:"Ver observación",link:""},null,8,["onClick"])):O("",!0)]),_:1}),a(e(i),{headerClass:"!bg-primary-900",field:"note",header:""},{body:d(t=>[a(e(y),{label:"Rechazar",onClick:o[10]||(o[10]=w=>r.visibleReport=!0),class:"!py-1.5 mr-3 !border-primary-900 !text-primary-900",outlined:""}),a(e(y),{label:"Autorizar",onClick:w=>Y(t.data),class:"!py-1.5 !border-primary-900 !text-primary-900",outlined:""},null,8,["onClick"])]),_:1})]),_:1},8,["value","loading"]),T.value?(u(),p(ue,{visible:g.value,"onUpdate:visible":[o[11]||(o[11]=t=>g.value=t),B],order:_.value,key:_.value.timestamp},null,8,["visible","order"])):O("",!0),T.value?(u(),p(ye,{visible:V.value,"onUpdate:visible":[o[12]||(o[12]=t=>V.value=t),B],order:_.value,key:_.value.timestamp},null,8,["visible","order"])):O("",!0),a(H),a(e(oe))],64)}}},Fe={class:"flex justify-between"},Ae=l("div",null,[l("h1",{class:"mb-2 text-primary-900 font-inter font-semibold text-2xl"}," Notas de venta "),l("h2",{class:"mb-4 text-primary-900 font-inter font-semibold text-xl"}," Aquí ")],-1),He={class:"flex"},Pe={class:"card flex justify-content-center"},qe={class:"card flex justify-content-center"},Ee={class:"card flex justify-content-center"},Re={class:"card flex justify-content-center mr-20"},Be={class:"card flex justify-content-center"},ze={__name:"Managed",setup($){const f=m([{statusId:1,note:"4567892",date:"19/04/2023",hour:"10:26",client:"Daniel Ramirez Palma",status:"En espera",totalAmount:"$200",btnInfo:"Informado"},{statusId:2,note:"0998764",date:"19/04/2023",hour:"10:58",client:"Lucas Sandoval",status:"En preparación",totalAmount:"$300"}]);return(s,c)=>(u(),I(E,null,[l("div",Fe,[Ae,a(J)]),l("div",He,[l("div",Pe,[a(e(U),{modelValue:s.selectedValue,"onUpdate:modelValue":c[0]||(c[0]=n=>s.selectedValue=n),options:s.nodes,selectionMode:"checkbox",placeholder:"Nota de venta",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),l("div",qe,[a(e(U),{modelValue:s.selectedValue,"onUpdate:modelValue":c[1]||(c[1]=n=>s.selectedValue=n),options:s.nodes,selectionMode:"checkbox",placeholder:"Fecha",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),l("div",Ee,[a(e(U),{modelValue:s.selectedValue,"onUpdate:modelValue":c[2]||(c[2]=n=>s.selectedValue=n),options:s.nodes,selectionMode:"checkbox",placeholder:"Hora",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),l("div",Re,[a(e(U),{modelValue:s.selectedValue,"onUpdate:modelValue":c[3]||(c[3]=n=>s.selectedValue=n),options:s.nodes,selectionMode:"checkbox",placeholder:"Cliente",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),l("div",Be,[a(e(U),{modelValue:s.selectedValue,"onUpdate:modelValue":c[4]||(c[4]=n=>s.selectedValue=n),options:s.nodes,selectionMode:"checkbox",placeholder:"Total",class:"md:w-20rem w-full"},null,8,["modelValue","options"])])]),a(e(P),{class:"mb-20",value:f.value,tableStyle:"min-width: 50rem"},{default:d(()=>[a(e(i),{headerClass:"!bg-primary-900",field:"note",header:"Nota de venta"},{body:d(n=>[N(" N° "+k(n.data.note),1)]),_:1}),a(e(i),{headerClass:"!bg-primary-900",field:"date",header:"Fecha"}),a(e(i),{headerClass:"!bg-primary-900",field:"hour",header:"Hora"}),a(e(i),{headerClass:"!bg-primary-900",field:"client",header:"Cliente"}),a(e(i),{headerClass:"!bg-primary-900",field:"totalAmount",header:"Monto total"}),a(e(i),{headerClass:"!bg-primary-900",field:"totalAmount",header:"Método entrega"},{body:d(n=>[a(e(D),{Tag:"",icon:"pi pi-shopping-cart",value:"Aquí",rounded:"",class:"!font-normal !text-md !px-3 !bg-primary-100 !text-primary-900"})]),_:1}),a(e(i),{headerClass:"!bg-primary-900",field:"note",header:" Observación"},{body:d(n=>[a(e(y),{icon:"pi pi-eye",class:"!font-normal !text-primary-900",label:"Ver observación",link:""})]),_:1}),a(e(i),{headerClass:"!bg-primary-900",field:"note",header:""},{body:d(n=>[a(e(y),{label:"Informado",class:"!py-1.5 !border-primary-900 !text-primary-900",outlined:""})]),_:1})]),_:1},8,["value"])],64))}};const Ke={class:"px-3"},ea={__name:"SalesNotes",setup($){const f=W(),s=m([]),c=m(!1);return q(async()=>{s.value=await f.getOrders(),c.value=!0}),(n,g)=>(u(),I("div",Ke,[a(e(Z),null,{default:d(()=>[a(e(z),{header:"Por gestionar"},{default:d(()=>[c.value?(u(),p(je,{key:0,ListOrders:s.value},null,8,["ListOrders"])):O("",!0)]),_:1}),a(e(z),{header:"Gestionadas"},{default:d(()=>[a(ze)]),_:1})]),_:1})]))}};export{ea as default};
