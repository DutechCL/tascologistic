import{s as C,a as L}from"./tabpanel.esm-aba05f44.js";import{_ as $,T as P}from"./ToastMixin-dd67e6b2.js";import{s as c,a as k,b as T}from"./tag.esm-cf1e7a05.js";import{e as m,q as b,r as O,o as n,k as y,w as i,a as e,u as t,i as f,t as R,h as s,s as w,p as u,c as _,F as g,x as S}from"./index-d33dfaaa.js";import{u as v}from"./chat-f1d360ed.js";import"./ordersCda-3eff7b93.js";import"./index.esm-a81bca9c.js";import"./OrdersApiService-5b2481a1.js";import"./ApiService-e54d5ff2.js";const V={class:"flex gap-2"},N={__name:"DataTableListOrders",props:{data:Array},setup(h){const d=h,a=v(),o=m([]);b(()=>{o.value=d.data,console.log(o.value)});const r=async p=>{await a.resolveOrder(p)};return(p,x)=>{const D=O("router-link");return n(),y(t(T),{tableStyle:"min-width: 50rem",value:o.value,rowsPerPageOptions:[5,10,20,50],rows:5,onPage:p.getData,paginator:"",dataKey:"id",filterDisplay:"row",paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} a {last} de {totalRecords}"},{default:i(()=>[e(t(c),{headerClass:"!bg-primary-900",sortable:"",field:"DocNum",header:"Nota de venta"},{body:i(l=>[f(" N° "+R(l.data.order.DocNum),1)]),_:1}),e(t(c),{headerClass:"!bg-primary-900",sortable:"",field:"order.Customer.CardName",header:"Cliente",style:{"max-width":"300px"}}),e(t(c),{headerClass:"!bg-primary-900",sortable:"",field:"order.Customer.CardCode",header:"Rut",style:{"max-width":"300px"}}),e(t(c),{headerClass:"!bg-primary-900",sortable:"",field:"order.MethodShippingName",header:"Método entrega"},{body:i(l=>[e(t(k),{Tag:"",value:l.data.order.MethodShippingName,rounded:"",class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),_:1}),e(t(c),{headerClass:"!bg-primary-900",sortable:"",field:"order.MethodShippingName",header:"Desde"},{body:i(l=>[e(t(k),{value:l.data.order.report_user_responsibles==="cda"?"CDA":"Bodega",class:"p-tag-1 tag-font-method tag-radius"},null,8,["value"])]),_:1}),e(t(c),{headerClass:"!bg-primary-900",sortable:"",field:"order.SalesEmployeeName",header:"Vendedor"}),e(t(c),{headerClass:"!bg-primary-900",sortable:"",field:"order.report_user_name",header:"Informador"}),e(t(c),{headerClass:"!bg-primary-900",field:"note",header:""},{body:i(l=>[s("div",V,[e(D,{to:{name:"show-chat",params:{id:l.data.chat.id}},class:"!border-primary-900 !text-primary-900 btn-custom-table"},{default:i(()=>[f("Revisar")]),_:2},1032,["to"]),l.data.chat.status==="open"?(n(),y(t(w),{key:0,onClick:se=>r(l.data.chat.id),class:"!p-button p-component p-button-outlined !py-1.5 !border-primary-900 !text-primary-900 btn-custom-table",label:"Resuelto"},null,8,["onClick"])):u("",!0)])]),_:1})]),_:1},8,["value","onPage"])}}};const B={class:"flex justify-between"},M={class:"flex mb-5 mt-10",style:{height:"50px"}},j=s("h1",{class:"mb-2 text-primary-900 font-inter font-semibold text-2xl"}," Incidencias en notas de venta ",-1),A={key:0,class:"text-center",style:{color:"#259bd7"}},F=s("i",{class:"pi pi-spin pi-spinner",style:{"font-size":"2rem"}},null,-1),H=[F],I={key:2,style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"}},z=s("h1",{class:"align-center font-inter font-semibold mb-4 text-2xl text-center text-primary-900"}," No se han encontrado ordenes ",-1),E=[z],q={__name:"ChatActive",setup(h){const d=v(),a=m([]),o=m(!0);return b(async()=>{await d.getOrders().then(r=>{a.value=r,o.value=!1})}),(r,p)=>(n(),_(g,null,[s("div",B,[s("div",M,[j,e(t(w),{label:"Descargar",icon:"pi pi-download",class:"ml-5 !p-button p-component !bg-primary-900 !py-1 !border-primary-900 !text-white btn-custom",onClick:r.updateOrders},null,8,["onClick"])]),e($,{type:r.typeSearch,data:a.value},null,8,["type","data"])]),o.value?(n(),_("div",A,H)):u("",!0),a.value.length>0?(n(),y(N,{key:1,data:a.value},null,8,["data"])):u("",!0),a.value.length===0?(n(),_("div",I,E)):u("",!0)],64))}};const K={class:"flex justify-between"},U={class:"mb-2 text-primary-900 font-inter font-semibold text-2xl"},G=s("i",{class:"pi pi-refresh"},null,-1),J=[G],Q={key:0,class:"text-center",style:{color:"#259bd7"}},W=s("i",{class:"pi pi-spin pi-spinner",style:{"font-size":"2rem"}},null,-1),X=[W],Y={key:2,style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"}},Z=s("h1",{class:"align-center font-inter font-semibold mb-4 text-2xl text-center text-primary-900"}," No se han encontrado ordenes ",-1),ee=[Z],te={__name:"ChatHistory",setup(h){const d=v(),a=m([]),o=m(!1);return b(async()=>{await d.getResolve().then(r=>{a.value=r,o.value=!0})}),(r,p)=>(n(),_(g,null,[s("div",K,[s("div",null,[s("h1",U,[f(" Notas de venta "),s("a",{style:{cursor:"pointer"},onClick:p[0]||(p[0]=(...x)=>r.updateOrders&&r.updateOrders(...x))},J)])]),e($,{type:r.typeSearch,orders:r.orders},null,8,["type","orders"])]),o.value?u("",!0):(n(),_("div",Q,X)),a.value.length>0?(n(),y(N,{key:1,data:a.value},null,8,["data"])):u("",!0),a.value.length===0?(n(),_("div",Y,ee)):u("",!0)],64))}};const ae={class:"px-3"},_e={__name:"ListChats",setup(h){return P.setup(),(d,a)=>(n(),_(g,null,[s("div",ae,[e(t(L),{modelValue:d.selectedTab,"onUpdate:modelValue":a[0]||(a[0]=o=>d.selectedTab=o)},{default:i(()=>[e(t(C),{header:"Incidencias en notas de venta"},{default:i(()=>[e(q)]),_:1}),e(t(C),{header:"Históricos"},{default:i(()=>[e(te)]),_:1})]),_:1},8,["modelValue"])]),e(t(S))],64))}};export{_e as default};
