import{s as r,a as p,b as H}from"./tag.esm-9737e6e4.js";import{u as K,_ as G,s as I}from"./UseFilters-338ebe6c.js";import{u as J}from"./OrdersApiService-9fb0d299.js";import{s as m}from"./multiselect.esm-300f026b.js";import{e as M,k as Q,r as W,o as i,c as h,q as d,h as o,a as l,u as e,l as u,A as c,j as U,B as P,w as s,i as v,t as $,n as B}from"./index-e5e99358.js";import"./index.esm-9062144d.js";import"./index.esm-587868b2.js";const X={class:"px-8"},Y={key:0,class:"text-center",style:{color:"#259bd7"}},Z=o("i",{class:"pi pi-spin pi-spinner",style:{"font-size":"2rem"}},null,-1),ee=[Z],ae={class:"flex justify-between"},te=o("div",null,[o("h1",{class:"mb-2 text-primary-900 font-inter font-semibold text-2xl"}," Pickeo / Revisión "),o("h2",{class:"mb-4 text-primary-900 font-inter font-semibold text-xl"}," Aquí ")],-1),le={class:"flex"},oe={class:"card flex justify-content-center"},se={key:0,style:{position:"absolute",left:"40%",color:"#259bd7",top:"26%"},for:"rangeDate"},re={class:"align-center card flex justify-content-center mr-5"},ie=o("i",{class:"pi pi-times"},null,-1),de=[ie],ne={class:"card flex justify-content-center mr-5"},ue={class:"card flex justify-content-center mr-5"},ce={class:"card flex justify-content-center"},pe=["colspan"],me=o("div",null,[o("h2",{class:"mb-4 text-primary-900 font-inter font-semibold text-xl"}," Retiro / Despacho ")],-1),be={class:"flex"},fe={class:"card flex justify-content-center"},ye={key:0,style:{position:"absolute",left:"40%",color:"#259bd7",top:"26%"},for:"rangeDatePickup"},he={class:"align-center card flex justify-content-center mr-5"},ve=o("i",{class:"pi pi-times"},null,-1),ge=[ve],_e={class:"card flex justify-content-center mr-5"},ke={class:"card flex justify-content-center mr-5"},xe={class:"card flex justify-content-center"},Ce=["colspan"],Oe={__name:"PickupReview",setup(we){const z=J(),T=M([]),O=M(!1),{datesHere:g,datesPickup:_,dateLabelHere:k,dateLabelPickup:x,ordersHere:f,ordersPickupAndDelivery:y,selectedDocNumPickup:C,selectedDocTimePickup:w,selectedCustomerPickup:N,selectedDocTotalPickup:D,selectedDocNumHere:V,selectedDocTimeHere:S,selectedCustomerHere:R,selectedDocTotalHere:L,removeFilterDate:j,search:A}=K(T);Q(async()=>{T.value=await z.getProcessedOrders(),O.value=!0});function F(n){const t=E(n);return(.299*t.r+.587*t.g+.114*t.b)/255>.5?"#000000":"#FFFFFF"}function E(n){const t=parseInt(n.substring(1),16),b=t>>16&255,a=t>>8&255,q=t&255;return{r:b,g:a,b:q}}return(n,t)=>{const b=W("router-link");return i(),h("div",X,[O.value?d("",!0):(i(),h("div",Y,ee)),o("div",null,[o("div",ae,[te,l(G,{onSearch:e(A)},null,8,["onSearch"])]),o("div",le,[o("div",oe,[(i(),u(e(m),{modelValue:e(V),"onUpdate:modelValue":t[0]||(t[0]=a=>c(V)?V.value=a:null),options:e(f),filter:"",optionLabel:"DocNum",placeholder:"Nota de venta",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"},key:n.DocNum},null,8,["modelValue","options"]))]),o("div",{style:{position:"relative"},class:U({"active-filter-date":!e(k)})},[l(e(I),{inputId:"rangeDate",modelValue:e(g),"onUpdate:modelValue":t[1]||(t[1]=a=>c(g)?g.value=a:null),selectionMode:"range",manualInput:!1,style:{border:"none !important",color:"#259bd7 !important"}},null,8,["modelValue"]),e(k)?(i(),h("label",se,"Fecha")):d("",!0),o("div",re,[e(k)?d("",!0):(i(),h("a",{key:0,class:"close-filter-date",onClick:t[2]||(t[2]=a=>e(j)("Here"))},de))])],2),o("div",ne,[l(e(m),{modelValue:e(S),"onUpdate:modelValue":t[3]||(t[3]=a=>c(S)?S.value=a:null),options:e(f),filter:"",optionLabel:"DocTime",placeholder:"Hora",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"}},null,8,["modelValue","options"])]),o("div",ue,[l(e(m),{modelValue:e(R),"onUpdate:modelValue":t[4]||(t[4]=a=>c(R)?R.value=a:null),options:e(f),filter:"",optionLabel:"Customer.CardName",placeholder:"Clientes",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"}},null,8,["modelValue","options"])]),o("div",ce,[(i(),u(e(m),{modelValue:e(L),"onUpdate:modelValue":t[5]||(t[5]=a=>c(L)?L.value=a:null),options:e(f),filter:"",optionLabel:"DocTotal",placeholder:"Total",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"},key:n.DocTotal},null,8,["modelValue","options"]))])]),l(e(H),{class:"mb-20",value:e(f),tableStyle:"min-width: 50rem",filters:"filters",paginator:"",rows:5,dataKey:"id",filterDisplay:"row",loading:n.loading},P({default:s(()=>[l(e(r),{headerClass:"!bg-primary-900",field:"DocNum",header:"Nota de venta"},{body:s(a=>[v(" N° "+$(a.data.DocNum),1)]),_:1}),l(e(r),{headerClass:"!bg-primary-900",field:"DocDate",header:"Fecha"}),l(e(r),{headerClass:"!bg-primary-900",field:"DocTime",header:"Hora"}),l(e(r),{headerClass:"!bg-primary-900",field:"Customer.CardName",header:"Cliente"}),l(e(r),{headerClass:"!bg-primary-900",field:"MethodShippingName",header:"Método entrega"},{body:s(a=>[l(e(p),{Tag:"",icon:"pi pi-shopping-cart",value:a.data.MethodShippingName,rounded:"",class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),_:1}),l(e(r),{headerClass:"!bg-primary-900",field:"ResponsiblePickerName",header:"Picker"},{body:s(a=>[a.data.ResponsiblePickerName?(i(),u(e(p),{key:0,icon:"pi pi-user",value:a.data.ResponsiblePickerName,class:"tag-rounded-blue tag-font-method tag-radius"},null,8,["value"])):d("",!0)]),_:1}),l(e(r),{headerClass:"!bg-primary-900",field:"ResponsibleReviewerName",header:"Revisor"},{body:s(a=>[a.data.ResponsibleReviewerName?(i(),u(e(p),{key:0,icon:"pi pi-user",value:a.data.ResponsibleReviewerName,class:"tag-rounded-blue tag-font-method tag-radius"},null,8,["value"])):d("",!0)]),_:1}),l(e(r),{headerClass:"!bg-primary-900",field:"OrderStatusName",header:"Estado"},{body:s(a=>[l(e(p),{icon:"pi pi-circle-fill",value:a.data.OrderStatusName,style:B({backgroundColor:a.data.OrderStatusColor,color:F(a.data.OrderStatusColor)}),class:"tag-font-method tag-radius"},null,8,["value","style"])]),_:1}),l(e(r),{headerClass:"!bg-primary-900",field:"note",header:""},{body:s(a=>[a.data.OrderStatusId!=3?(i(),u(b,{key:0,to:{name:"review-notes",params:{id:a.data.id,responsible:"picker"}},class:"p-button p-component p-button-outlined !py-1.5 !border-primary-900 !text-primary-900"},{default:s(()=>[v("Pickear")]),_:2},1032,["to"])):d("",!0),a.data.OrderStatusId==3?(i(),u(b,{key:1,to:{name:"review-notes",params:{id:a.data.id,responsible:"revisor"}},class:"p-button p-component p-button-outlined !py-1.5 !border-primary-900 !text-primary-900"},{default:s(()=>[v("Revisar")]),_:2},1032,["to"])):d("",!0)]),_:1})]),_:2},[e(f).length===0?{name:"footer",fn:s(()=>[o("tr",null,[o("td",{colspan:n.numberOfColumns,class:"text-not-info"}," No hay órdenes disponible. ",8,pe)])]),key:"0"}:void 0]),1032,["value","loading"])]),o("div",null,[me,o("div",be,[o("div",fe,[(i(),u(e(m),{modelValue:e(C),"onUpdate:modelValue":t[6]||(t[6]=a=>c(C)?C.value=a:null),options:e(y),filter:"",optionLabel:"DocNum",placeholder:"Nota de venta",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"},key:n.DocNum},null,8,["modelValue","options"]))]),o("div",{style:{position:"relative"},class:U({"active-filter-date":!e(x)})},[l(e(I),{inputId:"rangeDatePickup",modelValue:e(_),"onUpdate:modelValue":t[7]||(t[7]=a=>c(_)?_.value=a:null),selectionMode:"range",manualInput:!1,style:{border:"none !important"}},null,8,["modelValue"]),e(x)?(i(),h("label",ye,"Fecha")):d("",!0),o("div",he,[e(x)?d("",!0):(i(),h("a",{key:0,class:"close-filter-date",onClick:t[8]||(t[8]=a=>e(j)("Pickup"))},ge))])],2),o("div",_e,[l(e(m),{modelValue:e(w),"onUpdate:modelValue":t[9]||(t[9]=a=>c(w)?w.value=a:null),options:e(y),filter:"",optionLabel:"DocTime",placeholder:"Hora",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"}},null,8,["modelValue","options"])]),o("div",ke,[l(e(m),{modelValue:e(N),"onUpdate:modelValue":t[10]||(t[10]=a=>c(N)?N.value=a:null),options:e(y),filter:"",optionLabel:"Customer.CardName",placeholder:"Clientes",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"}},null,8,["modelValue","options"])]),o("div",xe,[(i(),u(e(m),{modelValue:e(D),"onUpdate:modelValue":t[11]||(t[11]=a=>c(D)?D.value=a:null),options:e(y),filter:"",optionLabel:"DocTotal",placeholder:"Total",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"},key:n.DocTotal},null,8,["modelValue","options"]))])]),l(e(H),{class:"mb-20",value:e(y),tableStyle:"min-width: 50rem",filters:"filters",paginator:"",rows:5,dataKey:"id",filterDisplay:"row",loading:n.loading},P({default:s(()=>[l(e(r),{headerClass:"!bg-primary-900",field:"DocNum",header:"Nota de venta"},{body:s(a=>[v(" N° "+$(a.data.DocNum),1)]),_:1}),l(e(r),{headerClass:"!bg-primary-900",field:"DocDate",header:"Fecha"}),l(e(r),{headerClass:"!bg-primary-900",field:"DocTime",header:"Hora"}),l(e(r),{headerClass:"!bg-primary-900",field:"Customer.CardName",header:"Cliente"}),l(e(r),{headerClass:"!bg-primary-900",field:"MethodShippingName",header:"Método entrega"},{body:s(a=>[l(e(p),{Tag:"",icon:a.data.MethodShippingId===2?"pi pi-home":"pi pi-truck",value:a.data.MethodShippingName,rounded:"",class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["icon","value"])]),_:1}),l(e(r),{headerClass:"!bg-primary-900",field:"ResponsiblePickerName",header:"Picker"},{body:s(a=>[a.data.ResponsiblePickerName?(i(),u(e(p),{key:0,icon:"pi pi-user",value:a.data.ResponsiblePickerName,class:"tag-rounded-blue tag-font-method tag-radius"},null,8,["value"])):d("",!0)]),_:1}),l(e(r),{headerClass:"!bg-primary-900",field:"ResponsibleReviewerName",header:"Revisor"},{body:s(a=>[a.data.ResponsibleReviewerName?(i(),u(e(p),{key:0,icon:"pi pi-user",value:a.data.ResponsibleReviewerName,class:"tag-rounded-blue tag-font-method tag-radius"},null,8,["value"])):d("",!0)]),_:1}),l(e(r),{headerClass:"!bg-primary-900",field:"OrderStatusName",header:"Estado"},{body:s(a=>[l(e(p),{icon:"pi pi-circle-fill",value:a.data.OrderStatusName,style:B({backgroundColor:a.data.OrderStatusColor,color:F(a.data.OrderStatusColor)}),class:"tag-font-method tag-radius"},null,8,["value","style"])]),_:1}),l(e(r),{headerClass:"!bg-primary-900",field:"note",header:""},{body:s(a=>[a.data.OrderStatusId!=3?(i(),u(b,{key:0,to:{name:"review-notes",params:{id:a.data.id,responsible:"picker"}},class:"p-button p-component p-button-outlined !py-1.5 !border-primary-900 !text-primary-900"},{default:s(()=>[v("Pickear")]),_:2},1032,["to"])):d("",!0),a.data.OrderStatusId==3?(i(),u(b,{key:1,to:{name:"review-notes",params:{id:a.data.id,responsible:"revisor"}},class:"p-button p-component p-button-outlined !py-1.5 !border-primary-900 !text-primary-900"},{default:s(()=>[v("Revisar")]),_:2},1032,["to"])):d("",!0)]),_:1})]),_:2},[e(y).length===0?{name:"footer",fn:s(()=>[o("tr",null,[o("td",{colspan:n.numberOfColumns,class:"text-not-info"}," No hay órdenes disponible. ",8,Ce)])]),key:"0"}:void 0]),1032,["value","loading"])])])}}};export{Oe as default};
