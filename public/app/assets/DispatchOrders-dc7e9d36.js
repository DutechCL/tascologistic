import{e as d,v as O,q as w,o as m,c as u,h as a,i as E,a as i,u as t,k as B,p,F as k,s as N,x as C}from"./index-fc794f91.js";import{T,c as n,_ as I}from"./ToastMixin-effc3726.js";import{u as M,_ as S,a as V}from"./DataTableOrders-f84bab34.js";import{C as P}from"./ConfirmMixin-5d44d619.js";import"./tag.esm-814b14f9.js";import"./index.esm-9ebbd129.js";import"./OrdersApiService-6240e94f.js";import"./ApiService-403ce077.js";import"./FilterMultiSelect-fd4d2dff.js";import"./index.esm-6450925d.js";import"./index-dd28ee9b.js";const L={class:"px-8"},R={class:"flex justify-between"},U=a("i",{class:"pi pi-refresh"},null,-1),$=[U],F={key:1,style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"}},G=a("h1",{class:"align-center font-inter font-semibold mb-4 text-2xl text-center text-primary-900"}," No hay ordenes actualmente en este proceso ",-1),ee={__name:"DispatchOrders",setup(Y){const{showToast:l}=T.setup(),{showConfirm:_}=P.setup(),e=M(),h=d(!1),o=d([]),f=d([{active:!0,method:"generateDocument",document:n.DOCUMENT_TYPE_GUIDE,label:"GuÃ­a"},{active:!1,method:"generateDocument",document:n.DOCUMENT_TYPE_INVOICE,label:"Factura / Boleta"}]),v=s=>{o.value=s.orders},g=s=>{switch(console.log(s),s.method){case"showDetailOrder":e.showDetailOrder(s.order);break;case"generateDocument":b(s);break}},D=async()=>{await e.getOrdersBillDelivery(),l({status:"success",message:"Ordenes actualizadas",time:3e3})};O(()=>e.orders,s=>{o.value=e.orders});const y=()=>{o.value.length===0&&(window.location.href="/admin/dashboard/")},b=async s=>{if(await _()){let r=await e.generateDocument(s);l({status:r.status,message:r.message})}else l({status:"info",message:"Proceso cancelado"})},x=s=>{h.value=s.visibleDetails};return w(async()=>{await e.getOrdersBillDelivery(),o.value=e.orders}),(s,c)=>(m(),u(k,null,[a("div",L,[a("div",R,[a("h1",{class:"mb-4 text-primary-900 font-inter font-semibold text-2xl"},[E(" Despacho "),a("a",{style:{cursor:"pointer"},onClick:D},$)]),i(I,{type:t(n).RESPONSIBLE_BILLER,methodShipping:t(n).METHOD_SHIPPING_DELIVERY,orders:t(e).orders,onSearch:v},null,8,["type","methodShipping","orders"])]),i(S,{orders:o.value,actions:f.value,onAction:g},null,8,["orders","actions"]),t(e).visibleDialog?(m(),B(V,{key:0,visible:t(e).visibleDialog,"onUpdate:visible":c[0]||(c[0]=r=>t(e).visibleDialog=r),orderDetails:t(e).order,onVisible:x},null,8,["visible","orderDetails"])):p("",!0),o.value.length===0?(m(),u("div",F,[G,i(t(N),{label:"Regresar",severity:"primary",outlined:"",onClick:y,class:"ml-3 !py-1.5"})])):p("",!0)]),i(t(C))],64))}};export{ee as default};
