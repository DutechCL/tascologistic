import{e as u,x as O,v as D,o as c,c as m,h as o,i as k,a as i,u as t,l as w,q as p,F as B,s as E,y as N}from"./index-c880184c.js";import{T as P,c as d,a as C}from"./FilterMultiSelect-796a38e0.js";import{u as M,_ as S,a as T}from"./DataTableOrders-b74edb1e.js";import{C as I}from"./ConfirmMixin-c64e0a1d.js";import"./tag.esm-f51f7c2c.js";import"./index.esm-63a5631d.js";import"./OrdersApiService-706b4dba.js";import"./ApiService-418896ba.js";import"./index.esm-d2e2b394.js";const V={class:"px-8"},H={class:"flex justify-between"},R=o("i",{class:"pi pi-refresh"},null,-1),A=[R],$={key:1,style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"}},F=o("h1",{class:"align-center font-inter font-semibold mb-4 text-2xl text-center text-primary-900"}," No hay ordenes actualmente en este proceso ",-1),W={__name:"PickupOrders",setup(L){const{showToast:n}=P.setup(),{showConfirm:_}=I.setup(),e=M(),a=u([]),h=u([{active:"true",method:"generateDocument",document:d.DOCUMENT_TYPE_INVOICE,label:"Factura / Boleta"}]),f=async()=>{await e.getOrdersBillPickupAndHere(),n({status:"success",message:"Ordenes actualizadas",time:3e3})};O(()=>e.listOrders,s=>{a.value=e.listOrders});const v=s=>{a.value=s.orders},g=s=>{switch(s.method){case"showDetailOrder":e.showDetailOrder(s.order);break;case"generateDocument":y(s);break}},y=async s=>{if(await _()){let r=await e.generateDocument(s);n({status:r.status,message:r.message})}else n({status:"info",message:"Proceso cancelado"})},b=s=>{e.visibleDialog=s.visibleDetails};D(async()=>{await e.getOrdersBillPickupAndHere(),a.value=e.listOrders});const x=()=>{a.value.length===0&&(window.location.href="/admin/dashboard/")};return(s,l)=>(c(),m(B,null,[o("div",V,[o("div",H,[o("h1",{class:"mb-4 text-primary-900 font-inter font-semibold text-2xl"},[k(" Retira / AquÃ­ "),o("a",{style:{cursor:"pointer"},onClick:f},A)]),i(C,{type:t(d).RESPONSIBLE_BILLER,methodShipping:t(d).METHOD_SHIPPING_HERE,orders:t(e).listOrders,onSearch:v},null,8,["type","methodShipping","orders"])]),i(S,{orders:a.value,actions:h.value,onAction:g},null,8,["orders","actions"]),t(e).visibleDialog?(c(),w(T,{key:0,visible:t(e).visibleDialog,"onUpdate:visible":l[0]||(l[0]=r=>t(e).visibleDialog=r),orderDetails:t(e).order,onVisible:b},null,8,["visible","orderDetails"])):p("",!0),a.value.length===0?(c(),m("div",$,[F,i(t(E),{label:"Regresar",severity:"primary",outlined:"",onClick:x,class:"ml-3 !py-1.5"})])):p("",!0)]),i(t(N))],64))}};export{W as default};
