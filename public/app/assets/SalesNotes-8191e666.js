import{s as A,a as K}from"./tabpanel.esm-13835d5d.js";import{b as p,h as O,o as c,i as g,w as i,f as l,g as w,t as N,a,u as e,s as v,j as q,c as L,F as j,k as G,l as Q,m as J,p as W,r as X,q as k,v as Y}from"./index-e143a938.js";import{a as V,b as M,s as d,c as H}from"./tag.esm-e135bc28.js";import{_ as E,s as b}from"./multiselect.esm-954dd169.js";import{u as R}from"./OrdersApiService-2d74b38d.js";import{s as S}from"./treeselect.esm-d46501b6.js";import"./index.esm-08e99e58.js";const Z=l("h1",{class:"mb-1 text-primary-900 font-inter font-semibold text-xl"},[l("i",{class:"pi pi-eye !text-xl"}),w(" Ver Documentos ")],-1),ee={class:"flex align-center mb-2"},ae={class:"text-primary-900"},le=l("strong",{class:"mr-3 font-semibold"},"Nota de venta N°",-1),te=l("div",{class:"mt-5"},[l("p",null," 2 archivos adjuntos "),l("div",{class:"flex"},[l("div",{class:"mt-2 mr-5",width:"200",height:"180"},[l("embed",{class:"w-full",src:"http://ocw.uv.es/ingenieria-y-arquitectura/programacionmultimedia/t2-1-css.pdf",type:"application/pdf"}),l("div",{class:"bg-gray-100"},[l("i",{class:"pi pi-file-pdf m-2",style:{color:"#F40F02"}}),l("a",{href:"#",class:"font-normal text-sm"},"Nombre de pdf")])]),l("div",{class:"mt-2 mr-5",width:"200",height:"180"},[l("embed",{class:"w-full",src:"http://ocw.uv.es/ingenieria-y-arquitectura/programacionmultimedia/t2-1-css.pdf",type:"application/pdf"}),l("div",{class:"bg-gray-100"},[l("i",{class:"pi pi-file-pdf m-2",style:{color:"#F40F02"}}),l("a",{href:"#",class:"font-normal text-sm"},"Nombre de pdf")])])])],-1),oe={__name:"DialogDetail",props:{order:String},setup(x){const f=x,s=p([]);return O(()=>{s.value=f.order}),(u,n)=>(c(),g(e(q),{modal:"",header:" ",style:{width:"70vw"}},{default:i(()=>[l("div",null,[Z,l("div",ee,[l("p",ae,[le,w(N(s.value.DocNum),1)]),a(e(V),{icon:"pi pi-shopping-bag",value:s.value.MethodShippingName,class:"ml-3 tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),a(e(V),{icon:"pi pi-user",value:s.value.Customer.CardName,class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["value"]),te]),a(e(v),{label:"Cerrar",onClick:n[0]||(n[0]=h=>u.visible=!1),class:"!py-2 !border-none !px-10 !bg-primary-900 float-right mt-5"})]),_:1}))}},se=l("h1",{class:"mb-1 text-primary-900 font-inter font-semibold text-xl"},[l("i",{class:"pi pi-eye !text-xl"}),w(" Ver observaciones ")],-1),re={class:"flex align-center mb-2"},de={class:"text-primary-900"},ie=l("strong",{class:"mr-3 font-semibold"},"Nota de venta N°",-1),ne={class:"mt-5"},ue=l("strong",null,"NOTA:",-1),me=["innerHTML"],ce={__name:"DialogDetailObservation",props:{order:String},setup(x){const f=x,s=p([]);O(()=>{s.value=f.order});const u=n=>n.replace(/\r/g,"<br>").replace(/\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;");return(n,h)=>(c(),g(e(q),{modal:"",header:" ",style:{width:"70vw"}},{default:i(()=>[l("div",null,[se,l("div",re,[l("p",de,[ie,w(N(s.value.DocNum),1)]),a(e(V),{icon:"pi pi-shopping-cart",value:s.value.MethodShippingName,class:"ml-3 tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),a(e(V),{icon:"pi pi-user",value:s.value.Customer.CardName,class:"tag-radius tag-rounded-blue tag-font-method mb-5"},null,8,["value"]),a(e(M),{tableStyle:"min-width: 50rem",filters:"filters",value:s.value.OrderItems},{default:i(()=>[a(e(d),{headerClass:"!bg-primary-900",field:"Quantity",header:"Cantidad"},{body:i(C=>[l("p",null,N(C.data.Quantity)+" Unidad",1)]),_:1}),a(e(d),{headerClass:"!bg-primary-900",field:"ItemCode",header:"SKU"}),a(e(d),{headerClass:"!bg-primary-900",field:"ItemDescription",header:"Producto"}),a(e(d),{headerClass:"!bg-primary-900",field:"Problems",header:"Problema"},{body:i(C=>[(c(!0),L(j,null,G(C.data.Problems,(y,D)=>(c(),g(e(V),{key:D,value:y.ProblemName,rounded:"",class:"mr-3 tag-radius tag-rounded-blue tag-font-method"},null,8,["value"]))),128))]),_:1})]),_:1},8,["value"]),l("div",ne,[ue,w(),l("span",{innerHTML:u(s.value.Comments)},null,8,me)])]),a(e(v),{label:"Cerrar",onClick:h[0]||(h[0]=C=>n.visibleObservation=!1),class:"!py-2 !border-none !px-10 !bg-primary-900 float-right mt-5"})]),_:1}))}};const pe={class:"flex justify-between"},fe=l("div",null,[l("h1",{class:"mb-2 text-primary-900 font-inter font-semibold text-2xl"}," Notas de venta ")],-1),be={key:0},ve=l("h2",{class:"mb-4 text-primary-900 font-inter font-semibold text-xl"}," Aquí ",-1),he={class:"flex"},ye={class:"card flex justify-content-center"},ge={class:"card flex justify-content-center"},Ce={class:"card flex justify-content-center"},_e={class:"card flex justify-content-center mr-5"},Ve={class:"card flex justify-content-center"},we=l("div",null,[l("h2",{class:"mb-4 text-primary-900 font-inter font-semibold text-xl"}," Retiro / Despacho ")],-1),xe={class:"flex"},De={class:"card flex justify-content-center"},Ne={class:"card flex justify-content-center"},$e={class:"card flex justify-content-center"},Se={class:"card flex justify-content-center mr-5"},ke={class:"card flex justify-content-center"},P=1,Le={__name:"ToManage",props:{ListOrders:Array},setup(x){const f=x,s=Q(),u=J(),n=R(),h=p(!1),C=p(!1),y=p({}),D=p(!1),$=p([]);W($,o=>{console.log("Nuevo valor de myState:",o)});const T=p([f.ListOrders.filter(o=>o.MethodShippingId===P)]),m=p([f.ListOrders.filter(o=>o.MethodShippingId!==P)]);T.value=T.value[0],m.value=m.value[0];const I=o=>{y.value={...o},C.value=!0,D.value=!0},B=o=>{h.value=!0,y.value={...o},D.value=!0},F=o=>{o||(y.value={},D.value=!1)},z=async o=>{s.require({message:"¿Estas seguro que deseas continuar?",header:"Confirmación",icon:"pi pi-exclamation-triangle",accept:async()=>{let r=await n.postActionOrder(o.id,1);if(u.add({severity:r.status,summary:"",detail:r.message,life:3e3}),r.status==="success"){const U=m.value.findIndex(t=>t===o);U!==-1&&m.value.splice(U,1)}},reject:()=>{}})};return(o,r)=>{const U=X("Toast");return c(),L(j,null,[l("div",pe,[fe,a(E)]),T.value.length>0?(c(),L("div",be,[ve,l("div",he,[l("div",ye,[(c(),g(e(b),{modelValue:$.value,"onUpdate:modelValue":r[0]||(r[0]=t=>$.value=t),options:m.value,filter:"",optionLabel:"DocNum",placeholder:"Nota de venta",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none"},key:o.DocNum},null,8,["modelValue","options"]))]),l("div",ge,[a(e(b),{modelValue:o.selectedCities,"onUpdate:modelValue":r[1]||(r[1]=t=>o.selectedCities=t),options:m.value,filter:"",optionLabel:"DocDate",placeholder:"Fecha",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none"}},null,8,["modelValue","options"])]),l("div",Ce,[a(e(b),{modelValue:o.selectedCities,"onUpdate:modelValue":r[2]||(r[2]=t=>o.selectedCities=t),options:m.value,filter:"",optionLabel:"DocTime",placeholder:"Hora",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none"}},null,8,["modelValue","options"])]),l("div",_e,[a(e(b),{modelValue:o.selectedCities,"onUpdate:modelValue":r[3]||(r[3]=t=>o.selectedCities=t),options:m.value,filter:"",optionLabel:"Customer.CardName",placeholder:"Clientes",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none"}},null,8,["modelValue","options"])]),l("div",Ve,[a(e(b),{modelValue:o.selectedCities,"onUpdate:modelValue":r[4]||(r[4]=t=>o.selectedCities=t),options:m.value,filter:"",optionLabel:"DocTotal",placeholder:"Total",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none"}},null,8,["modelValue","options"])])]),a(e(M),{class:"mb-20",value:T.value,tableStyle:"min-width: 50rem",filters:"filters",paginator:"",rows:5,dataKey:"id",filterDisplay:"row",loading:o.loading},{default:i(()=>[a(e(d),{headerClass:"!bg-primary-900",field:"DocNum",header:"Nota de venta"},{body:i(t=>[w(" N° "+N(t.data.DocNum),1)]),_:1}),a(e(d),{headerClass:"!bg-primary-900",field:"DocDate",header:"Fecha"}),a(e(d),{headerClass:"!bg-primary-900",field:"DocTime",header:"Hora"}),a(e(d),{headerClass:"!bg-primary-900",field:"Customer.CardName",header:"Cliente"}),a(e(d),{headerClass:"!bg-primary-900",field:"DocTotal",header:"Monto total"},{body:i(t=>[a(e(H),{modelValue:t.data.DocTotal,"onUpdate:modelValue":_=>t.data.DocTotal=_,class:"remove-format-input",inputId:"currency-us",mode:"currency",currency:"USD",locale:"en-US",readonly:"",minFractionDigits:0},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),a(e(d),{headerClass:"!bg-primary-900",field:"MethodShippingName",header:"Método entrega"},{body:i(t=>[a(e(V),{Tag:"",icon:"pi pi-shopping-cart",value:t.data.MethodShippingName,rounded:"",class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),_:1}),a(e(d),{headerClass:"!bg-primary-900",field:"note",header:" Observación"},{body:i(t=>[a(e(v),{icon:"pi pi-eye",onClick:_=>I(t.data),class:"!font-normal !text-primary-900",label:"Ver observación",link:""},null,8,["onClick"])]),_:1}),a(e(d),{headerClass:"!bg-primary-900",field:"note",header:""},{body:i(t=>[a(e(v),{label:"Informado",class:"!py-1.5 !border-primary-900 !text-primary-900",outlined:""})]),_:1})]),_:1},8,["value","loading"])])):k("",!0),we,l("div",xe,[l("div",De,[(c(),g(e(b),{modelValue:$.value,"onUpdate:modelValue":r[5]||(r[5]=t=>$.value=t),options:m.value,filter:"",optionLabel:"DocNum",placeholder:"Nota de venta",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none"},key:o.DocNum},null,8,["modelValue","options"]))]),l("div",Ne,[a(e(b),{modelValue:o.selectedCities,"onUpdate:modelValue":r[6]||(r[6]=t=>o.selectedCities=t),options:m.value,filter:"",optionLabel:"DocDate",placeholder:"Fecha",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none"}},null,8,["modelValue","options"])]),l("div",$e,[a(e(b),{modelValue:o.selectedCities,"onUpdate:modelValue":r[7]||(r[7]=t=>o.selectedCities=t),options:m.value,filter:"",optionLabel:"DocTime",placeholder:"Hora",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none"}},null,8,["modelValue","options"])]),l("div",Se,[a(e(b),{modelValue:o.selectedCities,"onUpdate:modelValue":r[8]||(r[8]=t=>o.selectedCities=t),options:m.value,filter:"",optionLabel:"Customer.CardName",placeholder:"Clientes",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none"}},null,8,["modelValue","options"])]),l("div",ke,[a(e(b),{modelValue:o.selectedCities,"onUpdate:modelValue":r[9]||(r[9]=t=>o.selectedCities=t),options:m.value,filter:"",optionLabel:"DocTotal",placeholder:"Total",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none"}},null,8,["modelValue","options"])])]),a(e(M),{value:m.value,tableStyle:"min-width: 50rem",filters:"filters",paginator:"",rows:5,dataKey:"id",filterDisplay:"row",loading:o.loading},{default:i(()=>[a(e(d),{headerClass:"!bg-primary-900",field:"DocNum",header:"Nota de venta"},{body:i(t=>[w(" N° "+N(t.data.DocNum),1)]),_:1}),a(e(d),{headerClass:"!bg-primary-900",field:"DocDate",header:"Fecha"}),a(e(d),{headerClass:"!bg-primary-900",field:"DocTime",header:"Hora"}),a(e(d),{headerClass:"!bg-primary-900",field:"Customer.CardName",header:"Cliente"}),a(e(d),{headerClass:"!bg-primary-900",field:"DocTotal",header:"Monto total"},{body:i(t=>[a(e(H),{modelValue:t.data.DocTotal,"onUpdate:modelValue":_=>t.data.DocTotal=_,class:"remove-format-input",inputId:"currency-us",mode:"currency",currency:"USD",locale:"en-US",readonly:"",minFractionDigits:0},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),a(e(d),{headerClass:"!bg-primary-900",field:"MethodShippingName",header:"Método entrega"},{body:i(t=>[a(e(V),{Tag:"",icon:"pi pi-shopping-cart",value:t.data.MethodShippingName,rounded:"",class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),_:1}),a(e(d),{headerClass:"!bg-primary-900",field:"note",header:"Documentos"},{body:i(t=>[a(e(v),{icon:"pi pi-eye",onClick:_=>B(t.data),class:"!font-normal !text-primary-900",label:"Ver documentos",link:""},null,8,["onClick"])]),_:1}),a(e(d),{headerClass:"!bg-primary-900",field:"note",header:" Observación"},{body:i(t=>[t.data.OrderStatusId==4?(c(),g(e(v),{key:0,icon:"pi pi-eye",onClick:_=>I(t.data),class:"!font-normal !text-primary-900",label:"Ver observación",link:""},null,8,["onClick"])):k("",!0)]),_:1}),a(e(d),{headerClass:"!bg-primary-900",field:"note",header:""},{body:i(t=>[a(e(v),{label:"Rechazar",onClick:r[10]||(r[10]=_=>o.visibleReport=!0),class:"!py-1.5 mr-3 !border-primary-900 !text-primary-900",outlined:""}),a(e(v),{label:"Autorizar",onClick:_=>z(t.data),class:"!py-1.5 !border-primary-900 !text-primary-900",outlined:""},null,8,["onClick"])]),_:1})]),_:1},8,["value","loading"]),D.value?(c(),g(oe,{visible:h.value,"onUpdate:visible":[r[11]||(r[11]=t=>h.value=t),F],order:y.value,key:y.value.timestamp},null,8,["visible","order"])):k("",!0),D.value?(c(),g(ce,{visible:C.value,"onUpdate:visible":[r[12]||(r[12]=t=>C.value=t),F],order:y.value,key:y.value.timestamp},null,8,["visible","order"])):k("",!0),a(U),a(e(Y))],64)}}},Te={class:"flex justify-between"},Ue=l("div",null,[l("h1",{class:"mb-2 text-primary-900 font-inter font-semibold text-2xl"}," Notas de venta "),l("h2",{class:"mb-4 text-primary-900 font-inter font-semibold text-xl"}," Aquí ")],-1),Me={class:"flex"},Oe={class:"card flex justify-content-center"},je={class:"card flex justify-content-center"},Ie={class:"card flex justify-content-center"},Fe={class:"card flex justify-content-center mr-20"},Ae={class:"card flex justify-content-center"},He={__name:"Managed",setup(x){const f=p([{statusId:1,note:"4567892",date:"19/04/2023",hour:"10:26",client:"Daniel Ramirez Palma",status:"En espera",totalAmount:"$200",btnInfo:"Informado"},{statusId:2,note:"0998764",date:"19/04/2023",hour:"10:58",client:"Lucas Sandoval",status:"En preparación",totalAmount:"$300"}]);return(s,u)=>(c(),L(j,null,[l("div",Te,[Ue,a(E)]),l("div",Me,[l("div",Oe,[a(e(S),{modelValue:s.selectedValue,"onUpdate:modelValue":u[0]||(u[0]=n=>s.selectedValue=n),options:s.nodes,selectionMode:"checkbox",placeholder:"Nota de venta",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),l("div",je,[a(e(S),{modelValue:s.selectedValue,"onUpdate:modelValue":u[1]||(u[1]=n=>s.selectedValue=n),options:s.nodes,selectionMode:"checkbox",placeholder:"Fecha",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),l("div",Ie,[a(e(S),{modelValue:s.selectedValue,"onUpdate:modelValue":u[2]||(u[2]=n=>s.selectedValue=n),options:s.nodes,selectionMode:"checkbox",placeholder:"Hora",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),l("div",Fe,[a(e(S),{modelValue:s.selectedValue,"onUpdate:modelValue":u[3]||(u[3]=n=>s.selectedValue=n),options:s.nodes,selectionMode:"checkbox",placeholder:"Cliente",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),l("div",Ae,[a(e(S),{modelValue:s.selectedValue,"onUpdate:modelValue":u[4]||(u[4]=n=>s.selectedValue=n),options:s.nodes,selectionMode:"checkbox",placeholder:"Total",class:"md:w-20rem w-full"},null,8,["modelValue","options"])])]),a(e(M),{class:"mb-20",value:f.value,tableStyle:"min-width: 50rem"},{default:i(()=>[a(e(d),{headerClass:"!bg-primary-900",field:"note",header:"Nota de venta"},{body:i(n=>[w(" N° "+N(n.data.note),1)]),_:1}),a(e(d),{headerClass:"!bg-primary-900",field:"date",header:"Fecha"}),a(e(d),{headerClass:"!bg-primary-900",field:"hour",header:"Hora"}),a(e(d),{headerClass:"!bg-primary-900",field:"client",header:"Cliente"}),a(e(d),{headerClass:"!bg-primary-900",field:"totalAmount",header:"Monto total"}),a(e(d),{headerClass:"!bg-primary-900",field:"totalAmount",header:"Método entrega"},{body:i(n=>[a(e(V),{Tag:"",icon:"pi pi-shopping-cart",value:"Aquí",rounded:"",class:"!font-normal !text-md !px-3 !bg-primary-100 !text-primary-900"})]),_:1}),a(e(d),{headerClass:"!bg-primary-900",field:"note",header:" Observación"},{body:i(n=>[a(e(v),{icon:"pi pi-eye",class:"!font-normal !text-primary-900",label:"Ver observación",link:""})]),_:1}),a(e(d),{headerClass:"!bg-primary-900",field:"note",header:""},{body:i(n=>[a(e(v),{label:"Informado",class:"!py-1.5 !border-primary-900 !text-primary-900",outlined:""})]),_:1})]),_:1},8,["value"])],64))}};const Pe={class:"px-3"},Qe={__name:"SalesNotes",setup(x){const f=R(),s=p([]),u=p(!1);return O(async()=>{s.value=await f.getOrders(),u.value=!0}),(n,h)=>(c(),L("div",Pe,[a(e(K),null,{default:i(()=>[a(e(A),{header:"Por gestionar"},{default:i(()=>[u.value?(c(),g(Le,{key:0,ListOrders:s.value},null,8,["ListOrders"])):k("",!0)]),_:1}),a(e(A),{header:"Gestionadas"},{default:i(()=>[a(He)]),_:1})]),_:1})]))}};export{Qe as default};
