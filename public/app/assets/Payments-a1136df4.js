import{s as B,a as K}from"./tabpanel.esm-8a07d509.js";import{c as M,T as F,_ as A}from"./ToastMixin-2fb782ed.js";import{O as W,B as Y,o as l,c as v,h as n,E as D,y as J,e as f,v as O,k as b,w as h,t as k,u as r,i as P,a as u,s as V,F as N,l as I,p,m as Q,f as X,q as U}from"./index-f78c98d3.js";import{c as Z,d as ee,s as _,a as x,e as E,b as te}from"./tag.esm-b220e9fa.js";import{u as ae}from"./OrdersApiService-38185882.js";import{_ as re}from"./FilterMultiSelect-3aad83d4.js";import"./index.esm-fd796cca.js";import"./ApiService-2ed735c3.js";import"./index.esm-b24dcc76.js";import"./index-dd28ee9b.js";var ne={root:function(e){var a=e.instance,o=e.props;return["p-radiobutton p-component",{"p-radiobutton-checked":a.checked,"p-radiobutton-disabled":o.disabled,"p-radiobutton-focused":a.focused}]},input:function(e){var a=e.instance,o=e.props;return["p-radiobutton-box",{"p-highlight":a.checked,"p-disabled":o.disabled,"p-focus":a.focused}]},icon:"p-radiobutton-icon"},oe={name:"BaseRadioButton",extends:Y,props:{value:null,modelValue:null,name:{type:String,default:null},disabled:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},css:{classes:ne},provide:function(){return{$parentInstance:this}}},L={name:"RadioButton",extends:oe,emits:["click","update:modelValue","change","focus","blur"],data:function(){return{focused:!1}},methods:{onClick:function(e){this.disabled||(this.$emit("click",e),this.$emit("update:modelValue",this.value),this.$refs.input.focus(),this.checked||this.$emit("change",e))},onFocus:function(e){this.focused=!0,this.$emit("focus",e)},onBlur:function(e){this.focused=!1,this.$emit("blur",e)}},computed:{checked:function(){return this.modelValue!=null&&W.equals(this.modelValue,this.value)}}};function S(t){"@babel/helpers - typeof";return S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(t)}function T(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(g){return Object.getOwnPropertyDescriptor(t,g).enumerable})),a.push.apply(a,o)}return a}function j(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?T(Object(a),!0).forEach(function(o){se(t,o,a[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(a,o))})}return t}function se(t,e,a){return e=le(e),e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function le(t){var e=ie(t,"string");return S(e)==="symbol"?e:String(e)}function ie(t,e){if(S(t)!=="object"||t===null)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var o=a.call(t,e||"default");if(S(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var de=["id","name","checked","disabled","value","aria-labelledby","aria-label"],ue=["data-p-highlight","data-p-disabled","data-p-focused"];function ce(t,e,a,o,g,i){return l(),v("div",D({class:t.cx("root"),onClick:e[2]||(e[2]=function(m){return i.onClick(m)})},t.ptm("root"),{"data-pc-name":"radiobutton"}),[n("div",D({class:"p-hidden-accessible"},t.ptm("hiddenInputWrapper"),{"data-p-hidden-accessible":!0}),[n("input",D({ref:"input",id:t.inputId,type:"radio",name:t.name,checked:i.checked,disabled:t.disabled,value:t.value,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,onFocus:e[0]||(e[0]=function(){return i.onFocus&&i.onFocus.apply(i,arguments)}),onBlur:e[1]||(e[1]=function(){return i.onBlur&&i.onBlur.apply(i,arguments)})},t.ptm("hiddenInput")),null,16,de)],16),n("div",D({ref:"box",class:[t.cx("input"),t.inputClass],style:t.inputStyle},j(j({},t.inputProps),t.ptm("input")),{"data-p-highlight":i.checked,"data-p-disabled":t.disabled,"data-p-focused":g.focused}),[n("div",D({class:t.cx("icon")},t.ptm("icon")),null,16)],16,ue)],16)}L.render=ce;const pe=ae(),$=J("ordersPayment",{state:()=>({ordersPaymentsPending:[],order:[],showDialog:!1}),getters:{getOrdersPaymentsPending(t){return console.log(t.ordersPaymentsPending),t.ordersPaymentsPending}},actions:{async getOrdersPayment(){let t=await pe.getOrdersPayment();this.ordersPaymentsPending=t.data}}}),me=n("h1",{class:"mb-4 text-primary-900 font-inter font-semibold text-xl"},[n("i",{class:"pi pi-info-circle rotate-180 !text-xl"}),P(" Medios de pago ")],-1),ye={class:"mb-4 text-primary-900 font-inter font-medium text-md"},be={class:"flex justify-between",style:{width:"80%"}},fe={class:"mt-2 mb-1",style:{"max-width":"300px !important"}},he={class:"text-primary-900 font-semi-bold"},ge={class:"mt-2 mb-1"},ve={class:"text-primary-900 font-semi-bold"},_e={class:"mt-2 mb-1"},ke={class:"text-primary-900 font-semi-bold"},Pe={class:"mt-4 flex justify-between align-center"},Ce={class:"w-9/12"},we=n("p",{class:"mb-1"},"Selecciona el método de pago",-1),De={key:0},xe=n("p",{class:"py-5"},"Aquí puedes navegar a través de los métodos de pagos",-1),Ne={class:"grid grid-cols-5"},Se=["for"],Oe={key:1,class:"py-8"},$e=n("p",{class:"text-primary-900 font-inter font-medium text-md"},"Datos de pago",-1),Me={class:"grid grid-cols-2"},Ve=["for"],q={__name:"DialogMethosPayment",setup(t){const e=$(),a=f(),o=f([]),g=f(""),i=f(""),m=f([{idMethod:1,name:"BCI pagos",inputs:[{key:"bci1",type:"number",label:"N° de la tarjeta"},{key:"bci2",type:"date",label:"Válido hasta"},{key:"bci3",type:"text",label:"N° Dia (D, B, G, C)"},{key:"bci4",type:"number",label:"Cantidad de cuotas"},{key:"bci5",type:"number",label:"Cantidad de pagos"},{key:"bci6",type:"text",label:"Partir documento de tarjeta"},{key:"bci7",type:"number",label:"Primer pago parcial"},{key:"bci8",type:"number",label:"Cada pago adicional"}]},{idMethod:2,name:"Transferencia",inputs:[{key:"transferencia1",type:"date",label:"Fecha de transferencia"},{key:"transferencia2",type:"number",label:"N° de transferencia"},{key:"transferencia3",type:"number",label:"Importe total"}]},{idMethod:3,name:"Web pay",inputs:[{key:"webpay1",type:"number",label:"N° de la tarjeta"},{key:"webpay2",type:"date",label:"Válido hasta"},{key:"webpay3",type:"text",label:"N° Dia (D, B, G, C)"},{key:"webpay4",type:"number",label:"Cantidad de cuotas"},{key:"webpay5",type:"number",label:"Cantidad de pagos"},{key:"webpay6",type:"text",label:"Partir documento de tarjeta"},{key:"webpay7",type:"number",label:"Primer pago parcial"},{key:"webpay8",type:"number",label:"Cada pago adicional"}]},{idMethod:4,name:"Cheque",inputs:[{key:"cheque1",type:"number",label:"Importe"},{key:"cheque2",type:"date",label:"Fecha de vencimiento"},{key:"cheque3",type:"select",label:"Banco"},{key:"cheque4",type:"number",label:"N° de cheque"}]},{idMethod:5,name:"Efectivo",inputs:[{key:"efectivo1",type:"number",label:"Monto a pagar"}]},{idMethod:6,name:"Cuenta corriente",inputs:[{key:"cuentacorriente1",type:"number",label:"Código de cliente"},{key:"cuentacorriente2",type:"number",label:"Monto a pagar"}]},{idMethod:7,name:"Saldo a favor",inputs:[{key:"saldoafavor1",type:"date",label:"Fecha del pago"},{key:"saldoafavor2",type:"number",label:"Monto a pagar"}]}]),C=()=>{a.value&&!o.value.some(d=>d.name===a.value.name)&&(o.value.push(a.value),a.value=null)},s=d=>{i.value=m.value.find(c=>c.idMethod===d)};return O(()=>e.order,d=>{d&&(a.value=null,o.value=[],g.value="",i.value="")}),(d,c)=>(l(),b(r(Q),{modal:"",header:" ",style:{width:"70vw"}},{default:h(()=>[n("div",null,[me,n("p",ye," Factura N° "+k(r(e).order.DocNum),1)]),n("div",be,[n("div",fe,[n("p",null,[P("Cliente: "),n("span",he,k(r(e).order.Customer.CardName),1)])]),n("div",ge,[n("p",null,[P("Monto total: "),n("span",ve,k(r(e).order.DocTotal),1)])]),n("div",_e,[n("p",null,[P("Fecha: "),n("span",ke,k(r(e).order.DocDate),1)])])]),n("div",Pe,[n("div",Ce,[we,u(r(Z),{modelValue:a.value,"onUpdate:modelValue":c[0]||(c[0]=y=>a.value=y),options:m.value,optionLabel:"name",placeholder:"Selecciona el método de pago",class:"w-full md:w-14rem"},null,8,["modelValue","options"])]),u(r(V),{icon:"pi pi-plus",label:"Agregar",class:"!py-2 !border-none !bg-primary-900",onClick:C})]),o.value.length>0?(l(),v("div",De,[xe,n("ul",Ne,[(l(!0),v(N,null,I(o.value,y=>(l(),v("li",{class:"!bg-cyan-500 shadow-lg !mr-3 !p-3",key:y.name},[u(r(L),{modelValue:g.value,"onUpdate:modelValue":c[1]||(c[1]=w=>g.value=w),inputId:y.idMethod,onChange:w=>s(y.idMethod),name:"method",value:y.name},null,8,["modelValue","inputId","onChange","value"]),n("label",{for:y.idMethod,class:"ml-2"},k(y.name),9,Se)]))),128))])])):p("",!0),i.value?(l(),v("div",Oe,[$e,n("div",Me,[(l(!0),v(N,null,I(i.value.inputs,({key:y,type:w,label:H},G)=>(l(),v("div",{key:G,class:"flex flex-col p-2"},[n("label",{for:y},k(H),9,Ve),u(r(ee),{type:w,name:y,modelValue:d.value,"onUpdate:modelValue":c[2]||(c[2]=z=>d.value=z),"aria-describedby":y},null,8,["type","name","modelValue","aria-describedby"])]))),128))])])):p("",!0),u(r(V),{label:"Cerrar",onClick:c[3]||(c[3]=y=>r(e).showDialog=!1),class:"!py-2 !border-none !px-10 !bg-primary-900 float-right mt-5"})]),_:1}))}};const Be={key:0},Ie={class:"flex"},Ee={key:1,style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"}},Te=n("h1",{class:"align-center font-inter font-semibold mb-4 text-2xl text-center text-primary-900"}," No se han encontrado ordenes ",-1),je=[Te],R={__name:"DataTabletPayments",props:{orders:Array,filters:Array,column:Array},setup(t){const e=t,a=$(),o=f([]);X(()=>{o.value=e.orders});const g=m=>{a.order=m,a.showDialog=!0},i=m=>{o.value=m.orders};return O(()=>e.orders,m=>{o.value=m}),(m,C)=>(l(),v(N,null,[o.value.length>0?(l(),v("div",Be,[n("div",Ie,[u(re,{allOrders:e.orders,typeOrders:e.type,onFilter:i,filters:t.filters},null,8,["allOrders","typeOrders","filters"])]),u(r(te),{value:o.value,rowsPerPageOptions:[5,10,20,50],rows:5,paginator:"",dataKey:"id",filterDisplay:"row",paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} a {last} de {totalRecords}"},{default:h(()=>[e.column.includes("DocEntry")?(l(),b(r(_),{key:0,sortable:"",headerClass:"!bg-primary-900",field:"DocEntry",header:"Factura"},{body:h(s=>[P(" N° "+k(s.data.DocEntry),1)]),_:1})):p("",!0),e.column.includes("DocNum")?(l(),b(r(_),{key:1,sortable:"",headerClass:"!bg-primary-900",field:"DocNum",header:"Nota de venta"},{body:h(s=>[P(" N° "+k(s.data.DocNum),1)]),_:1})):p("",!0),e.column.includes("Customer")?(l(),b(r(_),{key:2,sortable:"",headerClass:"!bg-primary-900",field:"Customer.CardName",header:"Cliente",style:{"max-width":"300px"}},{body:h(s=>[u(r(x),{icon:"pi pi-user",value:s.data.Customer.CardName,class:"!font-normal !text-md !px-3 !bg-primary-100 !text-primary-900"},null,8,["value"])]),_:1})):p("",!0),e.column.includes("NumAcount")?(l(),b(r(_),{key:3,sortable:"",headerClass:"!bg-primary-900",field:"NumAcount",header:"Cuenta"},{body:h(s=>[P(" N° "+k(s.data.DocNum),1)]),_:1})):p("",!0),e.column.includes("DocTotal")?(l(),b(r(_),{key:4,sortable:"",headerClass:"!bg-primary-900",field:"DocTotal",header:"Total"})):p("",!0),e.column.includes("SalesEmployeeName")?(l(),b(r(_),{key:5,sortable:"",headerClass:"!bg-primary-900",field:"SalesEmployeeName",header:"Vendedor"},{body:h(s=>[u(r(x),{icon:"pi pi-user",value:s.data.SalesEmployeeName,class:"!font-normal !text-md !px-3 !bg-primary-100 !text-primary-900"},null,8,["value"])]),_:1})):p("",!0),e.column.includes("MethodShippingName")?(l(),b(r(_),{key:6,sortable:"",headerClass:"!bg-primary-900",field:"MethodShippingName",header:"Entrega"},{body:h(s=>[s.data.method_shipping_id===r(M).METHOD_SHIPPING_HERE_ID?(l(),b(r(x),{key:0,Tag:"",icon:"pi pi-shopping-cart",value:s.data.MethodShippingName,rounded:"",class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])):p("",!0),s.data.method_shipping_id===r(M).METHOD_SHIPPING_PICKUP_ID?(l(),b(r(x),{key:1,Tag:"",icon:"pi pi-home",value:s.data.MethodShippingName,rounded:"",class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])):p("",!0),s.data.method_shipping_id===r(M).METHOD_SHIPPING_DELIVERY_ID?(l(),b(r(x),{key:2,Tag:"",icon:"pi pi-truck",value:s.data.MethodShippingName,rounded:"",class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])):p("",!0)]),_:1})):p("",!0),e.column.includes("credit")?(l(),b(r(_),{key:7,sortable:"",headerClass:"!bg-primary-900",field:"credit",header:"Crédito"},{body:h(s=>[u(r(E),{modelValue:s.data.credit,"onUpdate:modelValue":d=>s.data.credit=d,class:"remove-format-input",inputId:"currency-us",mode:"currency",currency:"USD",locale:"en-US",readonly:"",minFractionDigits:0},null,8,["modelValue","onUpdate:modelValue"])]),_:1})):p("",!0),e.column.includes("positiveBalance")?(l(),b(r(_),{key:8,sortable:"",headerClass:"!bg-primary-900",field:"positiveBalance",header:"Saldo a favor"},{body:h(s=>[u(r(E),{modelValue:s.data.positiveBalance,"onUpdate:modelValue":d=>s.data.positiveBalance=d,class:"remove-format-input",inputId:"currency-us",mode:"currency",currency:"USD",locale:"en-US",readonly:"",minFractionDigits:0},null,8,["modelValue","onUpdate:modelValue"])]),_:1})):p("",!0),e.column.includes("actions")?(l(),b(r(_),{key:9,headerClass:"!bg-primary-900",field:"actions",header:""},{body:h(s=>[u(r(V),{label:"Pagar",class:"!py-1.5 !border-primary-900 !text-primary-900 float-right",onClick:d=>g(s.data),outlined:""},null,8,["onClick"])]),_:1})):p("",!0)]),_:1},8,["value"])])):p("",!0),o.value.length===0?(l(),v("div",Ee,je)):p("",!0)],64))}},Fe={class:"flex justify-between"},Ae=n("i",{class:"pi pi-refresh"},null,-1),Ue=[Ae],Le={__name:"ToManage",props:{orders:Array},setup(t){const{showToast:e}=F.setup(),a=$(),o=f(["DocEntry","DocNum","Customer"]),g=f(["DocEntry","DocNum","Customer","DocTotal","SalesEmployeeName","MethodShippingName","credit","positiveBalance","actions"]);f(!1);const i=f([]),m=f(!1);U(async()=>{await a.getOrdersPayment(),i.value=a.ordersPaymentsPending,m.value=!0});const C=d=>{i.value=d.orders},s=async()=>{await a.getOrdersPayment(),e({status:"success",title:"Ordenes actualizadas",message:"Las ordenes se han actualizado correctamente"})};return O(()=>a.ordersPaymentsPending,d=>{i.value=d}),(d,c)=>(l(),v(N,null,[n("div",Fe,[n("div",null,[n("h1",{class:"mb-2 text-primary-900 font-inter font-semibold text-2xl"},[P(" Facturas pendientes de pago "),n("a",{style:{cursor:"pointer"},onClick:s},Ue)])]),u(A,{orders:r(a).ordersPaymentsPending,onSearch:C},null,8,["orders"])]),m.value?(l(),b(R,{key:0,orders:i.value,filters:o.value,column:g.value,onAction:d.action},null,8,["orders","filters","column","onAction"])):p("",!0),u(q,{visible:r(a).showDialog,"onUpdate:visible":c[0]||(c[0]=y=>r(a).showDialog=y)},null,8,["visible"])],64))}},qe={class:"flex justify-between"},Re=n("i",{class:"pi pi-refresh"},null,-1),He=[Re],Ge={__name:"Managed",props:{orders:Array},setup(t){const{showToast:e}=F.setup(),a=$(),o=f(["Customer","NumAcount"]),g=f(["Customer","NumAcount","actions"]),i=f(!1),m=f([]),C=f(!1);U(async()=>{await a.getOrdersPayment(),m.value=a.ordersPaymentsPending,C.value=!0});const s=c=>{m.value=c.orders},d=async()=>{await a.getOrdersPayment(),e({status:"success",title:"Ordenes actualizadas",message:"Las ordenes se han actualizado correctamente"})};return O(()=>a.ordersPaymentsPending,c=>{m.value=c}),(c,y)=>(l(),v(N,null,[n("div",qe,[n("div",null,[n("h1",{class:"mb-2 text-primary-900 font-inter font-semibold text-2xl"},[P(" Pago a cuenta "),n("a",{style:{cursor:"pointer"},onClick:d},He)])]),u(A,{orders:r(a).ordersPaymentsPending,onSearch:s},null,8,["orders"])]),C.value?(l(),b(R,{key:0,orders:[],filters:o.value,column:g.value,onAction:c.action},null,8,["filters","column","onAction"])):p("",!0),u(q,{visible:i.value,"onUpdate:visible":y[0]||(y[0]=w=>i.value=w)},null,8,["visible"])],64))}};const ze={class:"px-3"},rt={__name:"Payments",setup(t){return(e,a)=>(l(),v("div",ze,[u(r(K),null,{default:h(()=>[u(r(B),{header:"Facturas pendientes de pago"},{default:h(()=>[u(Le)]),_:1}),u(r(B),{header:"Pago a cuenta"},{default:h(()=>[u(Ge)]),_:1})]),_:1})]))}};export{rt as default};
