import{s as P,a as R}from"./tabpanel.esm-8337ee5f.js";import{b as p,h as j,o as m,i as w,w as i,f as a,g as V,t as x,a as e,u as l,s as h,j as F,c as k,F as U,k as B,l as z,m as G,r as Q,p as N,q as K}from"./index-b452af4a.js";import{a as g,b as O,s as d}from"./tag.esm-ed8d2bb5.js";import{s as c}from"./treeselect.esm-a54d1f28.js";import{_ as H}from"./Search-4d5c8a10.js";import{u as L}from"./OrdersApiService-c91dbb9e.js";const J=a("h1",{class:"mb-1 text-primary-900 font-inter font-semibold text-xl"},[a("i",{class:"pi pi-eye !text-xl"}),V(" Ver Documentos ")],-1),W={class:"flex align-center mb-2"},X={class:"text-primary-900"},Y=a("strong",{class:"mr-3 font-semibold"},"Nota de venta N°",-1),Z=a("div",{class:"mt-5"},[a("p",null," 2 archivos adjuntos "),a("div",{class:"flex"},[a("div",{class:"mt-2 mr-5",width:"200",height:"180"},[a("embed",{class:"w-full",src:"http://ocw.uv.es/ingenieria-y-arquitectura/programacionmultimedia/t2-1-css.pdf",type:"application/pdf"}),a("div",{class:"bg-gray-100"},[a("i",{class:"pi pi-file-pdf m-2",style:{color:"#F40F02"}}),a("a",{href:"#",class:"font-normal text-sm"},"Nombre de pdf")])]),a("div",{class:"mt-2 mr-5",width:"200",height:"180"},[a("embed",{class:"w-full",src:"http://ocw.uv.es/ingenieria-y-arquitectura/programacionmultimedia/t2-1-css.pdf",type:"application/pdf"}),a("div",{class:"bg-gray-100"},[a("i",{class:"pi pi-file-pdf m-2",style:{color:"#F40F02"}}),a("a",{href:"#",class:"font-normal text-sm"},"Nombre de pdf")])])])],-1),ee={__name:"DialogDetail",props:{order:String},setup(C){const f=C,o=p([]);return j(()=>{o.value=f.order}),(u,n)=>(m(),w(l(F),{modal:"",header:" ",style:{width:"70vw"}},{default:i(()=>[a("div",null,[J,a("div",W,[a("p",X,[Y,V(x(o.value.DocNum),1)]),e(l(g),{icon:"pi pi-shopping-bag",value:o.value.MethodShippingName,class:"ml-3 tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),e(l(g),{icon:"pi pi-user",value:o.value.Customer.CardName,class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["value"]),Z]),e(l(h),{label:"Cerrar",onClick:n[0]||(n[0]=b=>u.visible=!1),class:"!py-2 !border-none !px-10 !bg-primary-900 float-right mt-5"})]),_:1}))}},le=a("h1",{class:"mb-1 text-primary-900 font-inter font-semibold text-xl"},[a("i",{class:"pi pi-eye !text-xl"}),V(" Ver observaciones ")],-1),ae={class:"flex align-center mb-2"},se={class:"text-primary-900"},te=a("strong",{class:"mr-3 font-semibold"},"Nota de venta N°",-1),oe={class:"mt-5"},re=a("strong",null,"NOTA:",-1),de=["innerHTML"],ne={__name:"DialogDetailObservation",props:{order:String},setup(C){const f=C,o=p([]);j(()=>{o.value=f.order});const u=n=>n.replace(/\r/g,"<br>").replace(/\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;");return(n,b)=>(m(),w(l(F),{modal:"",header:" ",style:{width:"70vw"}},{default:i(()=>[a("div",null,[le,a("div",ae,[a("p",se,[te,V(x(o.value.DocNum),1)]),e(l(g),{icon:"pi pi-shopping-cart",value:o.value.MethodShippingName,class:"ml-3 tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),e(l(g),{icon:"pi pi-user",value:o.value.Customer.CardName,class:"tag-radius tag-rounded-blue tag-font-method mb-5"},null,8,["value"]),e(l(O),{tableStyle:"min-width: 50rem",filters:"filters",value:o.value.OrderItems},{default:i(()=>[e(l(d),{headerClass:"!bg-primary-900",field:"Quantity",header:"Cantidad"},{body:i(y=>[a("p",null,x(y.data.Quantity)+" Unidad",1)]),_:1}),e(l(d),{headerClass:"!bg-primary-900",field:"ItemCode",header:"SKU"}),e(l(d),{headerClass:"!bg-primary-900",field:"ItemDescription",header:"Producto"}),e(l(d),{headerClass:"!bg-primary-900",field:"Problems",header:"Problema"},{body:i(y=>[(m(!0),k(U,null,B(y.data.Problems,(v,_)=>(m(),w(l(g),{key:_,value:v.ProblemName,rounded:"",class:"mr-3 tag-radius tag-rounded-blue tag-font-method"},null,8,["value"]))),128))]),_:1})]),_:1},8,["value"]),a("div",oe,[re,V(),a("span",{innerHTML:u(o.value.Comments)},null,8,de)])]),e(l(h),{label:"Cerrar",onClick:b[0]||(b[0]=y=>n.visibleObservation=!1),class:"!py-2 !border-none !px-10 !bg-primary-900 float-right mt-5"})]),_:1}))}},ie={class:"flex justify-between"},ue=a("div",null,[a("h1",{class:"mb-2 text-primary-900 font-inter font-semibold text-2xl"}," Notas de venta "),a("h2",{class:"mb-4 text-primary-900 font-inter font-semibold text-xl"}," Aquí ")],-1),ce={key:0},me={class:"flex"},pe={class:"card flex justify-content-center"},fe={class:"card flex justify-content-center"},he={class:"card flex justify-content-center"},be={class:"card flex justify-content-center mr-20"},ve={class:"card flex justify-content-center"},ye=a("div",null,[a("h2",{class:"mb-4 text-primary-900 font-inter font-semibold text-xl"}," Retiro / Despacho ")],-1),ge={class:"flex"},Ve={class:"card flex justify-content-center"},Ce={class:"card flex justify-content-center"},_e={class:"card flex justify-content-center"},we={class:"card flex justify-content-center mr-5"},xe={class:"card flex justify-content-center"},A=1,$e={__name:"ToManage",props:{ListOrders:Array},setup(C){const f=C,o=z(),u=G(),n=L(),b=p(!1),y=p(!1),v=p({}),_=p(!1),M=p([f.ListOrders.filter(s=>s.MethodShippingId===A)]),$=p([f.ListOrders.filter(s=>s.MethodShippingId!==A)]);M.value=M.value[0],$.value=$.value[0];const T=s=>{v.value={...s},y.value=!0,_.value=!0},q=s=>{b.value=!0,v.value={...s},_.value=!0},I=s=>{s||(v.value={},_.value=!1)},E=async s=>{o.require({message:"¿Estas seguro que deseas continuar?",header:"Confirmación",icon:"pi pi-exclamation-triangle",accept:async()=>{let r=await n.postActionOrder(s.id,1);if(u.add({severity:r.status,summary:"",detail:r.message,life:3e3}),r.status==="success"){const D=$.value.findIndex(t=>t===s);D!==-1&&$.value.splice(D,1)}},reject:()=>{}})};return(s,r)=>{const D=Q("Toast");return m(),k(U,null,[a("div",ie,[ue,e(H)]),M.value.length>0?(m(),k("div",ce,[a("div",me,[a("div",pe,[e(l(c),{modelValue:s.selectedValue,"onUpdate:modelValue":r[0]||(r[0]=t=>s.selectedValue=t),options:s.nodes,selectionMode:"checkbox",placeholder:"Nota de venta",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),a("div",fe,[e(l(c),{modelValue:s.selectedValue,"onUpdate:modelValue":r[1]||(r[1]=t=>s.selectedValue=t),options:s.nodes,selectionMode:"checkbox",placeholder:"Fecha",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),a("div",he,[e(l(c),{modelValue:s.selectedValue,"onUpdate:modelValue":r[2]||(r[2]=t=>s.selectedValue=t),options:s.nodes,selectionMode:"checkbox",placeholder:"Hora",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),a("div",be,[e(l(c),{modelValue:s.selectedValue,"onUpdate:modelValue":r[3]||(r[3]=t=>s.selectedValue=t),options:s.nodes,selectionMode:"checkbox",placeholder:"Cliente",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),a("div",ve,[e(l(c),{modelValue:s.selectedValue,"onUpdate:modelValue":r[4]||(r[4]=t=>s.selectedValue=t),options:s.nodes,selectionMode:"checkbox",placeholder:"Total",class:"md:w-20rem w-full"},null,8,["modelValue","options"])])]),e(l(O),{class:"mb-20",value:M.value,tableStyle:"min-width: 50rem"},{default:i(()=>[e(l(d),{headerClass:"!bg-primary-900",field:"DocNum",header:"Nota de venta"},{body:i(t=>[V(" N° "+x(t.data.DocNum),1)]),_:1}),e(l(d),{headerClass:"!bg-primary-900",field:"DocDate",header:"Fecha"}),e(l(d),{headerClass:"!bg-primary-900",field:"DocTime",header:"Hora"}),e(l(d),{headerClass:"!bg-primary-900",field:"Customer.CardName",header:"Cliente"}),e(l(d),{headerClass:"!bg-primary-900",field:"MethodShippingName",header:"Método entrega"},{body:i(t=>[e(l(g),{Tag:"",icon:"pi pi-shopping-cart",value:t.data.MethodShippingName,rounded:"",class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),_:1}),e(l(d),{headerClass:"!bg-primary-900",field:"note",header:" Observación"},{body:i(t=>[e(l(h),{icon:"pi pi-eye",onClick:S=>T(t.data),class:"!font-normal !text-primary-900",label:"Ver observación",link:""},null,8,["onClick"])]),_:1}),e(l(d),{headerClass:"!bg-primary-900",field:"note",header:""},{body:i(t=>[e(l(h),{label:"Informado",class:"!py-1.5 !border-primary-900 !text-primary-900",outlined:""})]),_:1})]),_:1},8,["value"])])):N("",!0),ye,a("div",ge,[a("div",Ve,[e(l(c),{modelValue:s.selectedValue,"onUpdate:modelValue":r[5]||(r[5]=t=>s.selectedValue=t),options:s.nodes,selectionMode:"checkbox",placeholder:"Nota de venta",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),a("div",Ce,[e(l(c),{modelValue:s.selectedValue,"onUpdate:modelValue":r[6]||(r[6]=t=>s.selectedValue=t),options:s.nodes,selectionMode:"checkbox",placeholder:"Fecha",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),a("div",_e,[e(l(c),{modelValue:s.selectedValue,"onUpdate:modelValue":r[7]||(r[7]=t=>s.selectedValue=t),options:s.nodes,selectionMode:"checkbox",placeholder:"Hora",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),a("div",we,[e(l(c),{modelValue:s.selectedValue,"onUpdate:modelValue":r[8]||(r[8]=t=>s.selectedValue=t),options:s.nodes,selectionMode:"checkbox",placeholder:"Cliente",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),a("div",xe,[e(l(c),{modelValue:s.selectedValue,"onUpdate:modelValue":r[9]||(r[9]=t=>s.selectedValue=t),options:s.nodes,selectionMode:"checkbox",placeholder:"Total",class:"md:w-20rem w-full"},null,8,["modelValue","options"])])]),e(l(O),{value:$.value,tableStyle:"min-width: 50rem"},{default:i(()=>[e(l(d),{headerClass:"!bg-primary-900",field:"DocNum",header:"Nota de venta"},{body:i(t=>[V(" N° "+x(t.data.DocNum),1)]),_:1}),e(l(d),{headerClass:"!bg-primary-900",field:"DocDate",header:"Fecha"}),e(l(d),{headerClass:"!bg-primary-900",field:"DocTime",header:"Hora"}),e(l(d),{headerClass:"!bg-primary-900",field:"Customer.CardName",header:"Cliente"}),e(l(d),{headerClass:"!bg-primary-900",field:"MethodShippingName",header:"Método entrega"},{body:i(t=>[e(l(g),{Tag:"",icon:"pi pi-shopping-cart",value:t.data.MethodShippingName,rounded:"",class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),_:1}),e(l(d),{headerClass:"!bg-primary-900",field:"note",header:"Documentos"},{body:i(t=>[e(l(h),{icon:"pi pi-eye",onClick:S=>q(t.data),class:"!font-normal !text-primary-900",label:"Ver documentos",link:""},null,8,["onClick"])]),_:1}),e(l(d),{headerClass:"!bg-primary-900",field:"note",header:" Observación"},{body:i(t=>[t.data.OrderStatusId==4?(m(),w(l(h),{key:0,icon:"pi pi-eye",onClick:S=>T(t.data),class:"!font-normal !text-primary-900",label:"Ver observación",link:""},null,8,["onClick"])):N("",!0)]),_:1}),e(l(d),{headerClass:"!bg-primary-900",field:"note",header:""},{body:i(t=>[e(l(h),{label:"Rechazar",onClick:r[10]||(r[10]=S=>s.visibleReport=!0),class:"!py-1.5 mr-3 !border-primary-900 !text-primary-900",outlined:""}),e(l(h),{label:"Autorizar",onClick:S=>E(t.data),class:"!py-1.5 !border-primary-900 !text-primary-900",outlined:""},null,8,["onClick"])]),_:1})]),_:1},8,["value"]),_.value?(m(),w(ee,{visible:b.value,"onUpdate:visible":[r[11]||(r[11]=t=>b.value=t),I],order:v.value,key:v.value.timestamp},null,8,["visible","order"])):N("",!0),_.value?(m(),w(ne,{visible:y.value,"onUpdate:visible":[r[12]||(r[12]=t=>y.value=t),I],order:v.value,key:v.value.timestamp},null,8,["visible","order"])):N("",!0),e(D),e(l(K))],64)}}},Ne={class:"flex justify-between"},ke=a("div",null,[a("h1",{class:"mb-2 text-primary-900 font-inter font-semibold text-2xl"}," Notas de venta "),a("h2",{class:"mb-4 text-primary-900 font-inter font-semibold text-xl"}," Aquí ")],-1),Me={class:"flex"},De={class:"card flex justify-content-center"},Se={class:"card flex justify-content-center"},Oe={class:"card flex justify-content-center"},je={class:"card flex justify-content-center mr-20"},Ue={class:"card flex justify-content-center"},Te={__name:"Managed",setup(C){const f=p([{statusId:1,note:"4567892",date:"19/04/2023",hour:"10:26",client:"Daniel Ramirez Palma",status:"En espera",totalAmount:"$200",btnInfo:"Informado"},{statusId:2,note:"0998764",date:"19/04/2023",hour:"10:58",client:"Lucas Sandoval",status:"En preparación",totalAmount:"$300"}]);return(o,u)=>(m(),k(U,null,[a("div",Ne,[ke,e(H)]),a("div",Me,[a("div",De,[e(l(c),{modelValue:o.selectedValue,"onUpdate:modelValue":u[0]||(u[0]=n=>o.selectedValue=n),options:o.nodes,selectionMode:"checkbox",placeholder:"Nota de venta",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),a("div",Se,[e(l(c),{modelValue:o.selectedValue,"onUpdate:modelValue":u[1]||(u[1]=n=>o.selectedValue=n),options:o.nodes,selectionMode:"checkbox",placeholder:"Fecha",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),a("div",Oe,[e(l(c),{modelValue:o.selectedValue,"onUpdate:modelValue":u[2]||(u[2]=n=>o.selectedValue=n),options:o.nodes,selectionMode:"checkbox",placeholder:"Hora",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),a("div",je,[e(l(c),{modelValue:o.selectedValue,"onUpdate:modelValue":u[3]||(u[3]=n=>o.selectedValue=n),options:o.nodes,selectionMode:"checkbox",placeholder:"Cliente",class:"md:w-20rem w-full"},null,8,["modelValue","options"])]),a("div",Ue,[e(l(c),{modelValue:o.selectedValue,"onUpdate:modelValue":u[4]||(u[4]=n=>o.selectedValue=n),options:o.nodes,selectionMode:"checkbox",placeholder:"Total",class:"md:w-20rem w-full"},null,8,["modelValue","options"])])]),e(l(O),{class:"mb-20",value:f.value,tableStyle:"min-width: 50rem"},{default:i(()=>[e(l(d),{headerClass:"!bg-primary-900",field:"note",header:"Nota de venta"},{body:i(n=>[V(" N° "+x(n.data.note),1)]),_:1}),e(l(d),{headerClass:"!bg-primary-900",field:"date",header:"Fecha"}),e(l(d),{headerClass:"!bg-primary-900",field:"hour",header:"Hora"}),e(l(d),{headerClass:"!bg-primary-900",field:"client",header:"Cliente"}),e(l(d),{headerClass:"!bg-primary-900",field:"totalAmount",header:"Monto total"}),e(l(d),{headerClass:"!bg-primary-900",field:"totalAmount",header:"Método entrega"},{body:i(n=>[e(l(g),{Tag:"",icon:"pi pi-shopping-cart",value:"Aquí",rounded:"",class:"!font-normal !text-md !px-3 !bg-primary-100 !text-primary-900"})]),_:1}),e(l(d),{headerClass:"!bg-primary-900",field:"note",header:" Observación"},{body:i(n=>[e(l(h),{icon:"pi pi-eye",class:"!font-normal !text-primary-900",label:"Ver observación",link:""})]),_:1}),e(l(d),{headerClass:"!bg-primary-900",field:"note",header:""},{body:i(n=>[e(l(h),{label:"Informado",class:"!py-1.5 !border-primary-900 !text-primary-900",outlined:""})]),_:1})]),_:1},8,["value"])],64))}};const Ie={class:"px-3"},Ee={__name:"SalesNotes",setup(C){const f=L(),o=p([]),u=p(!1);return j(async()=>{o.value=await f.getOrders(),u.value=!0}),(n,b)=>(m(),k("div",Ie,[e(l(R),null,{default:i(()=>[e(l(P),{header:"Por gestionar"},{default:i(()=>[u.value?(m(),w($e,{key:0,ListOrders:o.value},null,8,["ListOrders"])):N("",!0)]),_:1}),e(l(P),{header:"Gestionadas"},{default:i(()=>[e(Te)]),_:1})]),_:1})]))}};export{Ee as default};
