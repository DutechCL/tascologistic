import{s as ue,a as xe}from"./tabpanel.esm-ed421bac.js";import{e as b,k as oe,o as d,l as v,w as n,h as l,i as P,t as O,a,u as e,s as T,m as pe,c as w,F as se,p as Ce,q as g,v as De,x as ke,y as fe,z as ie,r as we,A as f,j as le,B as ae,C as Ne}from"./index-e5e99358.js";import{a as j,b as B,s}from"./tag.esm-9737e6e4.js";import{u as be,_ as ve,s as te}from"./UseFilters-338ebe6c.js";import{_ as Ve}from"./DialogReportProblem-ff80b955.js";import{s as _}from"./multiselect.esm-300f026b.js";import{u as he}from"./OrdersApiService-9fb0d299.js";import"./index.esm-9062144d.js";import"./index.esm-587868b2.js";const $e=l("h1",{class:"mb-1 text-primary-900 font-inter font-semibold text-xl"},[l("i",{class:"pi pi-eye !text-xl"}),P(" Ver Documentos ")],-1),Se={class:"flex align-center mb-2"},Le={class:"text-primary-900"},Me=l("strong",{class:"mr-3 font-semibold"},"Nota de venta N°",-1),Te=l("div",{class:"mt-5"},[l("p",null," 2 archivos adjuntos "),l("div",{class:"flex"},[l("div",{class:"mt-2 mr-5",width:"200",height:"180"},[l("embed",{class:"w-full",src:"http://ocw.uv.es/ingenieria-y-arquitectura/programacionmultimedia/t2-1-css.pdf",type:"application/pdf"}),l("div",{class:"bg-gray-100"},[l("i",{class:"pi pi-file-pdf m-2",style:{color:"#F40F02"}}),l("a",{href:"#",class:"font-normal text-sm"},"Nombre de pdf")])]),l("div",{class:"mt-2 mr-5",width:"200",height:"180"},[l("embed",{class:"w-full",src:"http://ocw.uv.es/ingenieria-y-arquitectura/programacionmultimedia/t2-1-css.pdf",type:"application/pdf"}),l("div",{class:"bg-gray-100"},[l("i",{class:"pi pi-file-pdf m-2",style:{color:"#F40F02"}}),l("a",{href:"#",class:"font-normal text-sm"},"Nombre de pdf")])])])],-1),ye={__name:"DialogDetail",props:{order:String},setup(H,{emit:C}){const M=H,m=()=>{C("visible",{visibleDetails:!1})},h=b([]);return oe(()=>{h.value=M.order}),(x,p)=>(d(),v(e(pe),{modal:"",header:" ",style:{width:"70vw"}},{default:n(()=>[l("div",null,[$e,l("div",Se,[l("p",Le,[Me,P(O(h.value.DocNum),1)]),a(e(j),{icon:"pi pi-shopping-bag",value:h.value.MethodShippingName,class:"ml-3 tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),a(e(j),{icon:"pi pi-user",value:h.value.Customer.CardName,class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["value"]),Te]),a(e(T),{label:"Cerrar",onClick:m,class:"!py-2 !border-none !px-10 !bg-primary-900 float-right mt-5"})]),_:1}))}},Oe=l("h1",{class:"mb-1 text-primary-900 font-inter font-semibold text-xl"},[l("i",{class:"pi pi-eye !text-xl"}),P(" Ver observaciones ")],-1),Pe={class:"flex align-center mb-2"},He={class:"text-primary-900"},je=l("strong",{class:"mr-3 font-semibold"},"Nota de venta N°",-1),Ue={class:"mr-3 tag-radius tag-rounded-blue tag-font-method"},Ie=["innerHTML"],Fe={class:"mt-5"},Re=l("strong",null,"NOTA:",-1),Ae=["innerHTML"],ge={__name:"DialogDetailObservation",props:{order:String},setup(H,{emit:C}){const M=H,m=b([]);oe(()=>{m.value=M.order});const h=()=>{C("visible",{visibleObservation:!1})},x=D=>new DOMParser().parseFromString(D,"text/html").body.innerText,p=D=>D.replace(/\r/g,"<br>").replace(/\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;");return(D,k)=>(d(),v(e(pe),{modal:"",header:" ",style:{width:"70vw"}},{default:n(()=>[l("div",null,[Oe,l("div",Pe,[l("p",He,[je,P(O(m.value.DocNum),1)]),a(e(j),{icon:"pi pi-shopping-cart",value:m.value.MethodShippingName,class:"ml-3 tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),a(e(j),{icon:"pi pi-user",value:m.value.Customer.CardName,class:"tag-radius tag-rounded-blue tag-font-method mb-5"},null,8,["value"]),m.value.HasProblems?g("",!0):(d(),v(e(B),{key:0,tableStyle:"min-width: 50rem",filters:"filters",value:m.value.OrderItems},{default:n(()=>[a(e(s),{headerClass:"!bg-primary-900",field:"Quantity",header:"Cantidad"},{body:n(y=>[l("p",null,O(y.data.Quantity)+" Unidad",1)]),_:1}),a(e(s),{headerClass:"!bg-primary-900",field:"ItemCode",header:"SKU"}),a(e(s),{headerClass:"!bg-primary-900",field:"ItemDescription",header:"Producto"}),a(e(s),{headerClass:"!bg-primary-900",field:"Problems",header:"Problema"},{body:n(y=>[(d(!0),w(se,null,Ce(y.data.Problems,(V,N)=>(d(),w("span",{key:N},[l("span",Ue,O(x(V.ProblemName)),1)]))),128))]),_:1})]),_:1},8,["value"])),l("div",null,[m.value.HasProblems?(d(),v(e(B),{key:0,tableStyle:"min-width: 50rem",filters:"filters",value:m.value.Problems},{default:n(()=>[a(e(s),{headerClass:"!bg-primary-900",field:"ProblemName",header:"Probelma"},{body:n(y=>[l("p",null,O(y.data.ProblemName),1)]),_:1}),a(e(s),{headerClass:"!bg-primary-900",field:"Other",header:"Descripcion"},{body:n(y=>[l("p",{innerHTML:y.data.Other},null,8,Ie)]),_:1})]),_:1},8,["value"])):g("",!0)]),l("div",Fe,[Re,P(),l("span",{innerHTML:p(m.value.Comments)},null,8,Ae)])]),a(e(T),{label:"Cerrar",onClick:h,class:"!py-2 !border-none !px-10 !bg-primary-900 float-right mt-5"})]),_:1}))}},Ee={class:"flex justify-between"},qe=l("div",null,[l("h1",{class:"mb-2 text-primary-900 font-inter font-semibold text-2xl"}," Notas de venta ")],-1),ze=l("h2",{class:"mb-4 text-primary-900 font-inter font-semibold text-xl"}," Aquí ",-1),Be={class:"flex"},Ke={class:"card flex justify-content-center"},Ge={key:0,style:{position:"absolute",left:"40%",color:"#259bd7",top:"26%"},for:"rangeDate"},Qe={class:"align-center card flex justify-content-center mr-5"},Je=l("i",{class:"pi pi-times"},null,-1),We=[Je],Xe={class:"card flex justify-content-center mr-5"},Ye={class:"card flex justify-content-center mr-5"},Ze={class:"card flex justify-content-center"},el=["colspan"],ll=l("div",null,[l("h2",{class:"mb-4 text-primary-900 font-inter font-semibold text-xl"}," Retiro / Despacho ")],-1),al={class:"flex"},tl={class:"card flex justify-content-center"},ol={key:0,style:{position:"absolute",left:"40%",color:"#259bd7",top:"26%"},for:"rangeDatePickup"},sl={class:"align-center card flex justify-content-center mr-5"},il=l("i",{class:"pi pi-times"},null,-1),rl=[il],nl={class:"card flex justify-content-center mr-5"},dl={class:"card flex justify-content-center mr-5"},ul={class:"card flex justify-content-center"},cl=["colspan"],ce=1,ml={__name:"ToManage",props:{ListOrders:Array,search:String},setup(H){const C=H,M=De(),m=ke(),h=he(),{ListOrders:x}=fe(C),p=b(!1),D=b(!1),k=b({}),y=b(!1),V=b(),N=b([]),{datesHere:$,datesPickup:U,dateLabelHere:I,dateLabelPickup:F,ordersHere:S,ordersPickupAndDelivery:L,selectedDocNumPickup:R,selectedDocTimePickup:A,selectedCustomerPickup:E,selectedDocTotalPickup:q,selectedDocNumHere:K,selectedDocTimeHere:G,selectedCustomerHere:Q,selectedDocTotalHere:z,removeFilterDate:J,search:W}=be(x);ie(()=>C.ListOrders,u=>{S.value=u.filter(i=>i.MethodShippingId===ce),L.value=u.filter(i=>i.MethodShippingId!==ce)});const X=u=>{V.value=!0,N.value=u},c=({value:u})=>{u||(V.value=V.visibleReport)},r=u=>{D.value=u.visibleObservation},o=u=>{p.value=u.visibleDetails},Y=u=>{k.value={...u},D.value=!0,y.value=!0},_e=u=>{p.value=!0,k.value={...u},y.value=!0},re=u=>{u||(k.value={},y.value=!1)},ne=b(!1),de=async(u,i=1)=>{M.require({message:"¿Estas seguro que deseas continuar?",header:"Confirmación",icon:"pi pi-exclamation-triangle",acceptIcon:"pi pi-check",rejectIcon:"pi pi-times",acceptLabel:"Si",rejectLabel:"No",accept:async()=>{let Z=await h.postActionOrder(u.id,i);m.add({severity:Z.status,summary:"",detail:Z.message,life:3e3})},reject:()=>{}})};return(u,i)=>{const Z=we("Toast");return d(),w(se,null,[l("div",Ee,[qe,a(ve,{onSearch:e(W)},null,8,["onSearch"])]),l("div",null,[ze,l("div",Be,[l("div",Ke,[(d(),v(e(_),{modelValue:e(K),"onUpdate:modelValue":i[0]||(i[0]=t=>f(K)?K.value=t:null),options:e(S),filter:"",optionLabel:"DocNum",placeholder:"Nota de venta",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"},key:u.DocNum},null,8,["modelValue","options"]))]),l("div",{style:{position:"relative"},class:le({"active-filter-date":!e(I)})},[a(e(te),{inputId:"rangeDate",modelValue:e($),"onUpdate:modelValue":i[1]||(i[1]=t=>f($)?$.value=t:null),selectionMode:"range",manualInput:!1,style:{border:"none !important",color:"#259bd7 !important"}},null,8,["modelValue"]),e(I)?(d(),w("label",Ge,"Fecha")):g("",!0),l("div",Qe,[e(I)?g("",!0):(d(),w("a",{key:0,class:"close-filter-date",onClick:i[2]||(i[2]=t=>e(J)("Here"))},We))])],2),l("div",Xe,[a(e(_),{modelValue:e(G),"onUpdate:modelValue":i[3]||(i[3]=t=>f(G)?G.value=t:null),options:e(S),filter:"",optionLabel:"DocTime",placeholder:"Hora",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"}},null,8,["modelValue","options"])]),l("div",Ye,[a(e(_),{modelValue:e(Q),"onUpdate:modelValue":i[4]||(i[4]=t=>f(Q)?Q.value=t:null),options:e(S),filter:"",optionLabel:"Customer.CardName",placeholder:"Clientes",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"}},null,8,["modelValue","options"])]),l("div",Ze,[(d(),v(e(_),{modelValue:e(z),"onUpdate:modelValue":i[5]||(i[5]=t=>f(z)?z.value=t:null),options:e(S),filter:"",optionLabel:"DocTotal",placeholder:"Total",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"},key:u.DocTotal},null,8,["modelValue","options"]))])]),a(e(B),{onOnPage:u.loadMoreData,class:"mb-20",value:e(S),tableStyle:"min-width: 50rem",filters:"filters",paginator:"",rows:5,dataKey:"id",filterDisplay:"row",loading:ne.value},ae({default:n(()=>[a(e(s),{headerClass:"!bg-primary-900",field:"DocNum",header:"Nota de venta"},{body:n(t=>[P(" N° "+O(t.data.DocNum),1)]),_:1}),a(e(s),{headerClass:"!bg-primary-900",field:"DocDate",header:"Fecha"}),a(e(s),{headerClass:"!bg-primary-900",field:"DocTime",header:"Hora"}),a(e(s),{headerClass:"!bg-primary-900",field:"Customer.CardName",header:"Cliente"}),a(e(s),{headerClass:"!bg-primary-900",field:"DocTotal",header:"Monto total"}),a(e(s),{headerClass:"!bg-primary-900",field:"MethodShippingName",header:"Método entrega"},{body:n(t=>[a(e(j),{Tag:"",icon:"pi pi-shopping-cart",value:t.data.MethodShippingName,rounded:"",class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),_:1}),a(e(s),{headerClass:"!bg-primary-900",field:"note",header:" Observación"},{body:n(t=>[a(e(T),{icon:"pi pi-eye",onClick:ee=>Y(t.data),class:"!font-normal !text-primary-900",label:"Ver observación",link:""},null,8,["onClick"])]),_:1}),a(e(s),{headerClass:"!bg-primary-900",field:"note",header:""},{body:n(t=>[a(e(T),{onClick:ee=>de(t.data),label:"Informado",class:"!py-1.5 !border-primary-900 !text-primary-900",outlined:""},null,8,["onClick"])]),_:1})]),_:2},[e(S).length===0?{name:"footer",fn:n(()=>[l("tr",null,[l("td",{colspan:u.numberOfColumns,class:"text-not-info"}," No hay órdenes disponible. ",8,el)])]),key:"0"}:void 0]),1032,["onOnPage","value","loading"])]),ll,l("div",al,[l("div",tl,[(d(),v(e(_),{modelValue:e(R),"onUpdate:modelValue":i[6]||(i[6]=t=>f(R)?R.value=t:null),options:e(L),filter:"",optionLabel:"DocNum",placeholder:"Nota de venta",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"},key:u.DocNum},null,8,["modelValue","options"]))]),l("div",{style:{position:"relative"},class:le({"active-filter-date":!e(F)})},[a(e(te),{inputId:"rangeDatePickup",modelValue:e(U),"onUpdate:modelValue":i[7]||(i[7]=t=>f(U)?U.value=t:null),selectionMode:"range",manualInput:!1,style:{border:"none !important"}},null,8,["modelValue"]),e(F)?(d(),w("label",ol,"Fecha")):g("",!0),l("div",sl,[e(F)?g("",!0):(d(),w("a",{key:0,class:"close-filter-date",onClick:i[8]||(i[8]=t=>e(J)("Pickup"))},rl))])],2),l("div",nl,[a(e(_),{modelValue:e(A),"onUpdate:modelValue":i[9]||(i[9]=t=>f(A)?A.value=t:null),options:e(L),filter:"",optionLabel:"DocTime",placeholder:"Hora",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"}},null,8,["modelValue","options"])]),l("div",dl,[a(e(_),{modelValue:e(E),"onUpdate:modelValue":i[10]||(i[10]=t=>f(E)?E.value=t:null),options:e(L),filter:"",optionLabel:"Customer.CardName",placeholder:"Clientes",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"}},null,8,["modelValue","options"])]),l("div",ul,[(d(),v(e(_),{modelValue:e(q),"onUpdate:modelValue":i[11]||(i[11]=t=>f(q)?q.value=t:null),options:e(L),filter:"",optionLabel:"DocTotal",placeholder:"Total",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"},key:u.DocTotal},null,8,["modelValue","options"]))])]),a(e(B),{onOnPage:u.loadMoreData,value:e(L),tableStyle:"min-width: 50rem",filters:"filters",paginator:"",rows:5,dataKey:"id",filterDisplay:"row",loading:ne.value},ae({default:n(()=>[a(e(s),{headerClass:"!bg-primary-900",field:"DocNum",header:"Nota de venta"},{body:n(t=>[P(" N° "+O(t.data.DocNum),1)]),_:1}),a(e(s),{headerClass:"!bg-primary-900",field:"DocDate",header:"Fecha"}),a(e(s),{headerClass:"!bg-primary-900",field:"DocTime",header:"Hora"}),a(e(s),{headerClass:"!bg-primary-900",field:"Customer.CardName",header:"Cliente"}),a(e(s),{headerClass:"!bg-primary-900",field:"DocTotal",header:"Monto total"}),a(e(s),{headerClass:"!bg-primary-900",field:"MethodShippingName",header:"Método entrega"},{body:n(t=>[a(e(j),{Tag:"",icon:t.data.MethodShippingId===2?"pi pi-home":"pi pi-truck",value:t.data.MethodShippingName,rounded:"",class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["icon","value"])]),_:1}),a(e(s),{headerClass:"!bg-primary-900",field:"note",header:"Documentos"},{body:n(t=>[a(e(T),{icon:"pi pi-eye",onClick:ee=>_e(t.data),class:"!font-normal !text-primary-900",label:"Ver documentos",link:""},null,8,["onClick"])]),_:1}),a(e(s),{headerClass:"!bg-primary-900",field:"note",header:""},{body:n(t=>[a(e(T),{label:"Rechazar",onClick:ee=>X(t.data),class:"!py-1.5 mr-3 !border-primary-900 !text-primary-900",outlined:""},null,8,["onClick"]),a(e(T),{label:"Autorizar",onClick:ee=>de(t.data,3),class:"!py-1.5 !border-primary-900 !text-primary-900",outlined:""},null,8,["onClick"])]),_:1})]),_:2},[e(L).length===0?{name:"footer",fn:n(()=>[l("tr",null,[l("td",{colspan:u.numberOfColumns,class:"text-not-info"}," No hay órdenes disponible. ",8,cl)])]),key:"0"}:void 0]),1032,["onOnPage","value","loading"]),y.value?(d(),v(ye,{visible:p.value,"onUpdate:visible":[i[12]||(i[12]=t=>p.value=t),re],order:k.value,key:k.value.timestamp,onVisible:o},null,8,["visible","order"])):g("",!0),y.value?(d(),v(ge,{visible:D.value,"onUpdate:visible":[i[13]||(i[13]=t=>D.value=t),re],order:k.value,key:k.value.timestamp,onVisible:r},null,8,["visible","order"])):g("",!0),a(Ve,{visible:V.value,"onUpdate:visible":i[14]||(i[14]=t=>V.value=t),typeProblems:"cda",order:N.value,onSelectionChange:u.handleSelectionChange,onVisibleReport:c},null,8,["visible","order","onSelectionChange"]),a(Z),a(e(Ne))],64)}}},pl={class:"flex justify-between"},fl=l("div",null,[l("h1",{class:"mb-2 text-primary-900 font-inter font-semibold text-2xl"}," Notas de venta ")],-1),bl=l("h2",{class:"mb-4 text-primary-900 font-inter font-semibold text-xl"}," Aquí ",-1),vl={class:"flex"},hl={class:"card flex justify-content-center"},yl={key:0,style:{position:"absolute",left:"40%",color:"#259bd7",top:"26%"},for:"toManageRangeDate"},gl={class:"align-center card flex justify-content-center mr-5"},_l=l("i",{class:"pi pi-times"},null,-1),xl=[_l],Cl={class:"card flex justify-content-center mr-5"},Dl={class:"card flex justify-content-center mr-5"},kl={class:"card flex justify-content-center"},wl=["colspan"],Nl=l("div",null,[l("h2",{class:"mb-4 text-primary-900 font-inter font-semibold text-xl"}," Retiro / Despacho ")],-1),Vl={class:"flex"},$l={class:"card flex justify-content-center"},Sl={key:0,style:{position:"absolute",left:"40%",color:"#259bd7",top:"26%"},for:"toManageRangeDatePickup"},Ll={class:"align-center card flex justify-content-center mr-5"},Ml=l("i",{class:"pi pi-times"},null,-1),Tl=[Ml],Ol={class:"card flex justify-content-center mr-5"},Pl={class:"card flex justify-content-center mr-5"},Hl={class:"card flex justify-content-center"},jl=["colspan"],me=1,Ul={__name:"Managed",props:{ListOrders:Array,search:String},setup(H){const C=H,{ListOrders:M}=fe(C),m=b(!1),h=b(!1),x=b({}),p=b(!1);b(),b([]);const{datesHere:D,datesPickup:k,dateLabelHere:y,dateLabelPickup:V,ordersHere:N,ordersPickupAndDelivery:$,selectedDocNumPickup:U,selectedDocTimePickup:I,selectedCustomerPickup:F,selectedDocTotalPickup:S,selectedDocNumHere:L,selectedDocTimeHere:R,selectedCustomerHere:A,selectedDocTotalHere:E,removeFilterDate:q,search:K}=be(M);ie(()=>C.ListOrders,c=>{N.value=c.filter(r=>r.MethodShippingId===me),$.value=c.filter(r=>r.MethodShippingId!==me)});const G=c=>{h.value=c.visibleObservation},Q=c=>{m.value=c.visibleDetails},z=c=>{x.value={...c},h.value=!0,p.value=!0},J=c=>{m.value=!0,x.value={...c},p.value=!0},W=c=>{c||(x.value={},p.value=!1)},X=b(!1);return(c,r)=>(d(),w(se,null,[l("div",pl,[fl,a(ve,{onSearch:e(K)},null,8,["onSearch"])]),l("div",null,[bl,l("div",vl,[l("div",hl,[(d(),v(e(_),{modelValue:e(L),"onUpdate:modelValue":r[0]||(r[0]=o=>f(L)?L.value=o:null),options:e(N),filter:"",optionLabel:"DocNum",placeholder:"Nota de venta",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"},key:c.DocNum},null,8,["modelValue","options"]))]),l("div",{style:{position:"relative"},class:le({"active-filter-date":!e(y)})},[a(e(te),{inputId:"toManageRangeDate",modelValue:e(D),"onUpdate:modelValue":r[1]||(r[1]=o=>f(D)?D.value=o:null),selectionMode:"range",manualInput:!1,style:{border:"none !important",color:"#259bd7 !important"}},null,8,["modelValue"]),e(y)?(d(),w("label",yl,"Fecha")):g("",!0),l("div",gl,[e(y)?g("",!0):(d(),w("a",{key:0,class:"close-filter-date",onClick:r[2]||(r[2]=o=>e(q)("Here"))},xl))])],2),l("div",Cl,[a(e(_),{modelValue:e(R),"onUpdate:modelValue":r[3]||(r[3]=o=>f(R)?R.value=o:null),options:e(N),filter:"",optionLabel:"DocTime",placeholder:"Hora",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"}},null,8,["modelValue","options"])]),l("div",Dl,[a(e(_),{modelValue:e(A),"onUpdate:modelValue":r[4]||(r[4]=o=>f(A)?A.value=o:null),options:e(N),filter:"",optionLabel:"Customer.CardName",placeholder:"Clientes",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"}},null,8,["modelValue","options"])]),l("div",kl,[(d(),v(e(_),{modelValue:e(E),"onUpdate:modelValue":r[5]||(r[5]=o=>f(E)?E.value=o:null),options:e(N),filter:"",optionLabel:"DocTotal",placeholder:"Total",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"},key:c.DocTotal},null,8,["modelValue","options"]))])]),a(e(B),{onOnPage:c.loadMoreData,class:"mb-20",value:e(N),tableStyle:"min-width: 50rem",filters:"filters",paginator:"",rows:5,dataKey:"id",filterDisplay:"row",loading:X.value},ae({default:n(()=>[a(e(s),{headerClass:"!bg-primary-900",field:"DocNum",header:"Nota de venta"},{body:n(o=>[P(" N° "+O(o.data.DocNum),1)]),_:1}),a(e(s),{headerClass:"!bg-primary-900",field:"DocDate",header:"Fecha"}),a(e(s),{headerClass:"!bg-primary-900",field:"DocTime",header:"Hora"}),a(e(s),{headerClass:"!bg-primary-900",field:"Customer.CardName",header:"Cliente"}),a(e(s),{headerClass:"!bg-primary-900",field:"DocTotal",header:"Monto total"}),a(e(s),{headerClass:"!bg-primary-900",field:"MethodShippingName",header:"Método entrega"},{body:n(o=>[a(e(j),{Tag:"",icon:"pi pi-shopping-cart",value:o.data.MethodShippingName,rounded:"",class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),_:1}),a(e(s),{headerClass:"!bg-primary-900",field:"note",header:"Observación"},{body:n(o=>[a(e(T),{icon:"pi pi-eye",onClick:Y=>z(o.data),class:"!font-normal !text-primary-900",label:"Ver observación",link:""},null,8,["onClick"])]),_:1})]),_:2},[e(N).length===0?{name:"footer",fn:n(()=>[l("tr",null,[l("td",{colspan:c.numberOfColumns,class:"text-not-info"}," No hay órdenes disponible. ",8,wl)])]),key:"0"}:void 0]),1032,["onOnPage","value","loading"])]),Nl,l("div",Vl,[l("div",$l,[(d(),v(e(_),{modelValue:e(U),"onUpdate:modelValue":r[6]||(r[6]=o=>f(U)?U.value=o:null),options:e($),filter:"",optionLabel:"DocNum",placeholder:"Nota de venta",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"},key:c.DocNum},null,8,["modelValue","options"]))]),l("div",{style:{position:"relative"},class:le({"active-filter-date":!e(V)})},[a(e(te),{inputId:"toManageRangeDatePickup",modelValue:e(k),"onUpdate:modelValue":r[7]||(r[7]=o=>f(k)?k.value=o:null),selectionMode:"range",manualInput:!1,style:{border:"none !important"}},null,8,["modelValue"]),e(V)?(d(),w("label",Sl,"Fecha")):g("",!0),l("div",Ll,[e(V)?g("",!0):(d(),w("a",{key:0,class:"close-filter-date",onClick:r[8]||(r[8]=o=>e(q)("Pickup"))},Tl))])],2),l("div",Ol,[a(e(_),{modelValue:e(I),"onUpdate:modelValue":r[9]||(r[9]=o=>f(I)?I.value=o:null),options:e($),filter:"",optionLabel:"DocTime",placeholder:"Hora",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"}},null,8,["modelValue","options"])]),l("div",Pl,[a(e(_),{modelValue:e(F),"onUpdate:modelValue":r[10]||(r[10]=o=>f(F)?F.value=o:null),options:e($),filter:"",optionLabel:"Customer.CardName",placeholder:"Clientes",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"}},null,8,["modelValue","options"])]),l("div",Hl,[(d(),v(e(_),{modelValue:e(S),"onUpdate:modelValue":r[11]||(r[11]=o=>f(S)?S.value=o:null),options:e($),filter:"",optionLabel:"DocTotal",placeholder:"Total",display:"chip",maxSelectedLabels:3,class:"w-full md:w-20rem",style:{border:"none","max-width":"300px"},key:c.DocTotal},null,8,["modelValue","options"]))])]),a(e(B),{onOnPage:c.loadMoreData,value:e($),tableStyle:"min-width: 50rem",filters:"filters",paginator:"",rows:5,dataKey:"id",filterDisplay:"row",loading:X.value},ae({default:n(()=>[a(e(s),{headerClass:"!bg-primary-900",field:"DocNum",header:"Nota de venta"},{body:n(o=>[P(" N° "+O(o.data.DocNum),1)]),_:1}),a(e(s),{headerClass:"!bg-primary-900",field:"DocDate",header:"Fecha"}),a(e(s),{headerClass:"!bg-primary-900",field:"DocTime",header:"Hora"}),a(e(s),{headerClass:"!bg-primary-900",field:"Customer.CardName",header:"Cliente"}),a(e(s),{headerClass:"!bg-primary-900",field:"DocTotal",header:"Monto total"}),a(e(s),{headerClass:"!bg-primary-900",field:"MethodShippingName",header:"Método entrega"},{body:n(o=>[a(e(j),{Tag:"",icon:"pi pi-shopping-cart",value:o.data.MethodShippingName,rounded:"",class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),_:1}),a(e(s),{headerClass:"!bg-primary-900",field:"note",header:"Documentos"},{body:n(o=>[a(e(T),{icon:"pi pi-eye",onClick:Y=>J(o.data),class:"!font-normal !text-primary-900",label:"Ver documentos",link:""},null,8,["onClick"])]),_:1}),a(e(s),{headerClass:"!bg-primary-900",field:"note",header:" Observación"},{body:n(o=>[o.data.HasProblems?(d(),v(e(T),{key:0,icon:"pi pi-eye",onClick:Y=>z(o.data),class:"!font-normal !text-primary-900",label:"Ver observación",link:""},null,8,["onClick"])):g("",!0)]),_:1})]),_:2},[e($).length===0?{name:"footer",fn:n(()=>[l("tr",null,[l("td",{colspan:c.numberOfColumns,class:"text-not-info"}," No hay órdenes disponible. ",8,jl)])]),key:"0"}:void 0]),1032,["onOnPage","value","loading"]),p.value?(d(),v(ye,{visible:m.value,"onUpdate:visible":[r[12]||(r[12]=o=>m.value=o),W],order:x.value,key:x.value.timestamp,onVisible:Q},null,8,["visible","order"])):g("",!0),p.value?(d(),v(ge,{visible:h.value,"onUpdate:visible":[r[13]||(r[13]=o=>h.value=o),W],order:x.value,key:x.value.timestamp,onVisible:G},null,8,["visible","order"])):g("",!0)],64))}};const Il={class:"px-3"},Fl={key:0,class:"text-center",style:{color:"#259bd7"}},Rl=l("i",{class:"pi pi-spin pi-spinner",style:{"font-size":"2rem"}},null,-1),Al=[Rl],Xl={__name:"SalesNotes",setup(H){const C=he(),M=b([]),m=b([]),h=b(!1),x=()=>{M.value=C.orders.filter(p=>p.is_managed==!1||p.MethodShippingId===1&&p.is_managed==!1),m.value=C.orders.filter(p=>p.is_managed==!0),h.value=!0};return oe(async()=>{await C.getOrders(),x(),ie(C.orders,()=>{x()})}),(p,D)=>(d(),w("div",Il,[a(e(xe),null,{default:n(()=>[a(e(ue),{header:"Por gestionar"},{default:n(()=>[h.value?g("",!0):(d(),w("div",Fl,Al)),h.value?(d(),v(ml,{key:1,ListOrders:M.value},null,8,["ListOrders"])):g("",!0)]),_:1}),a(e(ue),{header:"Gestionadas"},{default:n(()=>[h.value?(d(),v(Ul,{key:0,ListOrders:m.value},null,8,["ListOrders"])):g("",!0)]),_:1})]),_:1})]))}};export{Xl as default};
