import{s as Q,a as se}from"./tabpanel.esm-0a460132.js";import{T as Y,c as T,_ as B}from"./FilterMultiSelect-e1c715aa.js";import{e as v,k as G,l as V,o as d,m as P,w as n,h as a,i as H,t as N,a as t,u as e,c as D,F as U,p as J,s as O,q as z,v as g,x as W,y as E,z as le}from"./index-6a2ee0c5.js";import{a as I,b as A,s as l}from"./tag.esm-5a1f40d0.js";import{s as oe,_ as X,a as ie}from"./DialogReportProblem-3b7b7a65.js";import{u as K}from"./OrdersApiService-02ef07d0.js";import{C as Z}from"./ConfirmMixin-d39b629b.js";import"./index.esm-faa3352f.js";import"./index.esm-babf12c3.js";import"./index.esm-c66bb4c8.js";import"./ApiService-ca54d6f8.js";const ne=a("h1",{class:"mb-1 text-primary-900 font-inter font-semibold text-xl"},[a("i",{class:"pi pi-eye !text-xl"}),H(" Ver Documentos ")],-1),de={class:"flex align-center mb-2"},ue={class:"text-primary-900"},ce=a("strong",{class:"mr-3 font-semibold"},"Nota de venta N°",-1),pe={class:"mt-5"},me=a("p",null," 2 archivos adjuntos ",-1),be={class:"flex"},he={class:"mt-2 mr-5 relative",width:"200",height:"180"},ge=["src"],ve={class:"bg-gray-100"},_e=a("i",{class:"pi pi-file-pdf m-2",style:{color:"#F40F02"}},null,-1),fe={class:"font-normal text-sm"},ye=["onClick"],ee={__name:"DialogDetail",props:{order:Object},setup(_,{emit:f}){const c=_,s=v([]),h=v([{name:"Documento 1",url:"http://ocw.uv.es/ingenieria-y-arquitectura/programacionmultimedia/t2-1-css.pdf"},{name:"Documento 2",url:"http://ocw.uv.es/ingenieria-y-arquitectura/programacionmultimedia/t2-1-css.pdf"}]),m=r=>{window.open(r,"_blank")};G(()=>{s.value=c.order}),V(()=>c.order,r=>{s.value=r});const i=()=>{f("visible",{visibleReport:!1})};return(r,u)=>(d(),P(e(z),{modal:"",header:" ",style:{width:"70vw"},maximizable:""},{default:n(()=>[a("div",null,[ne,a("div",de,[a("p",ue,[ce,H(N(s.value.DocNum),1)]),t(e(I),{icon:"pi pi-shopping-bag",value:s.value.MethodShippingName,class:"ml-3 tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),t(e(I),{icon:"pi pi-user",value:s.value.Customer.CardName,class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["value"]),a("div",pe,[me,a("div",be,[(d(!0),D(U,null,J(h.value,o=>(d(),D("div",he,[a("embed",{class:"w-full",src:o.url,type:"application/pdf"},null,8,ge),a("div",ve,[_e,a("span",fe,N(o.name),1)]),a("a",{class:"mask-pdf",onClick:y=>m(o.url)},null,8,ye)]))),256))])])]),t(e(O),{label:"Cerrar",onClick:i,class:"!py-2 !border-none !px-10 !bg-primary-900 float-right mt-5"})]),_:1}))}},Pe=a("h1",{class:"mb-1 text-primary-900 font-inter font-semibold text-xl"},[a("i",{class:"pi pi-eye !text-xl"}),H(" Ver observaciones ")],-1),Ce={class:"flex align-center mb-2"},De={class:"text-primary-900"},xe=a("strong",{class:"mr-3 font-semibold"},"Nota de venta N°",-1),ke=["innerHTML"],Ne={class:"mt-5"},Oe=a("strong",null,"NOTA:",-1),we=["innerHTML"],te={__name:"DialogDetailObservation",props:{order:String},setup(_,{emit:f}){const c=_,s=v([]);G(()=>{s.value=c.order}),V(()=>c.order,r=>{s.value=r});const h=()=>{f("visible",{visibleReport:!1})},m=r=>new DOMParser().parseFromString(r,"text/html").body.innerText,i=r=>r.replace(/\r/g,"<br>").replace(/\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;");return(r,u)=>(d(),P(e(z),{modal:"",header:" ",style:{width:"70vw"},maximizable:""},{default:n(()=>[a("div",null,[Pe,a("div",Ce,[a("p",De,[xe,H(N(s.value.DocNum),1)]),t(e(I),{icon:"pi pi-shopping-cart",value:s.value.MethodShippingName,class:"ml-3 tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),t(e(I),{icon:"pi pi-user",value:s.value.Customer.CardName,class:"tag-radius tag-rounded-blue tag-font-method mb-5"},null,8,["value"]),s.value.HasProblems?g("",!0):(d(),P(e(A),{key:0,tableStyle:"min-width: 50rem",filters:"filters",value:s.value.OrderItems,paginator:"",rows:10,rowsPerPageOptions:[5,10,20,50],paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} a {last} de {totalRecords}"},{default:n(()=>[t(e(l),{headerClass:"!bg-primary-900",field:"Quantity",header:"Cantidad"},{body:n(o=>[a("p",null,N(o.data.Quantity)+" "+N(o.data.Quantity>1?"Unidades":"Unidad"),1)]),_:1}),t(e(l),{headerClass:"!bg-primary-900",field:"ItemCode",header:"SKU"}),t(e(l),{headerClass:"!bg-primary-900",field:"ItemDescription",header:"Producto"}),t(e(l),{headerClass:"!bg-primary-900",field:"Problems",header:"Problema"},{body:n(o=>[(d(!0),D(U,null,J(o.data.Problems,(y,w)=>(d(),D("p",{class:"mt-2 mr-3 tag-radius tag-rounded-blue tag-font-method",key:w},N(m(y.ProblemName)),1))),128))]),_:1})]),_:1},8,["value"])),a("div",null,[s.value.HasProblems?(d(),P(e(A),{key:0,tableStyle:"min-width: 50rem",filters:"filters",value:s.value.Problems},{default:n(()=>[t(e(l),{headerClass:"!bg-primary-900",field:"ProblemName",header:"Probelma"},{body:n(o=>[a("p",null,N(o.data.ProblemName),1)]),_:1}),t(e(l),{headerClass:"!bg-primary-900",field:"Other",header:"Descripcion"},{body:n(o=>[a("p",{innerHTML:o.data.Other},null,8,ke)]),_:1})]),_:1},8,["value"])):g("",!0)]),a("div",Ne,[Oe,H(),a("span",{innerHTML:i(s.value.Comments)},null,8,we)])]),t(e(O),{label:"Cerrar",onClick:h,class:"!py-2 !border-none !px-10 !bg-primary-900 float-right mt-5"})]),_:1}))}};const $e=a("h1",{class:"mb-3 text-primary-900 font-inter font-semibold text-xl"},[a("i",{class:"pi pi-info-circle !text-xl rotate-180"}),H(" Realizar observación ")],-1),Se={class:"mt-4"},Te=a("p",{class:"mb-3"},"Por favor realizar observación",-1),He={__name:"DialogAddObservation",props:{order:Object,disabled:Boolean},setup(_,{emit:f}){const c=_,{showToast:s}=Y.setup(),{showConfirm:h}=Z.setup(),m=K(),i=v(null),r=v(c.disabled),u=v(!1),o=v([]),y=()=>{i.value=null,r.value=!0};V(i,()=>{u.value=!!w(i.value).trim(),r.value=!u.value});const w=x=>new DOMParser().parseFromString(x,"text/html").body.innerText;V(()=>c.order,x=>{o.value=x,i.value=null,r.value=!0});const M=async()=>{if(r.value=!0,await h())try{const C={orderId:c.order.id,responsible:T.RESPONSIBLE_CDA,observation:i.value};let k=await m.addObservation(C);f("visible",{visibleReport:!1}),k.status==="success"&&(i.value=null,r.value=!0),s({status:k.status,message:k.message})}catch(C){C.response&&s({status:C.response.data.status,message:C.response.data.message})}else r.value=!1,s({status:"info",message:"Proceso cancelado"})};return(x,C)=>(d(),P(e(z),{modal:"",header:" ",style:{width:"70vw"},"onUpdate:visible":y},{default:n(()=>[a("div",null,[$e,a("div",Se,[Te,t(e(oe),{class:"custom-editor",modelValue:i.value,"onUpdate:modelValue":C[0]||(C[0]=k=>i.value=k),editorStyle:"height: 80px"},null,8,["modelValue"])])]),t(e(O),{label:"Enviar",disabled:r.value,onClick:M,class:"!py-2 !border-none !px-10 !bg-primary-900 float-right mt-5"},null,8,["disabled"])]),_:1}))}};function ae(_){const c=v(_.value.filter(u=>u.MethodShippingId===1)),s=v(_.value.filter(u=>u.MethodShippingId!==1)),h=v(s.value),m=v(c.value);V(()=>_.value,u=>{c.value=u.filter(o=>o.MethodShippingId===1).sort((o,y)=>new Date(y.updateApp)-new Date(o.updateApp)),s.value=u.filter(o=>o.MethodShippingId!==1).sort((o,y)=>new Date(y.updated_at)-new Date(o.updated_at)),h.value=s.value,m.value=c.value});const i=u=>{s.value=r(h.value,u),c.value=r(m.value,u)};function r(u,o){return u.filter(y=>y.DocNum.toString().includes(o.value.toString())||y.Customer.CardName.toLowerCase().includes(o.value.toLowerCase()))}return{ordersHere:c,ordersPickupAndDelivery:s,allOrdersPickupAndDelivery:h,allOrdersHere:m,search:i}}function re(){const _=v(!1),f=v({}),c=v("");return{visible:_,selectedOrder:f,currentDialog:c,openDialog:(m,i)=>{c.value=m,_.value=!0,f.value={...i}},closeDialog:({value:m})=>{m||(f.value={},_.value=_.visible)}}}const Me={class:"flex justify-between"},Ie=a("div",null,[a("h1",{class:"mb-2 text-primary-900 font-inter font-semibold text-2xl"}," Notas de venta ")],-1),Le={key:0},Re=a("h2",{class:"mb-4 text-primary-900 font-inter font-semibold text-xl"}," Aquí ",-1),Ee={class:"flex"},Ve={key:1},Ae=a("div",null,[a("h2",{class:"mb-4 text-primary-900 font-inter font-semibold text-xl"}," Retiro / Despacho ")],-1),Fe={class:"flex"},Ue={key:6,style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"}},Be=a("h1",{class:"align-center font-inter font-semibold mb-4 text-2xl text-center text-primary-900"}," No se han encontrado ordenes ",-1),Ge=[Be],ze={__name:"ToManage",props:{ListOrders:Array,search:String},setup(_){const f=_,{showToast:c}=Y.setup(),{showConfirm:s}=Z.setup(),h=K(),{ListOrders:m}=W(f),i=v(!1),{visible:r,selectedOrder:u,currentDialog:o,openDialog:y,closeDialog:w}=re(),{ordersHere:M,ordersPickupAndDelivery:x,allOrdersPickupAndDelivery:C,allOrdersHere:k,search:R}=ae(m);G(()=>{i.value=!0});const b=L=>{console.log(L),L.type===T.METHOD_SHIPPING_HERE?M.value=L.orders:x.value=L.orders},F=v(!1),j=async(L,$=1)=>{if(await s())try{const S={orderId:L.id,action:$,responsible:T.RESPONSIBLE_CDA,problems:null,other:null,orderItemsProblem:null};let q=await h.processOrderAction(S);c({status:q.status,message:q.message})}catch(S){S.response&&c({status:S.response.data.status,message:S.response.data.message})}else c({status:"info",message:"Proceso cancelado"})};return(L,$)=>(d(),D(U,null,[a("div",Me,[Ie,t(X,{onSearch:e(R)},null,8,["onSearch"])]),e(M).length>0?(d(),D("div",Le,[Re,a("div",Ee,[i.value?(d(),P(B,{key:0,typeOrders:e(T).METHOD_SHIPPING_HERE,allOrders:e(k),onFilter:b},null,8,["typeOrders","allOrders"])):g("",!0)]),t(e(A),{class:"mb-20",value:e(M),tableStyle:"min-width: 50rem",filters:"filters",paginator:"",rowsPerPageOptions:[5,10,20,50],rows:5,dataKey:"id",filterDisplay:"row",loading:F.value,paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} a {last} de {totalRecords}"},{default:n(()=>[t(e(l),{headerClass:"!bg-primary-900",sortable:"",field:"DocNum",header:"Nota de venta"},{body:n(p=>[H(" N° "+N(p.data.DocNum),1)]),_:1}),t(e(l),{headerClass:"!bg-primary-900",sortable:"",field:"DocDate",header:"Fecha"}),t(e(l),{headerClass:"!bg-primary-900",sortable:"",field:"DocTime",header:"Hora"}),t(e(l),{headerClass:"!bg-primary-900",sortable:"",field:"Customer.CardName",header:"Cliente"}),t(e(l),{headerClass:"!bg-primary-900",sortable:"",field:"DocTotal",header:"Monto total"}),t(e(l),{headerClass:"!bg-primary-900",sortable:"",field:"MethodShippingName",header:"Método entrega"},{body:n(p=>[t(e(I),{Tag:"",icon:"pi pi-shopping-cart",value:p.data.MethodShippingName,rounded:"",class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),_:1}),t(e(l),{headerClass:"!bg-primary-900",field:"note",header:" Observación"},{body:n(p=>[t(e(O),{icon:"pi pi-eye",onClick:S=>e(y)("observation",p.data),class:"!font-normal !text-primary-900",label:"Ver observación",link:""},null,8,["onClick"])]),_:1}),t(e(l),{headerClass:"!bg-primary-900",field:"note",header:""},{body:n(p=>[t(e(O),{onClick:S=>j(p.data,3),label:"Informado",class:"!py-1.5 !border-primary-900 !text-primary-900",outlined:""},null,8,["onClick"])]),_:1})]),_:1},8,["value","loading"])])):g("",!0),e(x).length>0?(d(),D("div",Ve,[Ae,a("div",Fe,[i.value?(d(),P(B,{key:0,allOrders:e(C),typeOrders:e(T).METHOD_SHIPPING_PICKUP_AND_DELIVERY,onFilter:b},null,8,["allOrders","typeOrders"])):g("",!0)]),t(e(A),{value:e(x),tableStyle:"min-width: 50rem",filters:"filters",paginator:"",rowsPerPageOptions:[5,10,20,50],rows:5,dataKey:"id",filterDisplay:"row",loading:F.value,paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} a {last} de {totalRecords}"},{default:n(()=>[t(e(l),{headerClass:"!bg-primary-900",field:"DocNum",header:"Nota de venta",sortable:""},{body:n(p=>[H(" N° "+N(p.data.DocNum),1)]),_:1}),t(e(l),{headerClass:"!bg-primary-900",sortable:"",field:"DocDate",header:"Fecha"}),t(e(l),{headerClass:"!bg-primary-900",sortable:"",field:"DocTime",header:"Hora"}),t(e(l),{headerClass:"!bg-primary-900",sortable:"",field:"Customer.CardName",header:"Cliente"}),t(e(l),{headerClass:"!bg-primary-900",sortable:"",field:"DocTotal",header:"Monto total"}),t(e(l),{headerClass:"!bg-primary-900",sortable:"",field:"MethodShippingName",header:"Método entrega"},{body:n(p=>[t(e(I),{Tag:"",icon:p.data.MethodShippingId===e(T).METHOD_SHIPPING_PICKUP_ID?"pi pi-home":"pi pi-truck",value:p.data.MethodShippingName,rounded:"",class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["icon","value"])]),_:1}),t(e(l),{headerClass:"!bg-primary-900",field:"note",header:"Documentos"},{body:n(p=>[t(e(O),{icon:"pi pi-eye",onClick:S=>e(y)("detail",p.data),class:"!font-normal !text-primary-900",label:"Ver documentos",link:""},null,8,["onClick"])]),_:1}),t(e(l),{headerClass:"!bg-primary-900",field:"note",header:""},{body:n(p=>[t(e(O),{label:"Rechazar",onClick:S=>e(y)("reportProblem",p.data),class:"!py-1.5 mr-3 !border-primary-900 !text-primary-900",outlined:""},null,8,["onClick"]),t(e(O),{label:"Autorizar",onClick:S=>j(p.data,1),class:"!py-1.5 !border-primary-900 !text-primary-900 mr-3",outlined:""},null,8,["onClick"])]),_:1})]),_:1},8,["value","loading"])])):g("",!0),e(o)==="detail"?(d(),P(ee,{key:2,visible:e(r),"onUpdate:visible":$[0]||($[0]=p=>E(r)?r.value=p:null),order:e(u),onVisible:e(w)},null,8,["visible","order","onVisible"])):g("",!0),e(o)==="observation"?(d(),P(te,{key:3,visible:e(r),"onUpdate:visible":$[1]||($[1]=p=>E(r)?r.value=p:null),order:e(u),onVisible:e(w)},null,8,["visible","order","onVisible"])):g("",!0),e(o)==="reportProblem"?(d(),P(ie,{key:4,visible:e(r),"onUpdate:visible":$[2]||($[2]=p=>E(r)?r.value=p:null),typeProblems:e(T).RESPONSIBLE_CDA,order:e(u),onVisible:e(w)},null,8,["visible","typeProblems","order","onVisible"])):g("",!0),e(o)==="addObservation"?(d(),P(He,{key:5,visible:e(r),"onUpdate:visible":$[3]||($[3]=p=>E(r)?r.value=p:null),typeProblems:e(T).RESPONSIBLE_CDA,order:e(u),disabled:!0,onVisible:e(w)},null,8,["visible","typeProblems","order","onVisible"])):g("",!0),e(M).length===0&&e(x).length===0?(d(),D("div",Ue,Ge)):g("",!0)],64))}},Ke={class:"flex justify-between"},je=a("div",null,[a("h1",{class:"mb-2 text-primary-900 font-inter font-semibold text-2xl"}," Notas de venta ")],-1),qe={key:0},Qe=a("h2",{class:"mb-4 text-primary-900 font-inter font-semibold text-xl"}," Aquí ",-1),Ye={class:"flex"},Je={key:1},We=a("div",null,[a("h2",{class:"mb-4 text-primary-900 font-inter font-semibold text-xl"}," Retiro / Despacho ")],-1),Xe={class:"flex"},Ze={key:4,style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"}},et=a("h1",{class:"align-center font-inter font-semibold mb-4 text-2xl text-center text-primary-900"}," No se han encontrado ordenes ",-1),tt=[et],at={__name:"Managed",props:{ListOrders:Array,search:String},setup(_){const f=_,{ListOrders:c}=W(f),{visible:s,selectedOrder:h,currentDialog:m,openDialog:i,closeDialog:r}=re(),{ordersHere:u,ordersPickupAndDelivery:o,allOrdersPickupAndDelivery:y,allOrdersHere:w,search:M}=ae(c),x=k=>{k.type===T.METHOD_SHIPPING_HERE?u.value=k.orders:o.value=k.orders},C=v(!1);return(k,R)=>(d(),D(U,null,[a("div",Ke,[je,t(X,{onSearch:e(M)},null,8,["onSearch"])]),e(u).length>0?(d(),D("div",qe,[Qe,a("div",Ye,[t(B,{typeOrders:"Here",allOrders:e(w),onFilter:x},null,8,["allOrders"])]),t(e(A),{class:"mb-20",value:e(u),tableStyle:"min-width: 50rem",filters:"filters",paginator:"",rowsPerPageOptions:[5,10,20,50],rows:5,dataKey:"id",filterDisplay:"row",loading:C.value,paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} a {last} de {totalRecords}"},{default:n(()=>[t(e(l),{headerClass:"!bg-primary-900",field:"DocNum",header:"Nota de venta"},{body:n(b=>[H(" N° "+N(b.data.DocNum),1)]),_:1}),t(e(l),{headerClass:"!bg-primary-900",sortable:"",field:"DocDate",header:"Fecha"}),t(e(l),{headerClass:"!bg-primary-900",sortable:"",field:"DocTime",header:"Hora"}),t(e(l),{headerClass:"!bg-primary-900",sortable:"",field:"Customer.CardName",header:"Cliente"}),t(e(l),{headerClass:"!bg-primary-900",sortable:"",field:"DocTotal",header:"Monto total"}),t(e(l),{headerClass:"!bg-primary-900",sortable:"",field:"MethodShippingName",header:"Método entrega"},{body:n(b=>[t(e(I),{Tag:"",icon:"pi pi-shopping-cart",value:b.data.MethodShippingName,rounded:"",class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),_:1}),t(e(l),{headerClass:"!bg-primary-900",field:"note",header:"Observación"},{body:n(b=>[t(e(O),{icon:"pi pi-eye",onClick:F=>e(i)("observation",b.data),class:"!font-normal !text-primary-900",label:"Ver observación",link:""},null,8,["onClick"])]),_:1})]),_:1},8,["value","loading"])])):g("",!0),e(o).length>0?(d(),D("div",Je,[We,a("div",Xe,[t(B,{typeOrders:e(T).METHOD_SHIPPING_PICKUP_AND_DELIVERY,allOrders:e(y),onFilter:x},null,8,["typeOrders","allOrders"])]),t(e(A),{value:e(o),tableStyle:"min-width: 50rem",filters:"filters",paginator:"",rowsPerPageOptions:[5,10,20,50],rows:5,dataKey:"id",filterDisplay:"row",loading:C.value,paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} a {last} de {totalRecords}"},{default:n(()=>[t(e(l),{headerClass:"!bg-primary-900",field:"DocNum",header:"Nota de venta",sortable:""},{body:n(b=>[H(" N° "+N(b.data.DocNum),1)]),_:1}),t(e(l),{headerClass:"!bg-primary-900",sortable:"",field:"DocDate",header:"Fecha"}),t(e(l),{headerClass:"!bg-primary-900",sortable:"",field:"DocTime",header:"Hora"}),t(e(l),{headerClass:"!bg-primary-900",sortable:"",field:"Customer.CardName",header:"Cliente"}),t(e(l),{headerClass:"!bg-primary-900",sortable:"",field:"DocTotal",header:"Monto total"}),t(e(l),{headerClass:"!bg-primary-900",sortable:"",field:"MethodShippingName",header:"Método entrega"},{body:n(b=>[t(e(I),{Tag:"",icon:"pi pi-shopping-cart",value:b.data.MethodShippingName,rounded:"",class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),_:1}),t(e(l),{headerClass:"!bg-primary-900",field:"note",header:"Documentos"},{body:n(b=>[t(e(O),{icon:"pi pi-eye",onClick:F=>e(i)("detail",b.data),class:"!font-normal !text-primary-900",label:"Ver documentos",link:""},null,8,["onClick"])]),_:1}),t(e(l),{headerClass:"!bg-primary-900",field:"note",header:" Observación"},{body:n(b=>[b.data.HasProblems?(d(),P(e(O),{key:0,icon:"pi pi-eye",onClick:F=>e(i)("observation",b.data),class:"!font-normal !text-primary-900",label:"Ver observación",link:""},null,8,["onClick"])):g("",!0)]),_:1})]),_:1},8,["value","loading"])])):g("",!0),e(m)==="detail"?(d(),P(ee,{key:2,visible:e(s),"onUpdate:visible":R[0]||(R[0]=b=>E(s)?s.value=b:null),order:e(h),onVisible:e(r)},null,8,["visible","order","onVisible"])):g("",!0),e(m)==="observation"?(d(),P(te,{key:3,visible:e(s),"onUpdate:visible":R[1]||(R[1]=b=>E(s)?s.value=b:null),order:e(h),onVisible:e(r)},null,8,["visible","order","onVisible"])):g("",!0),e(u).length===0&&e(o).length===0?(d(),D("div",Ze,tt)):g("",!0)],64))}};const rt={class:"px-3"},st={key:0,class:"text-center",style:{color:"#259bd7"}},lt=a("i",{class:"pi pi-spin pi-spinner",style:{"font-size":"2rem"}},null,-1),ot=[lt],_t={__name:"SalesNotes",setup(_){const f=K(),c=v([]),s=v([]),h=v(!1),m=()=>{c.value=f.orders.filter(i=>i.is_managed==!1||i.MethodShippingId===1&&i.is_managed==!1).sort((i,r)=>new Date(r.updated_at)-new Date(i.updated_at)),s.value=f.orders.filter(i=>i.is_managed==!0).sort((i,r)=>new Date(r.updated_at)-new Date(i.updated_at)),h.value=!0};return G(async()=>{await f.getOrdersCda(),m(),V(f.orders,()=>{m()})}),(i,r)=>(d(),D(U,null,[a("div",rt,[t(e(se),null,{default:n(()=>[t(e(Q),{header:"Por gestionar"},{default:n(()=>[h.value?g("",!0):(d(),D("div",st,ot)),h.value?(d(),P(ze,{key:1,ListOrders:c.value},null,8,["ListOrders"])):g("",!0)]),_:1}),t(e(Q),{header:"Gestionadas"},{default:n(()=>[h.value?(d(),P(at,{key:0,ListOrders:s.value},null,8,["ListOrders"])):g("",!0)]),_:1})]),_:1})]),t(e(le))],64))}};export{_t as default};
