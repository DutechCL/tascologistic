import{s as b,a as k}from"./tabpanel.esm-8a07d509.js";import{_ as v,T as N}from"./ToastMixin-2fb782ed.js";import{s as i,a as g,b as w}from"./tag.esm-b220e9fa.js";import{e as m,q as x,r as P,o as l,k as C,w as o,a as e,u as t,i as h,t as D,h as s,s as $,c,p as u,F as y,x as L}from"./index-f78c98d3.js";import{u as T}from"./chat-2875bea7.js";import"./ordersCda-97783f13.js";import"./index.esm-fd796cca.js";import"./OrdersApiService-38185882.js";import"./ApiService-2ed735c3.js";const S={class:"flex gap-2"},V={__name:"DataTableListOrders",props:{data:Array},setup(_){const r=_,a=m([]);return x(()=>{a.value=r.data}),(n,p)=>{const f=P("router-link");return l(),C(t(w),{tableStyle:"min-width: 50rem",value:a.value,rowsPerPageOptions:[5,10,20,50],rows:5,onPage:n.getData,paginator:"",dataKey:"id",filterDisplay:"row",paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} a {last} de {totalRecords}"},{default:o(()=>[e(t(i),{headerClass:"!bg-primary-900",sortable:"",field:"DocNum",header:"Nota de venta"},{body:o(d=>[h(" N° "+D(d.data.order.DocNum),1)]),_:1}),e(t(i),{headerClass:"!bg-primary-900",sortable:"",field:"order.Customer.CardName",header:"Cliente",style:{"max-width":"300px"}}),e(t(i),{headerClass:"!bg-primary-900",sortable:"",field:"order.Customer.CardCode",header:"Rut",style:{"max-width":"300px"}}),e(t(i),{headerClass:"!bg-primary-900",sortable:"",field:"order.MethodShippingName",header:"Método entrega"},{body:o(d=>[e(t(g),{Tag:"",value:d.data.order.MethodShippingName,rounded:"",class:"tag-radius tag-rounded-blue tag-font-method"},null,8,["value"])]),_:1}),e(t(i),{headerClass:"!bg-primary-900",sortable:"",field:"order.MethodShippingName",header:"Desde"},{body:o(d=>[e(t(g),{value:d.data.order.report_user_responsibles==="cda"?"CDA":"Bodega",class:"p-tag-1 tag-font-method tag-radius"},null,8,["value"])]),_:1}),e(t(i),{headerClass:"!bg-primary-900",sortable:"",field:"order.SalesEmployeeName",header:"Vendedor"}),e(t(i),{headerClass:"!bg-primary-900",sortable:"",field:"order.report_user_name",header:"Informador"}),e(t(i),{headerClass:"!bg-primary-900",field:"note",header:""},{body:o(d=>[s("div",S,[e(f,{to:{name:"show-chat",params:{id:d.data.chat.id}},class:"!border-primary-900 !text-primary-900 btn-custom-table"},{default:o(()=>[h("Revisar")]),_:2},1032,["to"]),e(t($),{class:"!p-button p-component p-button-outlined !py-1.5 !border-primary-900 !text-primary-900 btn-custom-table",label:"Resuelto"})])]),_:1})]),_:1},8,["value","onPage"])}}};const O={class:"flex justify-between"},R={class:"flex mb-5 mt-10",style:{height:"50px"}},B=s("h1",{class:"mb-2 text-primary-900 font-inter font-semibold text-2xl"}," Incidencias en notas de venta ",-1),M={key:0,class:"text-center",style:{color:"#259bd7"}},j=s("i",{class:"pi pi-spin pi-spinner",style:{"font-size":"2rem"}},null,-1),A=[j],F={key:2,style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"}},H=s("h1",{class:"align-center font-inter font-semibold mb-4 text-2xl text-center text-primary-900"}," No se han encontrado ordenes ",-1),I=[H],E={__name:"ChatActive",setup(_){const r=T(),a=m([]),n=m(!0);return x(async()=>{await r.getOrders().then(p=>{a.value=p,n.value=!1})}),(p,f)=>(l(),c(y,null,[s("div",O,[s("div",R,[B,e(t($),{label:"Descargar",icon:"pi pi-download",class:"ml-5 !p-button p-component !bg-primary-900 !py-1 !border-primary-900 !text-white btn-custom",onClick:p.updateOrders},null,8,["onClick"])]),e(v,{type:p.typeSearch,data:a.value},null,8,["type","data"])]),n.value?(l(),c("div",M,A)):u("",!0),a.value.length>0?(l(),C(V,{key:1,data:a.value},null,8,["data"])):u("",!0),a.value.length===0?(l(),c("div",F,I)):u("",!0)],64))}};const q={class:"flex justify-between"},z={class:"mb-2 text-primary-900 font-inter font-semibold text-2xl"},K=s("i",{class:"pi pi-refresh"},null,-1),U=[K],G={key:2,style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"}},J=s("h1",{class:"align-center font-inter font-semibold mb-4 text-2xl text-center text-primary-900"}," No se han encontrado ordenes ",-1),Q=[J],W={__name:"ChatHistory",setup(_){return(r,a)=>(l(),c(y,null,[s("div",q,[s("div",null,[s("h1",z,[h(" Notas de venta "),s("a",{style:{cursor:"pointer"},onClick:a[0]||(a[0]=(...n)=>r.updateOrders&&r.updateOrders(...n))},U)])]),e(v,{type:r.typeSearch,orders:r.orders},null,8,["type","orders"])]),u("",!0),u("",!0),(l(),c("div",G,Q))],64))}};const X={class:"px-3"},ie={__name:"ListChats",setup(_){return N.setup(),(r,a)=>(l(),c(y,null,[s("div",X,[e(t(k),{modelValue:r.selectedTab,"onUpdate:modelValue":a[0]||(a[0]=n=>r.selectedTab=n)},{default:o(()=>[e(t(b),{header:"Incidencias en notas de venta"},{default:o(()=>[e(E)]),_:1}),e(t(b),{header:"Históricos"},{default:o(()=>[e(W)]),_:1})]),_:1},8,["modelValue"])]),e(t(L))],64))}};export{ie as default};
