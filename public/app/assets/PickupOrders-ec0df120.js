import{e as b,v as O,q as x,o as c,c as d,h as i,i as k,a as n,u as t,k as B,p as u,F as w,s as D,x as P}from"./index-e48090bd.js";import{T as E,C as N,_ as S,c as p}from"./ConfirmMixin-069ed224.js";import{u as C,_ as M,a as H}from"./DataTableOrders-d41d0e97.js";import"./tag.esm-530d0559.js";import"./index.esm-197290c2.js";import"./OrdersApiService-d43d1747.js";import"./ApiService-1b1c4f2d.js";import"./FilterMultiSelect-b55c58ae.js";import"./index.esm-523a4420.js";import"./index-dd28ee9b.js";const R={class:"px-8"},T={class:"flex justify-between"},V=i("i",{class:"pi pi-refresh"},null,-1),A=[V],I={key:1,style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"}},$=i("h1",{class:"align-center font-inter font-semibold mb-4 text-2xl text-center text-primary-900"}," No hay ordenes actualmente en este proceso ",-1),X={__name:"PickupOrders",setup(L){const{showToast:a}=E.setup(),{showConfirm:m}=N.setup(),e=C(),r=b([]),_=async()=>{await e.getOrdersBillPickupAndHere(),a({status:"success",message:"Ordenes actualizadas",time:3e3})};O(()=>e.listOrders,s=>{r.value=e.listOrders});const h=s=>{r.value=s.orders},f=s=>{switch(s.method){case"showDetailOrder":e.showDetailOrder(s.order);break;case"processOrderBiller":g(s);break}},g=async s=>{try{if(await m()){let l=await e.processOrderBiller(s);l.status==="success"&&a({status:"success",message:l.message})}else a({status:"info",message:"Proceso cancelado"})}catch(o){console.log(o),a({status:"error",message:o.response.data.message})}},v=s=>{e.visibleDialog=s.visibleDetails};x(async()=>{await e.getOrdersBillPickupAndHere(),r.value=e.listOrders});const y=()=>{r.value.length===0&&(window.location.href="/admin/dashboard/")};return(s,o)=>(c(),d(w,null,[i("div",R,[i("div",T,[i("h1",{class:"mb-4 text-primary-900 font-inter font-semibold text-2xl"},[k(" Retira / AquÃ­ "),i("a",{style:{cursor:"pointer"},onClick:_},A)]),n(S,{type:t(p).RESPONSIBLE_BILLER,methodShipping:t(p).METHOD_SHIPPING_HERE,orders:t(e).listOrders,onSearch:h},null,8,["type","methodShipping","orders"])]),n(M,{orders:r.value,actions:s.actions,onAction:f},null,8,["orders","actions"]),t(e).visibleDialog?(c(),B(H,{key:0,visible:t(e).visibleDialog,"onUpdate:visible":o[0]||(o[0]=l=>t(e).visibleDialog=l),orderDetails:t(e).order,onVisible:v},null,8,["visible","orderDetails"])):u("",!0),r.value.length===0?(c(),d("div",I,[$,n(t(D),{label:"Regresar",severity:"primary",outlined:"",onClick:y,class:"ml-3 !py-1.5"})])):u("",!0)]),n(t(P))],64))}};export{X as default};
