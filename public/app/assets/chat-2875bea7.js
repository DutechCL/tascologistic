import{y as r}from"./index-f78c98d3.js";import{p as n,g as a}from"./ApiService-2ed735c3.js";const o=r("chat",{state:()=>({}),getters:{},actions:{async sendMessage(t){return await n("api/v1/chat/send-message/",t)},async getMessages(t){return await a(`api/v1/chat/get-message/${t}`)},async getUser(){return await a("api/v1/chat/get-user/")},async getOrders(){return await a("api/v1/chat/get-orders/")},async showChat(t){return await a(`api/v1/chat/show/${t}`)}}}),c=r("notification",{state:()=>({notifications:0}),actions:{incrementNotifications(){this.notifications++,this.playNotificationSound()},resetNotifications(){this.notifications=0},playNotificationSound(){new Audio("/sound/notification.mp3").play()}}}),i=c(),s=o(),h=r("useChat",{state:()=>({listChat:[],listMessages:[],currentChat:{},currentUser:{},currentOrder:{},loadingOrder:!1}),getters:{messages:t=>t.listMessages,user:t=>t.currentUser,order:t=>t.currentOrder,current:t=>t.currentChat},actions:{async sendMessage(t){return await s.sendMessage(t)},async getMessages(t){let e=await s.getMessages(t);return this.listMessages=e.data,e.data},async getUser(){let t=await s.getUser();return this.currentUser=t.data,t.data},async getOrders(){let t=await s.getOrders();return this.currentOrder=t.data,t.data},async showChat(t){let e=await s.showChat(t);return this.listMessages=e.data.messages,this.currentOrder=e.data.order,this.currentChat=e.data,this.loadingOrder=!0,e.data},addMessage(t){this.listMessages.push(t),i.incrementNotifications(),this.currentUser.id!==t.user.id&&i.incrementNotifications()},currentChat(t){this.currentChat=t}}});export{c as a,h as u};
