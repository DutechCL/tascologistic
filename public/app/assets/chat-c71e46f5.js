import{y as r}from"./index-852b062b.js";import{p as i,g as a}from"./ApiService-2cf7f6a7.js";const n=r("chat",{state:()=>({}),getters:{},actions:{async sendMessage(e){return await i("api/v1/chat/send-message/",e)},async getMessages(e){return await a(`api/v1/chat/get-message/${e}`)},async getUser(){return await a("api/v1/chat/get-user/")},async getOrders(){return await a("api/v1/chat/get-orders/")},async getResolve(){return await a("api/v1/chat/get-resolve/")},async showChat(e){return await a(`api/v1/chat/show/${e}`)},async resolveOrder(e){return await a(`api/v1/chat/resolve/${e}`)}}}),o=r("notification",{state:()=>({notifications:0}),actions:{incrementNotifications(){this.notifications++,this.playNotificationSound()},resetNotifications(){this.notifications=0},playNotificationSound(){new Audio("/sound/notification.mp3").play()}}});o();const s=n(),d=r("useChat",{state:()=>({listChat:[],listChatResolve:[],listMessages:[],currentChat:{},currentUser:{},currentOrder:{},loadingOrder:!1,csrf:""}),getters:{messages:e=>e.listMessages,user:e=>e.currentUser,order:e=>e.currentOrder,current:e=>e.currentChat,resolve:e=>e.listChatResolve},actions:{async sendMessage(e){return await s.sendMessage(e)},async getMessages(e){let t=await s.getMessages(e);return this.listMessages=t.data,t.data},async getUser(){let e=await s.getUser();return this.currentUser=e.data.user,this.csrf=e.data.csrf,e.data},async getOrders(){let e=await s.getOrders();return this.currentOrder=e.data,e.data},async getResolve(){let e=await s.getResolve();return this.listChatResolve=e.data,e.data},async showChat(e){let t=await s.showChat(e);return this.listMessages=t.data.messages,this.currentOrder=t.data.order,this.currentChat=t.data,this.loadingOrder=!0,t.data},async resolveOrder(e){return await s.resolveOrder(e)},addMessage(e){this.listMessages.push(e)},currentChat(e){this.currentChat=e}}});export{o as a,d as u};
